var Gt=Object.defineProperty,Ut=Object.defineProperties;var Rt=Object.getOwnPropertyDescriptors;var Je=Object.getOwnPropertySymbols;var Yt=Object.prototype.hasOwnProperty,Zt=Object.prototype.propertyIsEnumerable;var Qe=(a,e,t)=>e in a?Gt(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,Ce=(a,e)=>{for(var t in e||(e={}))Yt.call(e,t)&&Qe(a,t,e[t]);if(Je)for(var t of Je(e))Zt.call(e,t)&&Qe(a,t,e[t]);return a},Xe=(a,e)=>Ut(a,Rt(e));import{X as Jt,S as ne,i as ie,s as se,e as y,k as P,c as D,a as S,m as j,d as h,b as k,g as E,H as p,t as T,h as V,Q as B,R as le,j as G,l as K,N as ue,w as q,x as U,y as F,q as N,o as z,B as W,F as pe,f as A,n as Q,p as X,J as ke,K as we,L as Ee,r as Pe,W as Le,Y as Ke,G as Fe,I as Ct,v as Qt,Z as He,_ as Ye,$ as Xt,D as $t,V as Nt,a0 as xt,U as en,a1 as qe,O as Ae,a2 as ln,a3 as tn,T as zt,a4 as $e,a5 as nn,a6 as At,a7 as Tt}from"../chunks/vendor-1d3e28d6.js";import{a as Vt,b as xe}from"../chunks/paths-396f020f.js";import{l as je,c as Se,d as Pt,v as Ge,a as el,t as sn,b as an,s as fn,p as on,m as rn,e as me}from"../chunks/config-d3ca6f6b.js";import{c as Te}from"../chunks/singletons-d1fb5791.js";const jt="https://ftb-api-ext.ons.sensiblecode.io/graphql",un=`
fragment tableDimensions on Table {
  dimensions {
    categories {
      code
    }
  }
}
`.replace(/\s+/g," "),cn="YWhtYWQuYmFyY2xheTplbG9wZS5wdWNrLmhhaWxzLmV4cGxvcmU=",Lt=new Headers({Accept:"application/json","Content-Type":"application/json",Authorization:"Basic "+cn});async function Kt(a,e=[],t=window.fetch){let l=e[0]?[...e].sort((v,g)=>v.topic.localeCompare(g.topic)):[...e],n=[],i=[],s=[],f=[];l[0]&&l.forEach(v=>{v.var&&(n.push(v.var),i.push(`{variable: "${v.var}", codes: ["${v.code}"]}`),v.topic!="age group"&&(s.push(v.var),f.push(`{variable: "${v.var}", codes: ["${v.code}"]}`)))}),n=n[0]?'"'+n.join('","')+'",':"",i=i[0]?"["+i.join(",")+"]":"[]",s=s[0]?'"'+s.join('","')+'",':"",f=f[0]?"["+f.join(",")+"]":"[]";let o=[];a.forEach(v=>{let g=[];v.tables.forEach(m=>{g.push(`
      ${m.key}: table(
        variables: [${m.key=="age"?s:n}"${m.code}"]
        filters: ${m.key=="age"?f:i}
      )
      {
        values
      }
      `)});let b=`
    ${v.key}: dataset(name:"${v.code}") {
      ${g.join(`
`)}
    }
    `;o.push(b)});const r=`
  query {
    ${o.join(`
`)}
  }
  `.replace(/\s+/g," "),u={body:JSON.stringify({query:r}),headers:Lt,method:"POST",mode:"cors"};let _=await(await t(jt,u)).json(),d=l.filter(v=>v.topic=="age group");if(d[0]&&_.data.residents.age.values){let v=[..._.data.residents.age.values],g=d[0].code.split("-");g.forEach((b,m)=>g[m]=+b),v.forEach((b,m)=>v[m]=m>=g[0]&&m<=g[1]?b:0),_.data.residents.age.values=v}return _}async function Mt(a=[],e=window.fetch){let t=a[0]?[...a].sort((u,c)=>u.topic.localeCompare(c.topic)):[...a],l=[],n=[];t[0]&&t.forEach(u=>{u.var&&(l.push(u.var),n.push(`{variable: "${u.var}", codes: ["${u.code}"]}`))});let i=l[0]?'"'+l.join('","')+'",':"";n=n[0]?"["+n.join(",")+"]":"[]";const s=`
  query {
    dataset(name:"Usual-Residents") {
      table(
        variables: ["LA"${i}]
        filters: ${n}
      )
      {
        ...tableDimensions
        values
      }
    }
  }
  `.replace(/\s+/g," "),f={body:JSON.stringify({query:s+un}),headers:Lt,method:"POST",mode:"cors"};return await(await e(jt,f)).json()}function _n(a,e,t){for(let l=1;l<e.length;l++)if(a<=e[l])return t[l-1]}async function hn(a,e,t=window.fetch){let n=await(await t(a)).json();return await Jt(n,e)}function de(a){return a.charAt(0).toUpperCase()+a.slice(1)}function Re(a){return a?a.reduce((e,t)=>e+t):0}function ye(a){return(a?a.slice(0,-1).reduce((t,l)=>t+l):0)==0}Te.disable_scroll_handling;const ll=Te.goto;Te.invalidate;Te.prefetch;Te.prefetch_routes;Te.before_navigate;const dn=Te.after_navigate;function tl(a,e,t){const l=a.slice();return l[2]=e[t],l}function mn(a){let e=a[2].label+"",t;return{c(){t=T(e)},l(l){t=V(l,e)},m(l,n){E(l,t,n)},p(l,n){n&1&&e!==(e=l[2].label+"")&&G(t,e)},d(l){l&&h(t)}}}function gn(a){let e,t=a[2].label+"",l,n;return{c(){e=y("a"),l=T(t),this.h()},l(i){e=D(i,"A",{class:!0,href:!0});var s=S(e);l=V(s,t),s.forEach(h),this.h()},h(){k(e,"class","breadcrumb__link"),k(e,"href",n=a[2].url)},m(i,s){E(i,e,s),p(e,l)},p(i,s){s&1&&t!==(t=i[2].label+"")&&G(l,t),s&1&&n!==(n=i[2].url)&&k(e,"href",n)},d(i){i&&h(e)}}}function nl(a){let e,t;function l(s,f){return s[2].url?gn:mn}let n=l(a),i=n(a);return{c(){e=y("li"),i.c(),t=P(),this.h()},l(s){e=D(s,"LI",{class:!0});var f=S(e);i.l(f),t=j(f),f.forEach(h),this.h()},h(){k(e,"class","breadcrumb__item")},m(s,f){E(s,e,f),i.m(e,null),p(e,t)},p(s,f){n===(n=l(s))&&i?i.p(s,f):(i.d(1),i=n(s),i&&(i.c(),i.m(e,t)))},d(s){s&&h(e),i.d()}}}function vn(a){let e,t,l,n,i,s,f,o,r=a[0],u=[];for(let c=0;c<r.length;c+=1)u[c]=nl(tl(a,r,c));return{c(){e=y("nav"),t=y("div"),l=y("ol"),n=y("li"),i=y("a"),s=T("Home"),f=P();for(let c=0;c<u.length;c+=1)u[c].c();this.h()},l(c){e=D(c,"NAV",{"aria-label":!0});var _=S(e);t=D(_,"DIV",{class:!0});var d=S(t);l=D(d,"OL",{class:!0});var v=S(l);n=D(v,"LI",{class:!0});var g=S(n);i=D(g,"A",{class:!0,href:!0});var b=S(i);s=V(b,"Home"),b.forEach(h),g.forEach(h),f=j(v);for(let m=0;m<u.length;m+=1)u[m].l(v);v.forEach(h),d.forEach(h),_.forEach(h),this.h()},h(){k(i,"class","breadcrumb__link"),k(i,"href","/"),k(n,"class","breadcrumb__item"),k(l,"class","breadcrumb__list"),k(t,"class",o=(a[1]=="neutral"?"breadcrumb-neutral":"breadcrumb")+" print--hide"),k(e,"aria-label","Breadcrumbs")},m(c,_){E(c,e,_),p(e,t),p(t,l),p(l,n),p(n,i),p(i,s),p(l,f);for(let d=0;d<u.length;d+=1)u[d].m(l,null)},p(c,[_]){if(_&1){r=c[0];let d;for(d=0;d<r.length;d+=1){const v=tl(c,r,d);u[d]?u[d].p(v,_):(u[d]=nl(v),u[d].c(),u[d].m(l,null))}for(;d<u.length;d+=1)u[d].d(1);u.length=r.length}_&2&&o!==(o=(c[1]=="neutral"?"breadcrumb-neutral":"breadcrumb")+" print--hide")&&k(t,"class",o)},i:B,o:B,d(c){c&&h(e),le(u,c)}}}function bn(a,e,t){let{links:l=[]}=e,{mode:n="neutral"}=e;return a.$$set=i=>{"links"in i&&t(0,l=i.links),"mode"in i&&t(1,n=i.mode)},[l,n]}class pn extends ne{constructor(e){super();ie(this,e,bn,vn,se,{links:0,mode:1})}}function il(a,e,t){const l=a.slice();return l[2]=e[t],l}function sl(a){let e,t,l=a[2].label+"",n,i,s,f;return{c(){e=y("li"),t=y("a"),n=T(l),f=P(),this.h()},l(o){e=D(o,"LI",{});var r=S(e);t=D(r,"A",{href:!0,"data-gtm-title":!0,"data-gtm-type":!0});var u=S(t);n=V(u,l),u.forEach(h),f=j(r),r.forEach(h),this.h()},h(){k(t,"href",i=a[2].url),k(t,"data-gtm-title",s=a[2].label),k(t,"data-gtm-type","highlighted-links")},m(o,r){E(o,e,r),p(e,t),p(t,n),p(e,f)},p(o,r){r&2&&l!==(l=o[2].label+"")&&G(n,l),r&2&&i!==(i=o[2].url)&&k(t,"href",i),r&2&&s!==(s=o[2].label)&&k(t,"data-gtm-title",s)},d(o){o&&h(e)}}}function kn(a){let e,t,l,n,i,s=a[1],f=[];for(let o=0;o<s.length;o+=1)f[o]=sl(il(a,s,o));return{c(){e=y("div"),t=y("h2"),l=T(a[0]),n=P(),i=y("ul");for(let o=0;o<f.length;o+=1)f[o].c();this.h()},l(o){e=D(o,"DIV",{class:!0});var r=S(e);t=D(r,"H2",{class:!0});var u=S(t);l=V(u,a[0]),u.forEach(h),n=j(r),i=D(r,"UL",{class:!0});var c=S(i);for(let _=0;_<f.length;_+=1)f[_].l(c);c.forEach(h),r.forEach(h),this.h()},h(){k(t,"class","margin-top-lg--1"),k(i,"class","list--neutral margin-top--negative-one-fix"),k(e,"class","nav-secondary--border-left-lg col col--md-47 col--lg-19 col--lg-offset-2 padding-left margin-top-lg--3")},m(o,r){E(o,e,r),p(e,t),p(t,l),p(e,n),p(e,i);for(let u=0;u<f.length;u+=1)f[u].m(i,null)},p(o,[r]){if(r&1&&G(l,o[0]),r&2){s=o[1];let u;for(u=0;u<s.length;u+=1){const c=il(o,s,u);f[u]?f[u].p(c,r):(f[u]=sl(c),f[u].c(),f[u].m(i,null))}for(;u<f.length;u+=1)f[u].d(1);f.length=s.length}},i:B,o:B,d(o){o&&h(e),le(f,o)}}}function wn(a,e,t){let{title:l="Highlighted content"}=e,{links:n=[]}=e;return a.$$set=i=>{"title"in i&&t(0,l=i.title),"links"in i&&t(1,n=i.links)},[l,n]}class En extends ne{constructor(e){super();ie(this,e,wn,kn,se,{title:0,links:1})}}function al(a,e,t){const l=a.slice();return l[2]=e[t],l}function yn(a){let e,t=a[2].label+"",l;return{c(){e=y("li"),l=T(t),this.h()},l(n){e=D(n,"LI",{class:!0,"aria-current":!0});var i=S(e);l=V(i,t),i.forEach(h),this.h()},h(){k(e,"class","ons-list__item svelte-1dyzlhu"),k(e,"aria-current","true")},m(n,i){E(n,e,i),p(e,l)},p(n,i){i&2&&t!==(t=n[2].label+"")&&G(l,t)},d(n){n&&h(e)}}}function Dn(a){let e,t,l=a[2].label+"",n,i,s;return{c(){e=y("li"),t=y("a"),n=T(l),s=P(),this.h()},l(f){e=D(f,"LI",{class:!0});var o=S(e);t=D(o,"A",{href:!0,class:!0});var r=S(t);n=V(r,l),r.forEach(h),s=j(o),o.forEach(h),this.h()},h(){k(t,"href",i=a[2].url),k(t,"class","ons-list__link"),k(e,"class","ons-list__item svelte-1dyzlhu")},m(f,o){E(f,e,o),p(e,t),p(t,n),p(e,s)},p(f,o){o&2&&l!==(l=f[2].label+"")&&G(n,l),o&2&&i!==(i=f[2].url)&&k(t,"href",i)},d(f){f&&h(e)}}}function fl(a){let e;function t(i,s){return i[2].url?Dn:yn}let l=t(a),n=l(a);return{c(){n.c(),e=K()},l(i){n.l(i),e=K()},m(i,s){n.m(i,s),E(i,e,s)},p(i,s){l===(l=t(i))&&n?n.p(i,s):(n.d(1),n=l(i),n&&(n.c(),n.m(e.parentNode,e)))},d(i){n.d(i),i&&h(e)}}}function In(a){let e,t,l,n,i,s=a[1],f=[];for(let o=0;o<s.length;o+=1)f[o]=fl(al(a,s,o));return{c(){e=y("nav"),t=y("h2"),l=T(a[0]),n=P(),i=y("ol");for(let o=0;o<f.length;o+=1)f[o].c();this.h()},l(o){e=D(o,"NAV",{class:!0,"aria-label":!0});var r=S(e);t=D(r,"H2",{class:!0});var u=S(t);l=V(u,a[0]),u.forEach(h),n=j(r),i=D(r,"OL",{class:!0});var c=S(i);for(let _=0;_<f.length;_+=1)f[_].l(c);c.forEach(h),r.forEach(h),this.h()},h(){k(t,"class","ons-toc__title ons-u-fs-r--b ons-u-mb-s svelte-1dyzlhu"),k(i,"class","ons-list ons-u-mb-m ons-list--dashed svelte-1dyzlhu"),k(e,"class","ons-toc svelte-1dyzlhu"),k(e,"aria-label","Pages in this guide")},m(o,r){E(o,e,r),p(e,t),p(t,l),p(e,n),p(e,i);for(let u=0;u<f.length;u+=1)f[u].m(i,null)},p(o,[r]){if(r&1&&G(l,o[0]),r&2){s=o[1];let u;for(u=0;u<s.length;u+=1){const c=al(o,s,u);f[u]?f[u].p(c,r):(f[u]=fl(c),f[u].c(),f[u].m(i,null))}for(;u<f.length;u+=1)f[u].d(1);f.length=s.length}},i:B,o:B,d(o){o&&h(e),le(f,o)}}}function Sn(a,e,t){let{label:l="Contents"}=e,{links:n=[]}=e;return a.$$set=i=>{"label"in i&&t(0,l=i.label),"links"in i&&t(1,n=i.links)},[l,n]}class Cn extends ne{constructor(e){super();ie(this,e,Sn,In,se,{label:0,links:1})}}function Nn(a){let e,t,l,n,i,s,f,o,r;return{c(){e=y("div"),t=y("div"),l=y("dl"),n=y("div"),i=y("dt"),s=T(a[1]),f=T(":"),o=P(),r=y("dd"),this.h()},l(u){e=D(u,"DIV",{class:!0});var c=S(e);t=D(c,"DIV",{class:!0});var _=S(t);l=D(_,"DL",{class:!0});var d=S(l);n=D(d,"DIV",{class:!0});var v=S(n);i=D(v,"DT",{class:!0});var g=S(i);s=V(g,a[1]),f=V(g,":"),g.forEach(h),o=j(v),r=D(v,"DD",{class:!0});var b=S(r);b.forEach(h),v.forEach(h),d.forEach(h),_.forEach(h),c.forEach(h),this.h()},h(){k(i,"class","meta__term inline"),k(r,"class","inline"),k(n,"class","col padding-left--0 meta__item meta__item--no-border"),k(l,"class","col-wrap"),k(t,"class","wrapper"),k(e,"class","meta-wrap--thin"),ue(e,"meta-wrap",a[0]=="grey")},m(u,c){E(u,e,c),p(e,t),p(t,l),p(l,n),p(n,i),p(i,s),p(i,f),p(n,o),p(n,r),r.innerHTML=a[2]},p(u,[c]){c&2&&G(s,u[1]),c&4&&(r.innerHTML=u[2]),c&1&&ue(e,"meta-wrap",u[0]=="grey")},i:B,o:B,d(u){u&&h(e)}}}function zn(a,e,t){let{background:l="grey"}=e,{label:n="Last updated"}=e,{value:i="date"}=e;return a.$$set=s=>{"background"in s&&t(0,l=s.background),"label"in s&&t(1,n=s.label),"value"in s&&t(2,i=s.value)},[l,n,i]}class An extends ne{constructor(e){super();ie(this,e,zn,Nn,se,{background:0,label:1,value:2})}}const Tn=a=>({}),ol=a=>({});function rl(a){let e,t;return e=new pn({props:{links:a[2],mode:a[0]}}),{c(){q(e.$$.fragment)},l(l){U(e.$$.fragment,l)},m(l,n){F(e,l,n),t=!0},p(l,n){const i={};n&4&&(i.links=l[2]),n&1&&(i.mode=l[0]),e.$set(i)},i(l){t||(N(e.$$.fragment,l),t=!0)},o(l){z(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function ul(a){let e,t;return{c(){e=y("p"),t=T(a[6]),this.h()},l(l){e=D(l,"P",{class:!0});var n=S(e);t=V(n,a[6]),n.forEach(h),this.h()},h(){k(e,"class","page-neutral-intro__meta margin-top--0 margin-bottom--3")},m(l,n){E(l,e,n),p(e,t)},p(l,n){n&64&&G(t,l[6])},d(l){l&&h(e)}}}function cl(a){let e,t;return e=new Cn({props:{links:a[3],label:"Contents"}}),{c(){q(e.$$.fragment)},l(l){U(e.$$.fragment,l)},m(l,n){F(e,l,n),t=!0},p(l,n){const i={};n&8&&(i.links=l[3]),e.$set(i)},i(l){t||(N(e.$$.fragment,l),t=!0)},o(l){z(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function _l(a){let e,t;return e=new En({props:{links:a[4]}}),{c(){q(e.$$.fragment)},l(l){U(e.$$.fragment,l)},m(l,n){F(e,l,n),t=!0},p(l,n){const i={};n&16&&(i.links=l[4]),e.$set(i)},i(l){t||(N(e.$$.fragment,l),t=!0)},o(l){z(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function hl(a){let e,t;return e=new An({props:{label:"Last updated",value:a[5],background:a[1]}}),{c(){q(e.$$.fragment)},l(l){U(e.$$.fragment,l)},m(l,n){F(e,l,n),t=!0},p(l,n){const i={};n&32&&(i.value=l[5]),n&2&&(i.background=l[1]),e.$set(i)},i(l){t||(N(e.$$.fragment,l),t=!0)},o(l){z(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function dl(a){let e,t,l,n;return{c(){e=y("div"),t=y("div"),l=y("div"),n=y("hr"),this.h()},l(i){e=D(i,"DIV",{class:!0});var s=S(e);t=D(s,"DIV",{class:!0});var f=S(t);l=D(f,"DIV",{class:!0});var o=S(l);n=D(o,"HR",{style:!0}),o.forEach(h),f.forEach(h),s.forEach(h),this.h()},h(){A(n,"border","0"),A(n,"height","0"),A(n,"border-top","1px solid #808080"),k(l,"class","col"),k(t,"class","col-wrap"),k(e,"class","wrapper")},m(i,s){E(i,e,s),p(e,t),p(t,l),p(l,n)},d(i){i&&h(e)}}}function Vn(a){let e,t,l,n,i,s,f,o,r,u,c,_,d,v,g=a[2]&&rl(a);const b=a[8].default,m=pe(b,a,a[7],null);let w=a[6]&&ul(a),I=a[3]&&cl(a),C=a[4]&&_l(a);const L=a[8].meta,R=pe(L,a,a[7],ol);let Y=a[5]&&hl(a),Z=a[1]=="none"&&dl();return{c(){e=y("div"),t=y("div"),l=y("div"),n=y("div"),g&&g.c(),i=P(),s=y("div"),m&&m.c(),f=P(),w&&w.c(),o=P(),I&&I.c(),r=P(),C&&C.c(),u=P(),R&&R.c(),c=P(),Y&&Y.c(),_=P(),Z&&Z.c(),this.h()},l(O){e=D(O,"DIV",{class:!0});var J=S(e);t=D(J,"DIV",{class:!0});var De=S(t);l=D(De,"DIV",{class:!0});var ae=S(l);n=D(ae,"DIV",{class:!0});var x=S(n);g&&g.l(x),i=j(x),s=D(x,"DIV",{class:!0});var ge=S(s);m&&m.l(ge),f=j(ge),w&&w.l(ge),o=j(ge),I&&I.l(ge),ge.forEach(h),r=j(x),C&&C.l(x),x.forEach(h),ae.forEach(h),De.forEach(h),u=j(J),R&&R.l(J),c=j(J),Y&&Y.l(J),_=j(J),Z&&Z.l(J),J.forEach(h),this.h()},h(){k(s,"class","col col--md-47"),ue(s,"col--lg-38",a[4]),ue(s,"col--lg-48",!a[4]),k(n,"class","col"),k(l,"class","col-wrap"),k(t,"class","wrapper"),k(e,"class",d="page-neutral-intro "+(a[1]=="grey"?"background--gallery":""))},m(O,J){E(O,e,J),p(e,t),p(t,l),p(l,n),g&&g.m(n,null),p(n,i),p(n,s),m&&m.m(s,null),p(s,f),w&&w.m(s,null),p(s,o),I&&I.m(s,null),p(n,r),C&&C.m(n,null),p(e,u),R&&R.m(e,null),p(e,c),Y&&Y.m(e,null),p(e,_),Z&&Z.m(e,null),v=!0},p(O,[J]){O[2]?g?(g.p(O,J),J&4&&N(g,1)):(g=rl(O),g.c(),N(g,1),g.m(n,i)):g&&(Q(),z(g,1,1,()=>{g=null}),X()),m&&m.p&&(!v||J&128)&&ke(m,b,O,O[7],v?Ee(b,O[7],J,null):we(O[7]),null),O[6]?w?w.p(O,J):(w=ul(O),w.c(),w.m(s,o)):w&&(w.d(1),w=null),O[3]?I?(I.p(O,J),J&8&&N(I,1)):(I=cl(O),I.c(),N(I,1),I.m(s,null)):I&&(Q(),z(I,1,1,()=>{I=null}),X()),J&16&&ue(s,"col--lg-38",O[4]),J&16&&ue(s,"col--lg-48",!O[4]),O[4]?C?(C.p(O,J),J&16&&N(C,1)):(C=_l(O),C.c(),N(C,1),C.m(n,null)):C&&(Q(),z(C,1,1,()=>{C=null}),X()),R&&R.p&&(!v||J&128)&&ke(R,L,O,O[7],v?Ee(L,O[7],J,Tn):we(O[7]),ol),O[5]?Y?(Y.p(O,J),J&32&&N(Y,1)):(Y=hl(O),Y.c(),N(Y,1),Y.m(e,_)):Y&&(Q(),z(Y,1,1,()=>{Y=null}),X()),O[1]=="none"?Z||(Z=dl(),Z.c(),Z.m(e,null)):Z&&(Z.d(1),Z=null),(!v||J&2&&d!==(d="page-neutral-intro "+(O[1]=="grey"?"background--gallery":"")))&&k(e,"class",d)},i(O){v||(N(g),N(m,O),N(I),N(C),N(R,O),N(Y),v=!0)},o(O){z(g),z(m,O),z(I),z(C),z(R,O),z(Y),v=!1},d(O){O&&h(e),g&&g.d(),m&&m.d(O),w&&w.d(),I&&I.d(),C&&C.d(),R&&R.d(O),Y&&Y.d(),Z&&Z.d()}}}function Pn(a,e,t){let{$$slots:l={},$$scope:n}=e,{mode:i="neutral"}=e,{background:s="grey"}=e,{breadcrumb:f=null}=e,{contents:o=null}=e,{highlighted:r=null}=e,{updated:u=null}=e,{date:c=null}=e;return Pe("mode",i),Pe("background",s),a.$$set=_=>{"mode"in _&&t(0,i=_.mode),"background"in _&&t(1,s=_.background),"breadcrumb"in _&&t(2,f=_.breadcrumb),"contents"in _&&t(3,o=_.contents),"highlighted"in _&&t(4,r=_.highlighted),"updated"in _&&t(5,u=_.updated),"date"in _&&t(6,c=_.date),"$$scope"in _&&t(7,n=_.$$scope)},[i,s,f,o,r,u,c,n,l]}class jn extends ne{constructor(e){super();ie(this,e,Pn,Vn,se,{mode:0,background:1,breadcrumb:2,contents:3,highlighted:4,updated:5,date:6})}}function Ln(a){let e,t,l;const n=a[2].default,i=pe(n,a,a[1],null);return{c(){e=y("h1"),i&&i.c(),this.h()},l(s){e=D(s,"H1",{class:!0});var f=S(e);i&&i.l(f),f.forEach(h),this.h()},h(){k(e,"class",t=a[0]=="neutral"?"page-neutral-intro__title":"page-intro__title")},m(s,f){E(s,e,f),i&&i.m(e,null),l=!0},p(s,[f]){i&&i.p&&(!l||f&2)&&ke(i,n,s,s[1],l?Ee(n,s[1],f,null):we(s[1]),null),(!l||f&1&&t!==(t=s[0]=="neutral"?"page-neutral-intro__title":"page-intro__title"))&&k(e,"class",t)},i(s){l||(N(i,s),l=!0)},o(s){z(i,s),l=!1},d(s){s&&h(e),i&&i.d(s)}}}function Kn(a,e,t){let{$$slots:l={},$$scope:n}=e,{mode:i=Le("mode")}=e;return a.$$set=s=>{"mode"in s&&t(0,i=s.mode),"$$scope"in s&&t(1,n=s.$$scope)},[i,n,l]}class Mn extends ne{constructor(e){super();ie(this,e,Kn,Ln,se,{mode:0})}}function ml(a,e,t){const l=a.slice();return l[12]=e[t],l[14]=t,l}function gl(a,e,t){const l=a.slice();return l[15]=e[t],l[17]=t,l}function vl(a,e,t){const l=a.slice();return l[15]=e[t],l[17]=t,l}function bl(a,e,t){const l=a.slice();return l[19]=e[t],l[14]=t,l}function pl(a){let e,t=a[5],l=[];for(let n=0;n<t.length;n+=1)l[n]=kl(bl(a,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=K()},l(n){for(let i=0;i<l.length;i+=1)l[i].l(n);e=K()},m(n,i){for(let s=0;s<l.length;s+=1)l[s].m(n,i);E(n,e,i)},p(n,i){if(i&36){t=n[5];let s;for(s=0;s<t.length;s+=1){const f=bl(n,t,s);l[s]?l[s].p(f,i):(l[s]=kl(f),l[s].c(),l[s].m(e.parentNode,e))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(n){le(l,n),n&&h(e)}}}function kl(a){let e,t,l=`${a[14]==0?0:a[2]}px`,n,i,s=a[19]+"",f,o,r;return{c(){e=y("li"),t=y("div"),n=P(),i=y("span"),f=T(s),r=P(),this.h()},l(u){e=D(u,"LI",{class:!0});var c=S(e);t=D(c,"DIV",{class:!0}),S(t).forEach(h),n=j(c),i=D(c,"SPAN",{class:!0});var _=S(i);f=V(_,s),_.forEach(h),r=j(c),c.forEach(h),this.h()},h(){k(t,"class","legend-vis "+(a[14]==0?"bar":"marker-vis")+" svelte-14ipkw6"),A(t,"border-bottom-width",l,!1),k(i,"class",o=Ke(a[14]==0?"bold":"brackets")+" svelte-14ipkw6"),k(e,"class","svelte-14ipkw6")},m(u,c){E(u,e,c),p(e,t),p(e,n),p(e,i),p(i,f),p(e,r)},p(u,c){c&4&&l!==(l=`${u[14]==0?0:u[2]}px`)&&A(t,"border-bottom-width",l,!1),c&32&&s!==(s=u[19]+"")&&G(f,s)},d(u){u&&h(e)}}}function Bn(a){let e,t=a[12].values,l=[];for(let n=0;n<t.length;n+=1)l[n]=wl(gl(a,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=K()},l(n){for(let i=0;i<l.length;i+=1)l[i].l(n);e=K()},m(n,i){for(let s=0;s<l.length;s+=1)l[s].m(n,i);E(n,e,i)},p(n,i){if(i&93){t=n[12].values;let s;for(s=0;s<t.length;s+=1){const f=gl(n,t,s);l[s]?l[s].p(f,i):(l[s]=wl(f),l[s].c(),l[s].m(e.parentNode,e))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(n){le(l,n),n&&h(e)}}}function On(a){let e,t=a[12].values,l=[];for(let n=0;n<t.length;n+=1)l[n]=El(vl(a,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=K()},l(n){for(let i=0;i<l.length;i+=1)l[i].l(n);e=K()},m(n,i){for(let s=0;s<l.length;s+=1)l[s].m(n,i);E(n,e,i)},p(n,i){if(i&89){t=n[12].values;let s;for(s=0;s<t.length;s+=1){const f=vl(n,t,s);l[s]?l[s].p(f,i):(l[s]=El(f),l[s].c(),l[s].m(e.parentNode,e))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(n){le(l,n),n&&h(e)}}}function wl(a){let e,t=`calc(100% - ${a[4](a[15][a[0]])}% - ${a[2]/2}px)`,l=`${a[17]/a[6].length*100}%`,n=`${1/a[6].length*100}%`,i=`${a[2]}px`;return{c(){e=y("div"),this.h()},l(s){e=D(s,"DIV",{class:!0}),S(e).forEach(h),this.h()},h(){k(e,"class","marker svelte-14ipkw6"),A(e,"top",t,!1),A(e,"height","0px",!1),A(e,"left",l,!1),A(e,"width",n,!1),A(e,"border-bottom-width",i,!1)},m(s,f){E(s,e,f)},p(s,f){f&29&&t!==(t=`calc(100% - ${s[4](s[15][s[0]])}% - ${s[2]/2}px)`)&&A(e,"top",t,!1),f&64&&l!==(l=`${s[17]/s[6].length*100}%`)&&A(e,"left",l,!1),f&64&&n!==(n=`${1/s[6].length*100}%`)&&A(e,"width",n,!1),f&4&&i!==(i=`${s[2]}px`)&&A(e,"border-bottom-width",i,!1)},d(s){s&&h(e)}}}function El(a){let e,t=`${100-a[4](a[15][a[0]])}%`,l=`${a[4](a[15][a[0]])}%`,n=`${a[17]/a[6].length*100}%`,i=`calc(${1/a[6].length*100}% + 0.2px)`;return{c(){e=y("div"),this.h()},l(s){e=D(s,"DIV",{class:!0}),S(e).forEach(h),this.h()},h(){k(e,"class","bar svelte-14ipkw6"),A(e,"top",t,!1),A(e,"height",l,!1),A(e,"left",n,!1),A(e,"width",i,!1)},m(s,f){E(s,e,f)},p(s,f){f&25&&t!==(t=`${100-s[4](s[15][s[0]])}%`)&&A(e,"top",t,!1),f&25&&l!==(l=`${s[4](s[15][s[0]])}%`)&&A(e,"height",l,!1),f&64&&n!==(n=`${s[17]/s[6].length*100}%`)&&A(e,"left",n,!1),f&64&&i!==(i=`calc(${1/s[6].length*100}% + 0.2px)`)&&A(e,"width",i,!1)},d(s){s&&h(e)}}}function yl(a){let e;function t(i,s){return i[14]==0?On:Bn}let n=t(a)(a);return{c(){n.c(),e=K()},l(i){n.l(i),e=K()},m(i,s){n.m(i,s),E(i,e,s)},p(i,s){n.p(i,s)},d(i){n.d(i),i&&h(e)}}}function Hn(a){let e,t,l,n=`${a[1]}px`,i,s,f,o,r,u,c,_=a[5][1]&&pl(a),d=a[3],v=[];for(let g=0;g<d.length;g+=1)v[g]=yl(ml(a,d,g));return{c(){e=y("ul"),_&&_.c(),t=P(),l=y("div");for(let g=0;g<v.length;g+=1)v[g].c();i=P(),s=y("div"),f=y("div"),o=T("0 years"),r=P(),u=y("div"),c=T("90+"),this.h()},l(g){e=D(g,"UL",{class:!0});var b=S(e);_&&_.l(b),b.forEach(h),t=j(g),l=D(g,"DIV",{class:!0});var m=S(l);for(let L=0;L<v.length;L+=1)v[L].l(m);m.forEach(h),i=j(g),s=D(g,"DIV",{class:!0});var w=S(s);f=D(w,"DIV",{class:!0});var I=S(f);o=V(I,"0 years"),I.forEach(h),r=j(w),u=D(w,"DIV",{class:!0});var C=S(u);c=V(C,"90+"),C.forEach(h),w.forEach(h),this.h()},h(){k(e,"class","legend-block svelte-14ipkw6"),k(l,"class","bar-group svelte-14ipkw6"),A(l,"height",n,!1),k(f,"class","svelte-14ipkw6"),A(f,"left",0,!1),k(u,"class","svelte-14ipkw6"),A(u,"right",0,!1),k(s,"class","x-scale svelte-14ipkw6"),A(s,"height","1rem",!1)},m(g,b){E(g,e,b),_&&_.m(e,null),E(g,t,b),E(g,l,b);for(let m=0;m<v.length;m+=1)v[m].m(l,null);E(g,i,b),E(g,s,b),p(s,f),p(f,o),p(s,r),p(s,u),p(u,c)},p(g,[b]){if(g[5][1]?_?_.p(g,b):(_=pl(g),_.c(),_.m(e,null)):_&&(_.d(1),_=null),b&93){d=g[3];let m;for(m=0;m<d.length;m+=1){const w=ml(g,d,m);v[m]?v[m].p(w,b):(v[m]=yl(w),v[m].c(),v[m].m(l,null))}for(;m<v.length;m+=1)v[m].d(1);v.length=d.length}b&2&&n!==(n=`${g[1]}px`)&&A(l,"height",n,!1)},i:B,o:B,d(g){g&&h(e),_&&_.d(),g&&h(t),g&&h(l),le(v,g),g&&h(i),g&&h(s)}}}function qn(a,e,t){let l,n,i,s,f,{data:o}=e,{xKey:r="category"}=e,{yKey:u="value"}=e,{zKey:c="group"}=e,{height:_=65}=e,{markerWidth:d=2.5}=e;function v(g,b){let m={};for(const I of g)m[I[b]]||(m[I[b]]={label:I[b],values:[]}),m[I[b]].values.push(I);let w=[];for(const I in m)w.push(m[I]);return w}return a.$$set=g=>{"data"in g&&t(7,o=g.data),"xKey"in g&&t(8,r=g.xKey),"yKey"in g&&t(0,u=g.yKey),"zKey"in g&&t(9,c=g.zKey),"height"in g&&t(1,_=g.height),"markerWidth"in g&&t(2,d=g.markerWidth)},a.$$.update=()=>{a.$$.dirty&384&&t(6,l=o.map(g=>g[r]).filter((g,b,m)=>m.indexOf(g)===b)),a.$$.dirty&129&&t(10,n=[0,Math.max(...o.map(g=>g[u]))]),a.$$.dirty&640&&t(5,i=o.map(g=>g[c]).filter((g,b,m)=>m.indexOf(g)===b)),a.$$.dirty&1024&&t(4,s=g=>Math.abs(g/n[1])*100),a.$$.dirty&640&&t(3,f=v(o,c)),a.$$.dirty&128&&console.log(o)},[u,_,d,f,s,i,l,o,r,c,n]}class Fn extends ne{constructor(e){super();ie(this,e,qn,Hn,se,{data:7,xKey:8,yKey:0,zKey:9,height:1,markerWidth:2})}}function Dl(a,e,t){const l=a.slice();return l[10]=e[t],l[12]=t,l}function Il(a){let e,t,l,n,i,s=a[6](a[4][a[12]])+"",f;return{c(){e=y("div"),t=P(),l=y("div"),n=P(),i=y("div"),f=T(s),this.h()},l(o){e=D(o,"DIV",{class:!0,style:!0}),S(e).forEach(h),t=j(o),l=D(o,"DIV",{class:!0,style:!0}),S(l).forEach(h),n=j(o),i=D(o,"DIV",{class:!0,style:!0});var r=S(i);f=V(r,s),r.forEach(h),this.h()},h(){k(e,"class","block svelte-1a3ut6y"),A(e,"width",100/(a[4].length-1)+"%"),A(e,"left",a[12]*(100/(a[4].length-1))+"%"),A(e,"background-color",a[5][a[12]]),k(l,"class","line svelte-1a3ut6y"),A(l,"left",a[12]*(100/(a[4].length-1))+"%"),k(i,"class","tick svelte-1a3ut6y"),A(i,"left",a[12]*(100/(a[4].length-1))+"%"),ue(i,"tick-start",a[12]==0)},m(o,r){E(o,e,r),E(o,t,r),E(o,l,r),E(o,n,r),E(o,i,r),p(i,f)},p(o,r){r&16&&A(e,"width",100/(o[4].length-1)+"%"),r&16&&A(e,"left",o[12]*(100/(o[4].length-1))+"%"),r&32&&A(e,"background-color",o[5][o[12]]),r&16&&A(l,"left",o[12]*(100/(o[4].length-1))+"%"),r&80&&s!==(s=o[6](o[4][o[12]])+"")&&G(f,s),r&16&&A(i,"left",o[12]*(100/(o[4].length-1))+"%")},d(o){o&&h(e),o&&h(t),o&&h(l),o&&h(n),o&&h(i)}}}function Sl(a){let e,t,l,n=a[7](a[1])+"",i,s;return{c(){e=y("div"),t=P(),l=y("div"),i=T(n),s=T(a[8]),this.h()},l(f){e=D(f,"DIV",{class:!0,style:!0}),S(e).forEach(h),t=j(f),l=D(f,"DIV",{class:!0,style:!0});var o=S(l);i=V(o,n),s=V(o,a[8]),o.forEach(h),this.h()},h(){k(e,"class","marker svelte-1a3ut6y"),A(e,"width",a[2]+"px"),A(e,"left","calc("+a[9](a[1],a[4])+"% - "+a[2]/2+"px)"),k(l,"class","value svelte-1a3ut6y"),A(l,"left",a[9](a[1],a[4])+"%")},m(f,o){E(f,e,o),E(f,t,o),E(f,l,o),p(l,i),p(l,s)},p(f,o){o&4&&A(e,"width",f[2]+"px"),o&22&&A(e,"left","calc("+f[9](f[1],f[4])+"% - "+f[2]/2+"px)"),o&130&&n!==(n=f[7](f[1])+"")&&G(i,n),o&256&&G(s,f[8]),o&18&&A(l,"left",f[9](f[1],f[4])+"%")},d(f){f&&h(e),f&&h(t),f&&h(l)}}}function Cl(a){let e,t,l,n=a[7](a[0])+"",i,s;return{c(){e=y("div"),t=P(),l=y("div"),i=T(n),s=T(a[8]),this.h()},l(f){e=D(f,"DIV",{class:!0,style:!0}),S(e).forEach(h),t=j(f),l=D(f,"DIV",{class:!0,style:!0});var o=S(l);i=V(o,n),s=V(o,a[8]),o.forEach(h),this.h()},h(){k(e,"class","marker marker-hovered svelte-1a3ut6y"),A(e,"width",a[2]+"px"),A(e,"left","calc("+a[9](a[0],a[4])+"% - "+a[2]/2+"px)"),k(l,"class","value svelte-1a3ut6y"),A(l,"left",a[9](a[0],a[4])+"%")},m(f,o){E(f,e,o),E(f,t,o),E(f,l,o),p(l,i),p(l,s)},p(f,o){o&4&&A(e,"width",f[2]+"px"),o&21&&A(e,"left","calc("+f[9](f[0],f[4])+"% - "+f[2]/2+"px)"),o&129&&n!==(n=f[7](f[0])+"")&&G(i,n),o&256&&G(s,f[8]),o&17&&A(l,"left",f[9](f[0],f[4])+"%")},d(f){f&&h(e),f&&h(t),f&&h(l)}}}function Wn(a){let e,t,l,n,i,s=a[6](a[4][a[4].length-1])+"",f,o,r,u,c=a[4].slice(1),_=[];for(let g=0;g<c.length;g+=1)_[g]=Il(Dl(a,c,g));let d=a[1]&&Sl(a),v=a[0]&&Cl(a);return{c(){e=y("div");for(let g=0;g<_.length;g+=1)_[g].c();t=P(),l=y("div"),n=P(),i=y("div"),f=T(s),o=T(a[8]),r=P(),d&&d.c(),u=P(),v&&v.c(),this.h()},l(g){e=D(g,"DIV",{class:!0,style:!0});var b=S(e);for(let w=0;w<_.length;w+=1)_[w].l(b);t=j(b),l=D(b,"DIV",{class:!0,style:!0}),S(l).forEach(h),n=j(b),i=D(b,"DIV",{class:!0,style:!0});var m=S(i);f=V(m,s),o=V(m,a[8]),m.forEach(h),r=j(b),d&&d.l(b),u=j(b),v&&v.l(b),b.forEach(h),this.h()},h(){k(l,"class","line svelte-1a3ut6y"),A(l,"left","100%"),k(i,"class","tick tick-end svelte-1a3ut6y"),A(i,"left","100%"),k(e,"class","container svelte-1a3ut6y"),A(e,"height",a[3]+"px")},m(g,b){E(g,e,b);for(let m=0;m<_.length;m+=1)_[m].m(e,null);p(e,t),p(e,l),p(e,n),p(e,i),p(i,f),p(i,o),p(e,r),d&&d.m(e,null),p(e,u),v&&v.m(e,null)},p(g,[b]){if(b&112){c=g[4].slice(1);let m;for(m=0;m<c.length;m+=1){const w=Dl(g,c,m);_[m]?_[m].p(w,b):(_[m]=Il(w),_[m].c(),_[m].m(e,t))}for(;m<_.length;m+=1)_[m].d(1);_.length=c.length}b&80&&s!==(s=g[6](g[4][g[4].length-1])+"")&&G(f,s),b&256&&G(o,g[8]),g[1]?d?d.p(g,b):(d=Sl(g),d.c(),d.m(e,u)):d&&(d.d(1),d=null),g[0]?v?v.p(g,b):(v=Cl(g),v.c(),v.m(e,null)):v&&(v.d(1),v=null),b&8&&A(e,"height",g[3]+"px")},i:B,o:B,d(g){g&&h(e),le(_,g),d&&d.d(),v&&v.d()}}}function Gn(a,e,t){let{hovered:l=null}=e,{selected:n=null}=e,{lineWidth:i=3}=e,{height:s=15}=e,{breaks:f=[0,20,40,60,80,100]}=e,{colors:o=["rgba(234,236,177,.8)","rgba(169,216,145,.8)","rgba(0,167,186,.8)","rgba(0,78,166,.8)","rgba(0,13,84,.8)"]}=e,{formatTick:r=d=>d.toFixed(0)}=e,{formatVal:u=d=>d.toFixed(1)}=e,{suffix:c="%"}=e;const _=(d,v)=>{let g=0;for(;d>v[g+1];)g+=1;let b=100/(v.length-1),m=(d-v[g])/(v[g+1]-v[g]);return(g+m)*b};return a.$$set=d=>{"hovered"in d&&t(0,l=d.hovered),"selected"in d&&t(1,n=d.selected),"lineWidth"in d&&t(2,i=d.lineWidth),"height"in d&&t(3,s=d.height),"breaks"in d&&t(4,f=d.breaks),"colors"in d&&t(5,o=d.colors),"formatTick"in d&&t(6,r=d.formatTick),"formatVal"in d&&t(7,u=d.formatVal),"suffix"in d&&t(8,c=d.suffix)},[l,n,i,s,f,o,r,u,c,_]}class Un extends ne{constructor(e){super();ie(this,e,Gn,Wn,se,{hovered:0,selected:1,lineWidth:2,height:3,breaks:4,colors:5,formatTick:6,formatVal:7,suffix:8})}}function Nl(a,e,t){const l=a.slice();return l[14]=e[t],l}function zl(a,e,t){const l=a.slice();return l[17]=e[t],l[19]=t,l}function Al(a,e,t){const l=a.slice();return l[17]=e[t],l[19]=t,l}function Tl(a,e,t){const l=a.slice();return l[14]=e[t],l[19]=t,l}function Vl(a){let e,t=a[7],l=[];for(let n=0;n<t.length;n+=1)l[n]=Pl(Tl(a,t,n));return{c(){e=y("ul");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=D(n,"UL",{class:!0});var i=S(e);for(let s=0;s<l.length;s+=1)l[s].l(i);i.forEach(h),this.h()},h(){k(e,"class","legend-block svelte-1ri9pb8")},m(n,i){E(n,e,i);for(let s=0;s<l.length;s+=1)l[s].m(e,null)},p(n,i){if(i&144){t=n[7];let s;for(s=0;s<t.length;s+=1){const f=Tl(n,t,s);l[s]?l[s].p(f,i):(l[s]=Pl(f),l[s].c(),l[s].m(e,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(n){n&&h(e),le(l,n)}}}function Pl(a){let e,t,l,n,i=a[14]+"",s,f,o;return{c(){e=y("li"),t=y("div"),l=P(),n=y("span"),s=T(i),o=P(),this.h()},l(r){e=D(r,"LI",{class:!0});var u=S(e);t=D(u,"DIV",{class:!0}),S(t).forEach(h),l=j(u),n=D(u,"SPAN",{class:!0});var c=S(n);s=V(c,i),c.forEach(h),o=j(u),u.forEach(h),this.h()},h(){k(t,"class","legend-vis "+(a[19]==0?"bar":"marker")+" svelte-1ri9pb8"),A(t,"height","1rem",!1),A(t,"width",a[19]==0?"1rem":a[4]+"px",!1),k(n,"class",f=Ke(a[19]==0?"bold":"brackets")+" svelte-1ri9pb8"),k(e,"class","svelte-1ri9pb8")},m(r,u){E(r,e,u),p(e,t),p(e,l),p(e,n),p(n,s),p(e,o)},p(r,u){u&16&&A(t,"width",r[19]==0?"1rem":r[4]+"px",!1),u&128&&i!==(i=r[14]+"")&&G(s,i)},d(r){r&&h(e)}}}function jl(a){let e,t=a[1](a[17].value)+"",l,n,i;return{c(){e=y("span"),l=T(t),n=T(a[2]),this.h()},l(s){e=D(s,"SPAN",{class:!0});var f=S(e);l=V(f,t),n=V(f,a[2]),f.forEach(h),this.h()},h(){k(e,"class",i="label "+(a[19]==0?"bold":"sml brackets")+" svelte-1ri9pb8")},m(s,f){E(s,e,f),p(e,l),p(e,n)},p(s,f){f&34&&t!==(t=s[1](s[17].value)+"")&&G(l,t),f&4&&G(n,s[2])},d(s){s&&h(e)}}}function Rn(a){let e,t=`calc(${a[6](a[17][a[0]])}% - ${a[4]/2}px)`,l=`${a[4]}px`;return{c(){e=y("div"),this.h()},l(n){e=D(n,"DIV",{class:!0}),S(e).forEach(h),this.h()},h(){k(e,"class","marker svelte-1ri9pb8"),A(e,"left",t,!1),A(e,"border-left-width",l,!1)},m(n,i){E(n,e,i)},p(n,i){i&113&&t!==(t=`calc(${n[6](n[17][n[0]])}% - ${n[4]/2}px)`)&&A(e,"left",t,!1),i&16&&l!==(l=`${n[4]}px`)&&A(e,"border-left-width",l,!1)},d(n){n&&h(e)}}}function Yn(a){let e,t=`${a[6](a[17][a[0]])}%`;return{c(){e=y("div"),this.h()},l(l){e=D(l,"DIV",{class:!0}),S(e).forEach(h),this.h()},h(){k(e,"class","bar svelte-1ri9pb8"),A(e,"left","0",!1),A(e,"width",t,!1)},m(l,n){E(l,e,n)},p(l,n){n&97&&t!==(t=`${l[6](l[17][l[0]])}%`)&&A(e,"width",t,!1)},d(l){l&&h(e)}}}function Ll(a){let e;function t(i,s){return i[19]==0?Yn:Rn}let n=t(a)(a);return{c(){n.c(),e=K()},l(i){n.l(i),e=K()},m(i,s){n.m(i,s),E(i,e,s)},p(i,s){n.p(i,s)},d(i){n.d(i),i&&h(e)}}}function Kl(a){let e,t=a[14].label+"",l,n,i,s,f,o=`${a[3]}px`,r=a[14].values,u=[];for(let d=0;d<r.length;d+=1)u[d]=jl(Al(a,r,d));let c=a[14].values,_=[];for(let d=0;d<c.length;d+=1)_[d]=Ll(zl(a,c,d));return{c(){e=y("div"),l=T(t),n=P();for(let d=0;d<u.length;d+=1)u[d].c();i=P(),s=y("div");for(let d=0;d<_.length;d+=1)_[d].c();f=P(),this.h()},l(d){e=D(d,"DIV",{class:!0});var v=S(e);l=V(v,t),n=j(v);for(let b=0;b<u.length;b+=1)u[b].l(v);v.forEach(h),i=j(d),s=D(d,"DIV",{class:!0});var g=S(s);for(let b=0;b<_.length;b+=1)_[b].l(g);f=j(g),g.forEach(h),this.h()},h(){k(e,"class","label-group svelte-1ri9pb8"),k(s,"class","bar-group svelte-1ri9pb8"),A(s,"height",o,!1)},m(d,v){E(d,e,v),p(e,l),p(e,n);for(let g=0;g<u.length;g+=1)u[g].m(e,null);E(d,i,v),E(d,s,v);for(let g=0;g<_.length;g+=1)_[g].m(s,null);p(s,f)},p(d,v){if(v&32&&t!==(t=d[14].label+"")&&G(l,t),v&38){r=d[14].values;let g;for(g=0;g<r.length;g+=1){const b=Al(d,r,g);u[g]?u[g].p(b,v):(u[g]=jl(b),u[g].c(),u[g].m(e,null))}for(;g<u.length;g+=1)u[g].d(1);u.length=r.length}if(v&113){c=d[14].values;let g;for(g=0;g<c.length;g+=1){const b=zl(d,c,g);_[g]?_[g].p(b,v):(_[g]=Ll(b),_[g].c(),_[g].m(s,f))}for(;g<_.length;g+=1)_[g].d(1);_.length=c.length}v&8&&o!==(o=`${d[3]}px`)&&A(s,"height",o,!1)},d(d){d&&h(e),le(u,d),d&&h(i),d&&h(s),le(_,d)}}}function Zn(a){let e,t,l=a[7][1]&&Vl(a),n=a[5],i=[];for(let s=0;s<n.length;s+=1)i[s]=Kl(Nl(a,n,s));return{c(){l&&l.c(),e=P();for(let s=0;s<i.length;s+=1)i[s].c();t=K()},l(s){l&&l.l(s),e=j(s);for(let f=0;f<i.length;f+=1)i[f].l(s);t=K()},m(s,f){l&&l.m(s,f),E(s,e,f);for(let o=0;o<i.length;o+=1)i[o].m(s,f);E(s,t,f)},p(s,[f]){if(s[7][1]?l?l.p(s,f):(l=Vl(s),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),f&127){n=s[5];let o;for(o=0;o<n.length;o+=1){const r=Nl(s,n,o);i[o]?i[o].p(r,f):(i[o]=Kl(r),i[o].c(),i[o].m(t.parentNode,t))}for(;o<i.length;o+=1)i[o].d(1);i.length=n.length}},i:B,o:B,d(s){l&&l.d(s),s&&h(e),le(i,s),s&&h(t)}}}function Jn(a,e,t){let l,n,i,s,{data:f}=e,{xKey:o="value"}=e,{yKey:r="category"}=e,{zKey:u="group"}=e,{formatTick:c=b=>Math.round(b)}=e,{suffix:_="%"}=e,{barHeight:d=25}=e,{markerWidth:v=3}=e;function g(b,m){let w={};for(const C of b)w[C[m]]||(w[C[m]]={label:C[m],values:[]}),w[C[m]].values.push(C);let I=[];for(const C in w)I.push(w[C]);return I}return a.$$set=b=>{"data"in b&&t(8,f=b.data),"xKey"in b&&t(0,o=b.xKey),"yKey"in b&&t(9,r=b.yKey),"zKey"in b&&t(10,u=b.zKey),"formatTick"in b&&t(1,c=b.formatTick),"suffix"in b&&t(2,_=b.suffix),"barHeight"in b&&t(3,d=b.barHeight),"markerWidth"in b&&t(4,v=b.markerWidth)},a.$$.update=()=>{a.$$.dirty&257&&t(11,l=[0,Math.max(...f.map(b=>b[o]))]),a.$$.dirty&768&&f.map(b=>b[r]).filter((b,m,w)=>w.indexOf(b)===m),a.$$.dirty&1280&&t(7,n=f.map(b=>b[u]).filter((b,m,w)=>w.indexOf(b)===m)),a.$$.dirty&2048&&t(6,i=b=>b/l[1]*100),a.$$.dirty&768&&t(5,s=g(f,r))},[o,c,_,d,v,s,i,n,f,r,u,l]}class Bt extends ne{constructor(e){super();ie(this,e,Jn,Zn,se,{data:8,xKey:0,yKey:9,zKey:10,formatTick:1,suffix:2,barHeight:3,markerWidth:4})}}function Ml(a,e,t){const l=a.slice();return l[15]=e[t],l}function Bl(a,e,t){const l=a.slice();return l[18]=e[t],l[19]=e,l[20]=t,l}function Ol(a,e,t){const l=a.slice();return l[15]=e[t],l[20]=t,l}function Hl(a){let e,t=a[7],l=[];for(let n=0;n<t.length;n+=1)l[n]=ql(Ol(a,t,n));return{c(){e=y("ul");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=D(n,"UL",{class:!0});var i=S(e);for(let s=0;s<l.length;s+=1)l[s].l(i);i.forEach(h),this.h()},h(){k(e,"class","legend-block svelte-gainfd")},m(n,i){E(n,e,i);for(let s=0;s<l.length;s+=1)l[s].m(e,null)},p(n,i){if(i&128){t=n[7];let s;for(s=0;s<t.length;s+=1){const f=Ol(n,t,s);l[s]?l[s].p(f,i):(l[s]=ql(f),l[s].c(),l[s].m(e,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(n){n&&h(e),le(l,n)}}}function ql(a){let e,t,l,n,i=a[15]+"",s,f;return{c(){e=y("li"),t=y("div"),l=P(),n=y("span"),s=T(i),f=P(),this.h()},l(o){e=D(o,"LI",{class:!0});var r=S(e);t=D(r,"DIV",{class:!0}),S(t).forEach(h),l=j(r),n=D(r,"SPAN",{class:!0});var u=S(n);s=V(u,i),u.forEach(h),f=j(r),r.forEach(h),this.h()},h(){k(t,"class","legend-vis "+(a[20]==0?"bar":"bar2")+" svelte-gainfd"),k(n,"class","svelte-gainfd"),ue(n,"bold",a[20]==0),k(e,"class","svelte-gainfd")},m(o,r){E(o,e,r),p(e,t),p(e,l),p(e,n),p(n,s),p(e,f)},p(o,r){r&128&&i!==(i=o[15]+"")&&G(s,i)},d(o){o&&h(e)}}}function Fl(a){let e,t=`${a[6](a[18][a[0]])}%`,l,n,i=a[1](a[18][a[0]])+"",s,f,o,r=`calc(${a[6](a[18][a[0]])}% + 2px)`;function u(){a[12].call(n,a[19],a[20])}return{c(){e=y("div"),l=P(),n=y("div"),s=T(i),f=T(a[2]),this.h()},l(c){e=D(c,"DIV",{class:!0}),S(e).forEach(h),l=j(c),n=D(c,"DIV",{class:!0});var _=S(n);s=V(_,i),f=V(_,a[2]),_.forEach(h),this.h()},h(){k(e,"class",Ke(a[20]==0?"bar":"bar2")+" svelte-gainfd"),A(e,"left","0",!1),A(e,"width",t,!1),A(e,"top",a[20]==0?"0":"50%",!1),A(e,"height",a[7][1]?"50%":"100%",!1),k(n,"class","label svelte-gainfd"),Fe(()=>u.call(n)),ue(n,"bold",a[20]==0),A(n,"left",r,!1),A(n,"top",a[20]==0?"0":"50%",!1),A(n,"height","50%",!1)},m(c,_){E(c,e,_),E(c,l,_),E(c,n,_),p(n,s),p(n,f),o=Ct(n,u.bind(n))},p(c,_){a=c,_&97&&t!==(t=`${a[6](a[18][a[0]])}%`)&&A(e,"width",t,!1),_&128&&A(e,"height",a[7][1]?"50%":"100%",!1),_&35&&i!==(i=a[1](a[18][a[0]])+"")&&G(s,i),_&4&&G(f,a[2]),_&97&&r!==(r=`calc(${a[6](a[18][a[0]])}% + 2px)`)&&A(n,"left",r,!1)},d(c){c&&h(e),c&&h(l),c&&h(n),o()}}}function Wl(a){let e,t=a[15].label+"",l,n,i,s,f=`${a[7][1]?a[3]*2:a[3]}px`,o=`calc(100% - ${a[4]}px)`,r=a[15].values,u=[];for(let c=0;c<r.length;c+=1)u[c]=Fl(Bl(a,r,c));return{c(){e=y("div"),l=T(t),n=P(),i=y("div");for(let c=0;c<u.length;c+=1)u[c].c();s=P(),this.h()},l(c){e=D(c,"DIV",{class:!0});var _=S(e);l=V(_,t),_.forEach(h),n=j(c),i=D(c,"DIV",{class:!0});var d=S(i);for(let v=0;v<u.length;v+=1)u[v].l(d);s=j(d),d.forEach(h),this.h()},h(){k(e,"class","label-group svelte-gainfd"),k(i,"class","bar-group svelte-gainfd"),A(i,"height",f,!1),A(i,"width",o,!1)},m(c,_){E(c,e,_),p(e,l),E(c,n,_),E(c,i,_);for(let d=0;d<u.length;d+=1)u[d].m(i,null);p(i,s)},p(c,_){if(_&32&&t!==(t=c[15].label+"")&&G(l,t),_&231){r=c[15].values;let d;for(d=0;d<r.length;d+=1){const v=Bl(c,r,d);u[d]?u[d].p(v,_):(u[d]=Fl(v),u[d].c(),u[d].m(i,s))}for(;d<u.length;d+=1)u[d].d(1);u.length=r.length}_&136&&f!==(f=`${c[7][1]?c[3]*2:c[3]}px`)&&A(i,"height",f,!1),_&16&&o!==(o=`calc(100% - ${c[4]}px)`)&&A(i,"width",o,!1)},d(c){c&&h(e),c&&h(n),c&&h(i),le(u,c)}}}function Qn(a){let e,t,l=a[7][1]&&Hl(a),n=a[5],i=[];for(let s=0;s<n.length;s+=1)i[s]=Wl(Ml(a,n,s));return{c(){l&&l.c(),e=P();for(let s=0;s<i.length;s+=1)i[s].c();t=K()},l(s){l&&l.l(s),e=j(s);for(let f=0;f<i.length;f+=1)i[f].l(s);t=K()},m(s,f){l&&l.m(s,f),E(s,e,f);for(let o=0;o<i.length;o+=1)i[o].m(s,f);E(s,t,f)},p(s,[f]){if(s[7][1]?l?l.p(s,f):(l=Hl(s),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),f&255){n=s[5];let o;for(o=0;o<n.length;o+=1){const r=Ml(s,n,o);i[o]?i[o].p(r,f):(i[o]=Wl(r),i[o].c(),i[o].m(t.parentNode,t))}for(;o<i.length;o+=1)i[o].d(1);i.length=n.length}},i:B,o:B,d(s){l&&l.d(s),s&&h(e),le(i,s),s&&h(t)}}}function Xn(a,e,t){let l,n,i,s,{data:f}=e,{xKey:o="value"}=e,{yKey:r="category"}=e,{zKey:u="group"}=e,{formatTick:c=m=>Math.round(m)}=e,{suffix:_="%"}=e,{barHeight:d=20}=e,{margin:v=30}=e;function g(m,w){let I={};for(const L of m)I[L[w]]||(I[L[w]]={label:L[w],values:[]}),I[L[w]].values.push(L);let C=[];for(const L in I)C.push(I[L]);return C}function b(m,w){m[w].width=this.clientWidth,t(5,s),t(8,f),t(9,r)}return a.$$set=m=>{"data"in m&&t(8,f=m.data),"xKey"in m&&t(0,o=m.xKey),"yKey"in m&&t(9,r=m.yKey),"zKey"in m&&t(10,u=m.zKey),"formatTick"in m&&t(1,c=m.formatTick),"suffix"in m&&t(2,_=m.suffix),"barHeight"in m&&t(3,d=m.barHeight),"margin"in m&&t(4,v=m.margin)},a.$$.update=()=>{a.$$.dirty&257&&t(11,l=[0,Math.max(...f.map(m=>m[o]))]),a.$$.dirty&768&&f.map(m=>m[r]).filter((m,w,I)=>I.indexOf(m)===w),a.$$.dirty&1280&&t(7,n=f.map(m=>m[u]).filter((m,w,I)=>I.indexOf(m)===w)),a.$$.dirty&2048&&t(6,i=m=>m/l[1]*100),a.$$.dirty&768&&t(5,s=g(f,r))},[o,c,_,d,v,s,i,n,f,r,u,l,b]}class $n extends ne{constructor(e){super();ie(this,e,Xn,Qn,se,{data:8,xKey:0,yKey:9,zKey:10,formatTick:1,suffix:2,barHeight:3,margin:4})}}function Gl(a,e,t){const l=a.slice();return l[16]=e[t],l}function Ul(a,e,t){const l=a.slice();return l[19]=e[t],l[21]=t,l}function Rl(a,e,t){const l=a.slice();return l[22]=e[t],l[21]=t,l}function Yl(a,e,t){const l=a.slice();return l[19]=e[t],l}function Zl(a){let e,t=`${a[8](a[19].offset)}%`,l=`${a[8](a[19][a[0]])}%`;return{c(){e=y("div"),this.h()},l(n){e=D(n,"DIV",{class:!0}),S(e).forEach(h),this.h()},h(){k(e,"class","bar svelte-ffogaq"),A(e,"left",t,!1),A(e,"width",l,!1),A(e,"background-color",a[7](a[19][a[1]]),!1)},m(n,i){E(n,e,i)},p(n,i){i&320&&t!==(t=`${n[8](n[19].offset)}%`)&&A(e,"left",t,!1),i&321&&l!==(l=`${n[8](n[19][n[0]])}%`)&&A(e,"width",l,!1),i&194&&A(e,"background-color",n[7](n[19][n[1]]),!1)},d(n){n&&h(e)}}}function xn(a){let e,t=a[22].label+"",l,n;return{c(){e=y("div"),l=T(t),n=T(" comparison"),this.h()},l(i){e=D(i,"DIV",{class:!0});var s=S(e);l=V(s,t),n=V(s," comparison"),s.forEach(h),this.h()},h(){k(e,"class","legend overlay brackets svelte-ffogaq")},m(i,s){E(i,e,s),p(e,l),p(e,n)},p(i,s){s&64&&t!==(t=i[22].label+"")&&G(l,t)},d(i){i&&h(e)}}}function Jl(a){let e,t,l=`${a[21]==0?a[4]:a[4]/2}px`,n=a[22].values,i=[];for(let f=0;f<n.length;f+=1)i[f]=Zl(Yl(a,n,f));let s=a[21]!=0&&xn(a);return{c(){e=y("div");for(let f=0;f<i.length;f+=1)i[f].c();t=P(),s&&s.c(),this.h()},l(f){e=D(f,"DIV",{class:!0});var o=S(e);for(let r=0;r<i.length;r+=1)i[r].l(o);t=j(o),s&&s.l(o),o.forEach(h),this.h()},h(){k(e,"class","bar-group svelte-ffogaq"),A(e,"height",l,!1)},m(f,o){E(f,e,o);for(let r=0;r<i.length;r+=1)i[r].m(e,null);p(e,t),s&&s.m(e,null)},p(f,o){if(o&451){n=f[22].values;let r;for(r=0;r<n.length;r+=1){const u=Yl(f,n,r);i[r]?i[r].p(u,o):(i[r]=Zl(u),i[r].c(),i[r].m(e,t))}for(;r<i.length;r+=1)i[r].d(1);i.length=n.length}f[21]!=0&&s.p(f,o),o&16&&l!==(l=`${f[21]==0?f[4]:f[4]/2}px`)&&A(e,"height",l,!1)},d(f){f&&h(e),le(i,f),s&&s.d()}}}function Ql(a){let e,t=a[2](a[19][a[0]])+"",l,n,i;return{c(){e=y("td"),l=T(t),n=T(a[3]),this.h()},l(s){e=D(s,"TD",{class:!0});var f=S(e);l=V(f,t),n=V(f,a[3]),f.forEach(h),this.h()},h(){k(e,"class",i="cell-right "+(a[21]==0?"bold":"brackets")+" svelte-ffogaq")},m(s,f){E(s,e,f),p(e,l),p(e,n)},p(s,f){f&37&&t!==(t=s[2](s[19][s[0]])+"")&&G(l,t),f&8&&G(n,s[3])},d(s){s&&h(e)}}}function Xl(a){let e,t,l,n,i=a[16].label+"",s,f,o,r=a[16].values,u=[];for(let c=0;c<r.length;c+=1)u[c]=Ql(Ul(a,r,c));return{c(){e=y("tr"),t=y("td"),l=y("div"),n=P(),s=T(i),f=P();for(let c=0;c<u.length;c+=1)u[c].c();o=P(),this.h()},l(c){e=D(c,"TR",{});var _=S(e);t=D(_,"TD",{class:!0});var d=S(t);l=D(d,"DIV",{class:!0}),S(l).forEach(h),n=j(d),s=V(d,i),d.forEach(h),f=j(_);for(let v=0;v<u.length;v+=1)u[v].l(_);o=j(_),_.forEach(h),this.h()},h(){k(l,"class","legend-vis svelte-ffogaq"),A(l,"background-color",a[7](a[16].label),!1),k(t,"class","svelte-ffogaq")},m(c,_){E(c,e,_),p(e,t),p(t,l),p(t,n),p(t,s),p(e,f);for(let d=0;d<u.length;d+=1)u[d].m(e,null);p(e,o)},p(c,_){if(_&160&&A(l,"background-color",c[7](c[16].label),!1),_&32&&i!==(i=c[16].label+"")&&G(s,i),_&45){r=c[16].values;let d;for(d=0;d<r.length;d+=1){const v=Ul(c,r,d);u[d]?u[d].p(v,_):(u[d]=Ql(v),u[d].c(),u[d].m(e,o))}for(;d<u.length;d+=1)u[d].d(1);u.length=r.length}},d(c){c&&h(e),le(u,c)}}}function ei(a){let e,t,l,n=a[6],i=[];for(let o=0;o<n.length;o+=1)i[o]=Jl(Rl(a,n,o));let s=a[5],f=[];for(let o=0;o<s.length;o+=1)f[o]=Xl(Gl(a,s,o));return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=P(),t=y("table"),l=y("tbody");for(let o=0;o<f.length;o+=1)f[o].c();this.h()},l(o){for(let c=0;c<i.length;c+=1)i[c].l(o);e=j(o),t=D(o,"TABLE",{class:!0});var r=S(t);l=D(r,"TBODY",{});var u=S(l);for(let c=0;c<f.length;c+=1)f[c].l(u);u.forEach(h),r.forEach(h),this.h()},h(){k(t,"class","legend svelte-ffogaq")},m(o,r){for(let u=0;u<i.length;u+=1)i[u].m(o,r);E(o,e,r),E(o,t,r),p(t,l);for(let u=0;u<f.length;u+=1)f[u].m(l,null)},p(o,[r]){if(r&467){n=o[6];let u;for(u=0;u<n.length;u+=1){const c=Rl(o,n,u);i[u]?i[u].p(c,r):(i[u]=Jl(c),i[u].c(),i[u].m(e.parentNode,e))}for(;u<i.length;u+=1)i[u].d(1);i.length=n.length}if(r&173){s=o[5];let u;for(u=0;u<s.length;u+=1){const c=Gl(o,s,u);f[u]?f[u].p(c,r):(f[u]=Xl(c),f[u].c(),f[u].m(l,null))}for(;u<f.length;u+=1)f[u].d(1);f.length=s.length}},i:B,o:B,d(o){le(i,o),o&&h(e),o&&h(t),le(f,o)}}}function li(a,e,t){let l,n,i,s,f,o,r,{data:u}=e,{xKey:c="value"}=e,{yKey:_="category"}=e,{zKey:d="group"}=e,{formatTick:v=I=>Math.round(I)}=e,{suffix:g="%"}=e,{barHeight:b=75}=e,{colors:m=["#206095","#A8BD3A","#003C57","#27A0CC","#118C7B","#F66068","#746CB1","#22D0B6","lightgrey"]}=e;function w(I,C){let L={},R={};for(const Z of I)L[Z[C]]||(L[Z[C]]={label:Z[C],values:[]},R[Z[C]]=0),L[Z[C]].values.push(Xe(Ce({},Z),{offset:R[Z[C]]})),R[Z[C]]+=Z[c];let Y=[];for(const Z in L)Y.push(L[Z]);return Y}return a.$$set=I=>{"data"in I&&t(9,u=I.data),"xKey"in I&&t(0,c=I.xKey),"yKey"in I&&t(1,_=I.yKey),"zKey"in I&&t(10,d=I.zKey),"formatTick"in I&&t(2,v=I.formatTick),"suffix"in I&&t(3,g=I.suffix),"barHeight"in I&&t(4,b=I.barHeight),"colors"in I&&t(11,m=I.colors)},a.$$.update=()=>{a.$$.dirty&514&&t(12,l=u.map(I=>I[_]).filter((I,C,L)=>L.indexOf(I)===C)),a.$$.dirty&1536&&t(14,n=u.map(I=>I[d]).filter((I,C,L)=>L.indexOf(I)===C)),a.$$.dirty&17921&&t(13,i=[0,u.filter(I=>I[d]==n[0]).map(I=>I[c]).reduce((I,C)=>I+C,0)]),a.$$.dirty&8192&&t(8,s=I=>I/i[1]*100),a.$$.dirty&6144&&t(7,f=I=>m[l.indexOf(I)%l.length]),a.$$.dirty&1536&&t(6,o=w(u,d)),a.$$.dirty&514&&t(5,r=w(u,_))},[c,_,v,g,b,r,o,f,s,u,d,m,l,i,n]}class ti extends ne{constructor(e){super();ie(this,e,li,ei,se,{data:9,xKey:0,yKey:1,zKey:10,formatTick:2,suffix:3,barHeight:4,colors:11})}}function $l(a,e,t){const l=a.slice();return l[2]=e[t],l[4]=t,l}function xl(a){let e,t,l=a[4]+a[1]+"",n,i,s,f,o,r=a[2].name+"",u,c,_,d=a[2].value.toFixed(1)+"",v,g,b;return{c(){e=y("tr"),t=y("td"),n=T(l),i=T("."),s=P(),f=y("td"),o=y("strong"),u=T(r),c=P(),_=y("td"),v=T(d),g=T("%"),b=P(),this.h()},l(m){e=D(m,"TR",{});var w=S(e);t=D(w,"TD",{class:!0});var I=S(t);n=V(I,l),i=V(I,"."),I.forEach(h),s=j(w),f=D(w,"TD",{});var C=S(f);o=D(C,"STRONG",{});var L=S(o);u=V(L,r),L.forEach(h),C.forEach(h),c=j(w),_=D(w,"TD",{class:!0});var R=S(_);v=V(R,d),g=V(R,"%"),R.forEach(h),b=j(w),w.forEach(h),this.h()},h(){k(t,"class","w35 svelte-k5j86q"),k(_,"class","text-right svelte-k5j86q")},m(m,w){E(m,e,w),p(e,t),p(t,n),p(t,i),p(e,s),p(e,f),p(f,o),p(o,u),p(e,c),p(e,_),p(_,v),p(_,g),p(e,b)},p(m,w){w&2&&l!==(l=m[4]+m[1]+"")&&G(n,l),w&1&&r!==(r=m[2].name+"")&&G(u,r),w&1&&d!==(d=m[2].value.toFixed(1)+"")&&G(v,d)},d(m){m&&h(e)}}}function ni(a){let e,t,l=a[0],n=[];for(let i=0;i<l.length;i+=1)n[i]=xl($l(a,l,i));return{c(){e=y("table"),t=y("tbody");for(let i=0;i<n.length;i+=1)n[i].c();this.h()},l(i){e=D(i,"TABLE",{class:!0});var s=S(e);t=D(s,"TBODY",{});var f=S(t);for(let o=0;o<n.length;o+=1)n[o].l(f);f.forEach(h),s.forEach(h),this.h()},h(){k(e,"class","table-rank text-small svelte-k5j86q")},m(i,s){E(i,e,s),p(e,t);for(let f=0;f<n.length;f+=1)n[f].m(t,null)},p(i,[s]){if(s&3){l=i[0];let f;for(f=0;f<l.length;f+=1){const o=$l(i,l,f);n[f]?n[f].p(o,s):(n[f]=xl(o),n[f].c(),n[f].m(t,null))}for(;f<n.length;f+=1)n[f].d(1);n.length=l.length}},i:B,o:B,d(i){i&&h(e),le(n,i)}}}function ii(a,e,t){let{data:l}=e,{offset:n=1}=e;return a.$$set=i=>{"data"in i&&t(0,l=i.data),"offset"in i&&t(1,n=i.offset)},[l,n]}class Ot extends ne{constructor(e){super();ie(this,e,ii,ni,se,{data:0,offset:1})}}function et(a){let e;const t=a[14].default,l=pe(t,a,a[13],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,i){l&&l.m(n,i),e=!0},p(n,i){l&&l.p&&(!e||i&8192)&&ke(l,t,n,n[13],e?Ee(t,n[13],i,null):we(n[13]),null)},i(n){e||(N(l,n),e=!0)},o(n){z(l,n),e=!1},d(n){l&&l.d(n)}}}function si(a){let e,t,l=a[0]&&et(a);return{c(){e=y("div"),l&&l.c(),this.h()},l(n){e=D(n,"DIV",{id:!0,class:!0});var i=S(e);l&&l.l(i),i.forEach(h),this.h()},h(){k(e,"id",a[1]),k(e,"class","svelte-a65d1y")},m(n,i){E(n,e,i),l&&l.m(e,null),a[15](e),t=!0},p(n,[i]){n[0]?l?(l.p(n,i),i&1&&N(l,1)):(l=et(n),l.c(),N(l,1),l.m(e,null)):l&&(Q(),z(l,1,1,()=>{l=null}),X()),(!t||i&2)&&k(e,"id",n[1])},i(n){t||(N(l),t=!0)},o(n){z(l),t=!1},d(n){n&&h(e),l&&l.d(),a[15](null)}}}function ai(a,e,t){let{$$slots:l={},$$scope:n}=e,{map:i}=e,{id:s="map"}=e,{location:f={bounds:[[-5.816,49.864],[1.863,55.872]]}}=e,{maxbounds:o=[[-13,48],[5,60]]}=e,{style:r="https://bothness.github.io/ons-basemaps/data/style-omt.json"}=e,{interactive:u=!0}=e,{minzoom:c=0}=e,{maxzoom:_=14}=e,{zoom:d=null}=e,{scrollzoom:v=!0}=e,{geolocate:g=!0}=e,{zoomcontrol:b=!0}=e,m,w;Pe("map",{getMap:()=>i}),f.bounds?w={bounds:f.bounds}:f.lon&&f.lat&&(w={center:[f.lon,f.lat]},f.zoom&&(w.zoom=f.zoom)),o&&(w.maxBounds=o),Qt(()=>{const C=document.createElement("link");return C.rel="stylesheet",C.href="https://unpkg.com/mapbox-gl@1.13.0/dist/mapbox-gl.css",C.onload=()=>{t(0,i=new He.Map(Ce({container:m,style:r,minZoom:c,maxZoom:_,interactive:u},w))),b&&i.addControl(new He.NavigationControl({showCompass:!1})),v||i.scrollZoom.disable(),g&&i.addControl(new He.GeolocateControl),i.on("load",()=>{t(3,d=i.getZoom())}),i.on("zoom",()=>{t(3,d=i.getZoom())})},document.head.appendChild(C),()=>{i.remove(),C.parentNode.removeChild(C)}});function I(C){Ye[C?"unshift":"push"](()=>{m=C,t(2,m)})}return a.$$set=C=>{"map"in C&&t(0,i=C.map),"id"in C&&t(1,s=C.id),"location"in C&&t(4,f=C.location),"maxbounds"in C&&t(5,o=C.maxbounds),"style"in C&&t(6,r=C.style),"interactive"in C&&t(7,u=C.interactive),"minzoom"in C&&t(8,c=C.minzoom),"maxzoom"in C&&t(9,_=C.maxzoom),"zoom"in C&&t(3,d=C.zoom),"scrollzoom"in C&&t(10,v=C.scrollzoom),"geolocate"in C&&t(11,g=C.geolocate),"zoomcontrol"in C&&t(12,b=C.zoomcontrol),"$$scope"in C&&t(13,n=C.$$scope)},[i,s,m,d,f,o,r,u,c,_,v,g,b,n,l,I]}class fi extends ne{constructor(e){super();ie(this,e,ai,si,se,{map:0,id:1,location:4,maxbounds:5,style:6,interactive:7,minzoom:8,maxzoom:9,zoom:3,scrollzoom:10,geolocate:11,zoomcontrol:12})}}function lt(a){let e;const t=a[11].default,l=pe(t,a,a[10],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,i){l&&l.m(n,i),e=!0},p(n,i){l&&l.p&&(!e||i&1024)&&ke(l,t,n,n[10],e?Ee(t,n[10],i,null):we(n[10]),null)},i(n){e||(N(l,n),e=!0)},o(n){z(l,n),e=!1},d(n){l&&l.d(n)}}}function oi(a){let e,t,l=a[0]&&lt(a);return{c(){l&&l.c(),e=K()},l(n){l&&l.l(n),e=K()},m(n,i){l&&l.m(n,i),E(n,e,i),t=!0},p(n,[i]){n[0]?l?(l.p(n,i),i&1&&N(l,1)):(l=lt(n),l.c(),N(l,1),l.m(e.parentNode,e)):l&&(Q(),z(l,1,1,()=>{l=null}),X())},i(n){t||(N(l),t=!0)},o(n){z(l),t=!1},d(n){l&&l.d(n),n&&h(e)}}}function ri(a,e,t){let{$$slots:l={},$$scope:n}=e,{id:i}=e,{type:s}=e,{url:f=null}=e,{props:o={}}=e,{data:r=null}=e,{layer:u=null}=e,{promoteId:c=null}=e,{minzoom:_=null}=e,{maxzoom:d=null}=e,v=!1;const{getMap:g}=Le("map"),b=g();Pe("source",{source:i,sourceLayer:u}),b.getSource(i)&&b.removeSource(i);function m(){b.isSourceLoaded(i)?(t(0,v=!0),console.log(i+" loaded!")):setTimeout(()=>{console.log("..."),m()},500)}function w(){b.isStyleLoaded(i)?(I(),document.querySelector("#map canvas")&&document.querySelector("#map canvas").tabIndex=="0"&&(document.querySelector("#map canvas").tabIndex="-1")):setTimeout(()=>{console.log("..."),w()},500)}_&&(o.minzoom=_),d&&(o.maxzoom=d),u&&c?(o.promoteId={},o.promoteId[u]=c):c&&(o.promoteId=c);function I(){console.log(i+" map source loading..."),s=="geojson"?r?(b.addSource(i,Ce({type:s,data:r},o)),m()):f&&(b.addSource(i,Ce({type:s,data:f},o)),m()):s=="vector"&&(b.addSource(i,Ce({type:s,tiles:[f]},o)),m())}w();function C(){b.getSource(i).setData(r)}return a.$$set=L=>{"id"in L&&t(2,i=L.id),"type"in L&&t(3,s=L.type),"url"in L&&t(4,f=L.url),"props"in L&&t(1,o=L.props),"data"in L&&t(5,r=L.data),"layer"in L&&t(6,u=L.layer),"promoteId"in L&&t(7,c=L.promoteId),"minzoom"in L&&t(8,_=L.minzoom),"maxzoom"in L&&t(9,d=L.maxzoom),"$$scope"in L&&t(10,n=L.$$scope)},a.$$.update=()=>{a.$$.dirty&33&&v&&r&&C()},[v,o,i,s,f,r,u,c,_,d,n,l]}class ui extends ne{constructor(e){super();ie(this,e,ri,oi,se,{id:2,type:3,url:4,props:1,data:5,layer:6,promoteId:7,minzoom:8,maxzoom:9})}}function ci(a,e,t){const l=Xt(),n=new He.Popup({closeButton:!1,closeOnClick:!1});let{id:i}=e,{type:s}=e,{filter:f=null}=e,{layout:o={}}=e,{paint:r={}}=e,{data:u=null}=e,{geoCode:c=null}=e,{colorCode:_=null}=e,{nameCode:d=null}=e,{valueCode:v=null}=e,{click:g=!1}=e,{ignoreClick:b=!1}=e,{clickCenter:m=!1}=e,{selected:w=null}=e,{hover:I=!1}=e,{hovered:C=null}=e,{highlight:L=!1}=e,{highlightKey:R="highlighted"}=e,{highlighted:Y=[]}=e,{order:Z=null}=e,{maxzoom:O=null}=e,{minzoom:J=null}=e,{tooltip:De=!1}=e;const{source:ae,sourceLayer:x}=Le("source"),{getMap:ge}=Le("map"),$=ge();let ve=null,Ie=null,Ne=[];$.getLayer(i)&&$.removeLayer(i);let ze={id:i,type:s,source:ae,paint:r,layout:o};f&&(ze.filter=f),x&&(ze["source-layer"]=x),O&&(ze.maxzoom=O),J&&(ze.minzoom=J),$.addLayer(ze,Z);function We(){u.forEach(M=>{$.setFeatureState({source:ae,sourceLayer:x,id:M[c]},{color:_?M[_]:null,name:d?M[d]:null,value:v?M[v]:null})})}return g&&$.on("click",i,M=>{if(M.features.length>0&&!b){if(t(0,w=M.features[0].id),l("select",{code:w}),ve&&$.setFeatureState({source:ae,sourceLayer:x,id:ve},{selected:!1}),$.setFeatureState({source:ae,sourceLayer:x,id:w},{selected:!0}),m){let ce=centroid(M.features[0].toJSON().geometry);$.flyTo({center:ce.geometry.coordinates})}t(23,ve=w)}}),I&&($.on("mousemove",i,M=>{if(M.features.length>0){C&&$.setFeatureState({source:ae,sourceLayer:x,id:C},{hovered:!1}),t(1,C=t(24,Ie=M.features[0].id)),$.setFeatureState({source:ae,sourceLayer:x,id:C},{hovered:!0}),$.getCanvas().style.cursor="pointer";let ce=$.getFeatureState({source:ae,sourceLayer:x,id:C});De&&ce.name&&n.setLngLat(M.lngLat).setHTML(`<strong>${ce.name}</strong>${ce.value?"<br/>"+ce.value.toFixed(1)+"%":"<br/>Data not available"}`).addTo($)}}),$.on("mouseleave",i,M=>{C&&$.setFeatureState({source:ae,sourceLayer:x,id:C},{hovered:!1}),t(1,C=t(24,Ie=null)),$.getCanvas().style.cursor="",De&&n.remove()})),a.$$set=M=>{"id"in M&&t(2,i=M.id),"type"in M&&t(3,s=M.type),"filter"in M&&t(4,f=M.filter),"layout"in M&&t(5,o=M.layout),"paint"in M&&t(6,r=M.paint),"data"in M&&t(7,u=M.data),"geoCode"in M&&t(8,c=M.geoCode),"colorCode"in M&&t(9,_=M.colorCode),"nameCode"in M&&t(10,d=M.nameCode),"valueCode"in M&&t(11,v=M.valueCode),"click"in M&&t(12,g=M.click),"ignoreClick"in M&&t(13,b=M.ignoreClick),"clickCenter"in M&&t(14,m=M.clickCenter),"selected"in M&&t(0,w=M.selected),"hover"in M&&t(15,I=M.hover),"hovered"in M&&t(1,C=M.hovered),"highlight"in M&&t(16,L=M.highlight),"highlightKey"in M&&t(17,R=M.highlightKey),"highlighted"in M&&t(18,Y=M.highlighted),"order"in M&&t(19,Z=M.order),"maxzoom"in M&&t(20,O=M.maxzoom),"minzoom"in M&&t(21,J=M.minzoom),"tooltip"in M&&t(22,De=M.tooltip)},a.$$.update=()=>{a.$$.dirty[0]&640&&(u||_)&&We(),a.$$.dirty[0]&34013184&&L&&Y!=Ne&&(Ne[0]&&Ne.forEach(M=>{let ce={};ce[R]=!1,$.setFeatureState({source:ae,sourceLayer:x,id:M},ce)}),t(25,Ne=Y),Y[0]&&Y.forEach(M=>{let ce={};ce[R]=!0,$.setFeatureState({source:ae,sourceLayer:x,id:M},ce)})),a.$$.dirty[0]&8392705&&g&&w!=ve&&(ve&&$.setFeatureState({source:ae,sourceLayer:x,id:ve},{selected:!1}),w&&$.setFeatureState({source:ae,sourceLayer:x,id:w},{selected:!0}),t(23,ve=w)),a.$$.dirty[0]&16809986&&I&&C!=Ie&&(Ie&&$.setFeatureState({source:ae,sourceLayer:x,id:Ie},{hovered:!1}),C&&$.setFeatureState({source:ae,sourceLayer:x,id:C},{hovered:!0}),t(24,Ie=C))},[w,C,i,s,f,o,r,u,c,_,d,v,g,b,m,I,L,R,Y,Z,O,J,De,ve,Ie,Ne]}class tt extends ne{constructor(e){super();ie(this,e,ci,null,se,{id:2,type:3,filter:4,layout:5,paint:6,data:7,geoCode:8,colorCode:9,nameCode:10,valueCode:11,click:12,ignoreClick:13,clickCenter:14,selected:0,hover:15,hovered:1,highlight:16,highlightKey:17,highlighted:18,order:19,maxzoom:20,minzoom:21,tooltip:22},null,[-1,-1])}}function _i(a){let e,t,l;const n=a[1].default,i=pe(n,a,a[0],null);return{c(){e=y("div"),t=y("div"),i&&i.c(),this.h()},l(s){e=D(s,"DIV",{class:!0});var f=S(e);t=D(f,"DIV",{class:!0});var o=S(t);i&&i.l(o),o.forEach(h),f.forEach(h),this.h()},h(){k(t,"class","wrapper"),k(e,"class","page-content")},m(s,f){E(s,e,f),p(e,t),i&&i.m(t,null),l=!0},p(s,[f]){i&&i.p&&(!l||f&1)&&ke(i,n,s,s[0],l?Ee(n,s[0],f,null):we(s[0]),null)},i(s){l||(N(i,s),l=!0)},o(s){z(i,s),l=!1},d(s){s&&h(e),i&&i.d(s)}}}function hi(a,e,t){let{$$slots:l={},$$scope:n}=e;return a.$$set=i=>{"$$scope"in i&&t(0,n=i.$$scope)},[n,l]}class di extends ne{constructor(e){super();ie(this,e,hi,_i,se,{})}}const mi=a=>({}),nt=a=>({});function it(a){let e,t,l,n;const i=a[6].meta,s=pe(i,a,a[5],nt);return{c(){e=y("h2"),t=T(a[0]),l=P(),s&&s.c(),this.h()},l(f){e=D(f,"H2",{id:!0,class:!0});var o=S(e);t=V(o,a[0]),o.forEach(h),l=j(f),s&&s.l(f),this.h()},h(){k(e,"id","topics"),k(e,"class","svelte-1328dmd")},m(f,o){E(f,e,o),p(e,t),E(f,l,o),s&&s.m(f,o),n=!0},p(f,o){(!n||o&1)&&G(t,f[0]),s&&s.p&&(!n||o&32)&&ke(s,i,f,f[5],n?Ee(i,f[5],o,mi):we(f[5]),nt)},i(f){n||(N(s,f),n=!0)},o(f){z(s,f),n=!1},d(f){f&&h(e),f&&h(l),s&&s.d(f)}}}function gi(a){let e,t,l,n,i=`repeat(auto-fit, minmax(min(${a[1]}px, 100%), 1fr))`,s=`${a[2]}px`,f,o=a[0]&&it(a);const r=a[6].default,u=pe(r,a,a[5],null);return{c(){e=y("div"),o&&o.c(),t=P(),l=y("div"),u&&u.c(),this.h()},l(c){e=D(c,"DIV",{class:!0});var _=S(e);o&&o.l(_),t=j(_),l=D(_,"DIV",{class:!0});var d=S(l);u&&u.l(d),d.forEach(h),_.forEach(h),this.h()},h(){k(l,"class","tiles-grid margin-bottom svelte-1328dmd"),Fe(()=>a[7].call(l)),A(l,"grid-template-columns",i,!1),A(l,"grid-gap",s,!1),k(e,"class","tiles")},m(c,_){E(c,e,_),o&&o.m(e,null),p(e,t),p(e,l),u&&u.m(l,null),n=Ct(l,a[7].bind(l)),f=!0},p(c,[_]){c[0]?o?(o.p(c,_),_&1&&N(o,1)):(o=it(c),o.c(),N(o,1),o.m(e,t)):o&&(Q(),z(o,1,1,()=>{o=null}),X()),u&&u.p&&(!f||_&32)&&ke(u,r,c,c[5],f?Ee(r,c[5],_,null):we(c[5]),null),_&2&&i!==(i=`repeat(auto-fit, minmax(min(${c[1]}px, 100%), 1fr))`)&&A(l,"grid-template-columns",i,!1),_&4&&s!==(s=`${c[2]}px`)&&A(l,"grid-gap",s,!1)},i(c){f||(N(o),N(u,c),f=!0)},o(c){z(o),z(u,c),f=!1},d(c){c&&h(e),o&&o.d(),u&&u.d(c),n()}}}function vi(a,e,t){let l,{$$slots:n={},$$scope:i}=e,{title:s=null}=e,{colwidth:f=280}=e,{gridgap:o=16}=e,r;const u=$t(3);Pe("tiles",{cols:u});function c(){r=this.clientWidth,t(3,r)}return a.$$set=_=>{"title"in _&&t(0,s=_.title),"colwidth"in _&&t(1,f=_.colwidth),"gridgap"in _&&t(2,o=_.gridgap),"$$scope"in _&&t(5,i=_.$$scope)},a.$$.update=()=>{a.$$.dirty&14&&t(4,l=r?Math.floor((r+o)/(f+o)):3),a.$$.dirty&16&&u.set(l)},[s,f,o,r,l,i,n,c]}class Ue extends ne{constructor(e){super();ie(this,e,vi,gi,se,{title:0,colwidth:1,gridgap:2})}}function st(a,e,t){const l=a.slice();return l[9]=e[t],l}function at(a){let e,t,l;return{c(){e=y("header"),t=y("h3"),l=T(a[2]),this.h()},l(n){e=D(n,"HEADER",{class:!0});var i=S(e);t=D(i,"H3",{class:!0});var s=S(t);l=V(s,a[2]),s.forEach(h),i.forEach(h),this.h()},h(){k(t,"class","margin-top--0 margin-right--0 margin-bottom--0 margin-left--0 svelte-1krn9ab"),k(e,"class","margin-top--1")},m(n,i){E(n,e,i),p(e,t),p(t,l)},p(n,i){i&4&&G(l,n[2])},d(n){n&&h(e)}}}function ft(a){let e,t=a[3],l=[];for(let n=0;n<t.length;n+=1)l[n]=ot(st(a,t,n));return{c(){e=y("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=D(n,"DIV",{class:!0});var i=S(e);for(let s=0;s<l.length;s+=1)l[s].l(i);i.forEach(h),this.h()},h(){k(e,"class","margin-top--2")},m(n,i){E(n,e,i);for(let s=0;s<l.length;s+=1)l[s].m(e,null)},p(n,i){if(i&8){t=n[3];let s;for(s=0;s<t.length;s+=1){const f=st(n,t,s);l[s]?l[s].p(f,i):(l[s]=ot(f),l[s].c(),l[s].m(e,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(n){n&&h(e),le(l,n)}}}function ot(a){let e,t=a[9].label+"",l,n,i,s,f;return{c(){e=y("a"),l=T(t),n=P(),this.h()},l(o){e=D(o,"A",{href:!0,class:!0,"aria-label":!0,"data-gtm-label":!0});var r=S(e);l=V(r,t),n=j(r),r.forEach(h),this.h()},h(){k(e,"href",i=a[9].url),k(e,"class","tile__link"),k(e,"aria-label",s=a[9].label),k(e,"data-gtm-label",f=a[9].label)},m(o,r){E(o,e,r),p(e,l),p(e,n)},p(o,r){r&8&&t!==(t=o[9].label+"")&&G(l,t),r&8&&i!==(i=o[9].url)&&k(e,"href",i),r&8&&s!==(s=o[9].label)&&k(e,"aria-label",s),r&8&&f!==(f=o[9].label)&&k(e,"data-gtm-label",f)},d(o){o&&h(e)}}}function bi(a){let e,t,l,n,i=`span ${a[0]==1?1:a[0]>a[5]?a[5]:a[0]}`,s=`span ${a[1]}`,f,o=a[2]&&at(a);const r=a[8].default,u=pe(r,a,a[7],null);let c=a[3]&&a[3][0]&&ft(a);return{c(){e=y("div"),o&&o.c(),t=P(),u&&u.c(),l=P(),c&&c.c(),this.h()},l(_){e=D(_,"DIV",{class:!0});var d=S(e);o&&o.l(d),t=j(d),u&&u.l(d),l=j(d),c&&c.l(d),d.forEach(h),this.h()},h(){k(e,"class",n=Ke(a[4]?"":"tile tile__content")+" svelte-1krn9ab"),ue(e,"blank",a[4]),A(e,"grid-column",i,!1),A(e,"grid-row",s,!1)},m(_,d){E(_,e,d),o&&o.m(e,null),p(e,t),u&&u.m(e,null),p(e,l),c&&c.m(e,null),f=!0},p(_,[d]){_[2]?o?o.p(_,d):(o=at(_),o.c(),o.m(e,t)):o&&(o.d(1),o=null),u&&u.p&&(!f||d&128)&&ke(u,r,_,_[7],f?Ee(r,_[7],d,null):we(_[7]),null),_[3]&&_[3][0]?c?c.p(_,d):(c=ft(_),c.c(),c.m(e,null)):c&&(c.d(1),c=null),(!f||d&16&&n!==(n=Ke(_[4]?"":"tile tile__content")+" svelte-1krn9ab"))&&k(e,"class",n),d&16&&ue(e,"blank",_[4]),d&33&&i!==(i=`span ${_[0]==1?1:_[0]>_[5]?_[5]:_[0]}`)&&A(e,"grid-column",i,!1),d&2&&s!==(s=`span ${_[1]}`)&&A(e,"grid-row",s,!1)},i(_){f||(N(u,_),f=!0)},o(_){z(u,_),f=!1},d(_){_&&h(e),o&&o.d(),u&&u.d(_),c&&c.d()}}}function pi(a,e,t){let l,{$$slots:n={},$$scope:i}=e,{colspan:s=1}=e,{rowspan:f=1}=e,{title:o=null}=e,{links:r=null}=e,{blank:u=!1}=e;const{cols:c}=Le("tiles");return Nt(a,c,_=>t(5,l=_)),a.$$set=_=>{"colspan"in _&&t(0,s=_.colspan),"rowspan"in _&&t(1,f=_.rowspan),"title"in _&&t(2,o=_.title),"links"in _&&t(3,r=_.links),"blank"in _&&t(4,u=_.blank),"$$scope"in _&&t(7,i=_.$$scope)},[s,f,o,r,u,l,c,i,n]}class _e extends ne{constructor(e){super();ie(this,e,pi,bi,se,{colspan:0,rowspan:1,title:2,links:3,blank:4})}}function ki(a){let e,t;const l=a[5].default,n=pe(l,a,a[4],null);return{c(){e=y("mark"),n&&n.c(),this.h()},l(i){e=D(i,"MARK",{class:!0,style:!0,role:!0});var s=S(e);n&&n.l(s),s.forEach(h),this.h()},h(){k(e,"class","em svelte-1602h77"),A(e,"background-color",a[0]),A(e,"color",a[2]),k(e,"role","presentation"),ue(e,"nowrap",a[1])},m(i,s){E(i,e,s),n&&n.m(e,null),t=!0},p(i,[s]){n&&n.p&&(!t||s&16)&&ke(n,l,i,i[4],t?Ee(l,i[4],s,null):we(i[4]),null),(!t||s&1)&&A(e,"background-color",i[0]),(!t||s&4)&&A(e,"color",i[2]),s&2&&ue(e,"nowrap",i[1])},i(i){t||(N(n,i),t=!0)},o(i){z(n,i),t=!1},d(i){i&&h(e),n&&n.d(i)}}}function wi(a,e,t){let l,{$$slots:n={},$$scope:i}=e,{color:s="lightgrey"}=e,{nowrap:f=!0}=e;function o(u){return(u[0]*299+u[1]*587+u[2]*114)/1e3>125?"black":"white"}let r="black";return a.$$set=u=>{"color"in u&&t(0,s=u.color),"nowrap"in u&&t(1,f=u.nowrap),"$$scope"in u&&t(4,i=u.$$scope)},a.$$.update=()=>{a.$$.dirty&1&&t(3,l=xt(s).rgb),a.$$.dirty&8&&l&&t(2,r=o(l))},[s,f,r,l,i,n]}class Ht extends ne{constructor(e){super();ie(this,e,wi,ki,se,{color:0,nowrap:1})}}function rt(a,e,t){const l=a.slice();return l[39]=e[t],l[41]=t,l}function ut(a,e,t){const l=a.slice();return l[42]=e[t],l}function ct(a,e,t){const l=a.slice();return l[45]=e[t],l[41]=t,l}function Ei(a){let e;return{c(){e=T("Population Group Profiles")},l(t){e=V(t,"Population Group Profiles")},m(t,l){E(t,e,l)},d(t){t&&h(e)}}}function yi(a){let e,t,l,n,i,s,f,o,r,u,c;return e=new Mn({props:{$$slots:{default:[Ei]},$$scope:{ctx:a}}}),{c(){q(e.$$.fragment),t=P(),l=y("p"),n=T("Select one or more identity characteristics to define a population group to compare with the whole population of England and Wales. For example, see "),i=y("a"),s=T("people of Sikh ethnicity born in the UK"),f=T(" or "),o=y("a"),r=T("people aged 65+ born in Ireland"),u=T("."),this.h()},l(_){U(e.$$.fragment,_),t=j(_),l=D(_,"P",{class:!0});var d=S(l);n=V(d,"Select one or more identity characteristics to define a population group to compare with the whole population of England and Wales. For example, see "),i=D(d,"A",{href:!0,class:!0});var v=S(i);s=V(v,"people of Sikh ethnicity born in the UK"),v.forEach(h),f=V(d," or "),o=D(d,"A",{href:!0,class:!0});var g=S(o);r=V(g,"people aged 65+ born in Ireland"),g.forEach(h),u=V(d,"."),d.forEach(h),this.h()},h(){k(i,"href","?religion=7&cob=1-5"),k(i,"class","svelte-1vmjlnr"),k(o,"href","?age=65-90&cob=6"),k(o,"class","svelte-1vmjlnr"),k(l,"class","subtitle svelte-1vmjlnr")},m(_,d){F(e,_,d),E(_,t,d),E(_,l,d),p(l,n),p(l,i),p(i,s),p(l,f),p(l,o),p(o,r),p(l,u),c=!0},p(_,d){const v={};d[1]&65536&&(v.$$scope={dirty:d,ctx:_}),e.$set(v)},i(_){c||(N(e.$$.fragment,_),c=!0)},o(_){z(e.$$.fragment,_),c=!1},d(_){W(e,_),_&&h(t),_&&h(l)}}}function _t(a){let e,t=de(a[45].label)+"",l,n;return{c(){e=y("option"),l=T(t),this.h()},l(i){e=D(i,"OPTION",{});var s=S(e);l=V(s,t),s.forEach(h),this.h()},h(){e.__value=n=a[45],e.value=e.__value},m(i,s){E(i,e,s),p(e,l)},p(i,s){s[0]&2048&&t!==(t=de(i[45].label)+"")&&G(l,t),s[0]&2048&&n!==(n=i[45])&&(e.__value=n,e.value=e.__value)},d(i){i&&h(e)}}}function ht(a){let e,t,l,n,i,s,f=a[2].cats,o=[];for(let r=0;r<f.length;r+=1)o[r]=dt(ut(a,f,r));return{c(){e=y("select");for(let r=0;r<o.length;r+=1)o[r].c();t=P(),l=y("button"),n=T("Add"),this.h()},l(r){e=D(r,"SELECT",{class:!0});var u=S(e);for(let _=0;_<o.length;_+=1)o[_].l(u);u.forEach(h),t=j(r),l=D(r,"BUTTON",{class:!0});var c=S(l);n=V(c,"Add"),c.forEach(h),this.h()},h(){k(e,"class","svelte-1vmjlnr"),a[3][a[2].label]===void 0&&Fe(()=>a[25].call(e)),k(l,"class","btn svelte-1vmjlnr")},m(r,u){E(r,e,u);for(let c=0;c<o.length;c+=1)o[c].m(e,null);qe(e,a[3][a[2].label]),E(r,t,u),E(r,l,u),p(l,n),i||(s=[Ae(e,"change",a[25]),Ae(l,"mouseup",a[26])],i=!0)},p(r,u){if(u[0]&4){f=r[2].cats;let c;for(c=0;c<f.length;c+=1){const _=ut(r,f,c);o[c]?o[c].p(_,u):(o[c]=dt(_),o[c].c(),o[c].m(e,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=f.length}u[0]&2060&&qe(e,r[3][r[2].label])},d(r){r&&h(e),le(o,r),r&&h(t),r&&h(l),i=!1,zt(s)}}}function dt(a){let e,t,l=(a[42].indent?Array.from({length:a[42].indent-1},a[24]).join("")+el:"")+"",n=de(a[42].label)+"",i,s;return{c(){e=y("option"),t=new ln,i=T(n),this.h()},l(f){e=D(f,"OPTION",{});var o=S(e);t=tn(o),i=V(o,n),o.forEach(h),this.h()},h(){t.a=i,e.__value=s=a[42],e.value=e.__value},m(f,o){E(f,e,o),t.m(l,e),p(e,i)},p(f,o){o[0]&4&&l!==(l=(f[42].indent?Array.from({length:f[42].indent-1},f[24]).join("")+el:"")+"")&&t.p(l),o[0]&4&&n!==(n=de(f[42].label)+"")&&G(i,n),o[0]&2052&&s!==(s=f[42])&&(e.__value=s,e.value=e.__value)},d(f){f&&h(e)}}}function mt(a){let e,t,l,n=a[0],i=[];for(let s=0;s<n.length;s+=1)i[s]=gt(rt(a,n,s));return{c(){e=y("br"),t=P();for(let s=0;s<i.length;s+=1)i[s].c();l=K()},l(s){e=D(s,"BR",{}),t=j(s);for(let f=0;f<i.length;f+=1)i[f].l(s);l=K()},m(s,f){E(s,e,f),E(s,t,f);for(let o=0;o<i.length;o+=1)i[o].m(s,f);E(s,l,f)},p(s,f){if(f[0]&8353){n=s[0];let o;for(o=0;o<n.length;o+=1){const r=rt(s,n,o);i[o]?i[o].p(r,f):(i[o]=gt(r),i[o].c(),i[o].m(l.parentNode,l))}for(;o<i.length;o+=1)i[o].d(1);i.length=n.length}},d(s){s&&h(e),s&&h(t),le(i,s),s&&h(l)}}}function Di(a){let e,t,l=de(a[39].topic)+"",n,i,s=de(a[39].label)+"",f,o,r,u,c,_;function d(){return a[27](a[39])}return{c(){e=y("div"),t=y("span"),n=T(l),i=T(": "),f=T(s),o=P(),r=y("button"),u=P(),this.h()},l(v){e=D(v,"DIV",{class:!0});var g=S(e);t=D(g,"SPAN",{class:!0});var b=S(t);n=V(b,l),i=V(b,": "),f=V(b,s),b.forEach(h),o=j(g),r=D(g,"BUTTON",{class:!0}),S(r).forEach(h),u=j(g),g.forEach(h),this.h()},h(){k(t,"class","svelte-1vmjlnr"),k(r,"class","svelte-1vmjlnr"),k(e,"class","chip svelte-1vmjlnr"),ue(e,"chip-inactive",a[41]>=a[7])},m(v,g){E(v,e,g),p(e,t),p(t,n),p(t,i),p(t,f),p(e,o),p(e,r),p(e,u),c||(_=Ae(r,"click",d),c=!0)},p(v,g){a=v,g[0]&1&&l!==(l=de(a[39].topic)+"")&&G(n,l),g[0]&1&&s!==(s=de(a[39].label)+"")&&G(f,s),g[0]&128&&ue(e,"chip-inactive",a[41]>=a[7])},d(v){v&&h(e),c=!1,_()}}}function Ii(a){let e,t,l=de(a[39].topic)+"",n,i,s=de(a[39].label)+"",f,o,r,u;return{c(){e=y("div"),t=y("span"),n=T(l),i=T(": "),f=T(s),o=P(),r=y("div"),u=P(),this.h()},l(c){e=D(c,"DIV",{class:!0});var _=S(e);t=D(_,"SPAN",{class:!0});var d=S(t);n=V(d,l),i=V(d,": "),f=V(d,s),d.forEach(h),o=j(_),r=D(_,"DIV",{class:!0}),S(r).forEach(h),u=j(_),_.forEach(h),this.h()},h(){k(t,"class","svelte-1vmjlnr"),k(r,"class","chip-loader svelte-1vmjlnr"),k(e,"class","chip chip-pending svelte-1vmjlnr")},m(c,_){E(c,e,_),p(e,t),p(t,n),p(t,i),p(t,f),p(e,o),p(e,r),p(e,u)},p(c,_){_[0]&1&&l!==(l=de(c[39].topic)+"")&&G(n,l),_[0]&1&&s!==(s=de(c[39].label)+"")&&G(f,s)},d(c){c&&h(e)}}}function gt(a){let e;function t(i,s){return i[5]=="loading"&&i[41]==i[0].length-1?Ii:Di}let l=t(a),n=l(a);return{c(){n.c(),e=K()},l(i){n.l(i),e=K()},m(i,s){n.m(i,s),E(i,e,s)},p(i,s){l===(l=t(i))&&n?n.p(i,s):(n.d(1),n=l(i),n&&(n.c(),n.m(e.parentNode,e)))},d(i){n.d(i),i&&h(e)}}}function vt(a){let e,t,l,n=a[5]=="failed"&&bt(),i=a[6]==!0&&pt();return{c(){e=y("div"),t=T(`Some datasets not available for selected variables.
    `),n&&n.c(),l=P(),i&&i.c(),this.h()},l(s){e=D(s,"DIV",{class:!0});var f=S(e);t=V(f,`Some datasets not available for selected variables.
    `),n&&n.l(f),l=j(f),i&&i.l(f),f.forEach(h),this.h()},h(){k(e,"class","warning svelte-1vmjlnr")},m(s,f){E(s,e,f),p(e,t),n&&n.m(e,null),p(e,l),i&&i.m(e,null)},p(s,f){s[5]=="failed"?n||(n=bt(),n.c(),n.m(e,l)):n&&(n.d(1),n=null),s[6]==!0?i||(i=pt(),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(s){s&&h(e),n&&n.d(),i&&i.d()}}}function bt(a){let e;return{c(){e=T("Try removing a variable to see more datasets.")},l(t){e=V(t,"Try removing a variable to see more datasets.")},m(t,l){E(t,e,l)},d(t){t&&h(e)}}}function pt(a){let e;return{c(){e=T("Economic indicators (employment, social status etc) not available for ages 0 to 15.")},l(t){e=V(t,"Economic indicators (employment, social status etc) not available for ages 0 to 15.")},m(t,l){E(t,e,l)},d(t){t&&h(e)}}}function Si(a){let e,t,l,n=a[11][0]?a[0][0]?"Select another characteristic":"Select a characteristic":"No more topics available",i,s,f,o,r,u,c,_=a[11],d=[];for(let m=0;m<_.length;m+=1)d[m]=_t(ct(a,_,m));let v=a[2]&&ht(a),g=a[0][0]&&mt(a),b=(a[5]=="failed"||a[6]==!0)&&vt(a);return{c(){e=y("div"),t=y("select"),l=y("option"),i=T(n);for(let m=0;m<d.length;m+=1)d[m].c();f=P(),v&&v.c(),o=P(),g&&g.c(),r=P(),b&&b.c(),this.h()},l(m){e=D(m,"DIV",{slot:!0,class:!0});var w=S(e);t=D(w,"SELECT",{class:!0});var I=S(t);l=D(I,"OPTION",{});var C=S(l);i=V(C,n),C.forEach(h);for(let L=0;L<d.length;L+=1)d[L].l(I);I.forEach(h),f=j(w),v&&v.l(w),o=j(w),g&&g.l(w),r=j(w),b&&b.l(w),w.forEach(h),this.h()},h(){l.__value=null,l.value=l.__value,t.disabled=s=!a[11][0],k(t,"class","svelte-1vmjlnr"),a[2]===void 0&&Fe(()=>a[23].call(t)),k(e,"slot","meta"),k(e,"class","wrapper")},m(m,w){E(m,e,w),p(e,t),p(t,l),p(l,i);for(let I=0;I<d.length;I+=1)d[I].m(t,null);qe(t,a[2]),p(e,f),v&&v.m(e,null),p(e,o),g&&g.m(e,null),p(e,r),b&&b.m(e,null),u||(c=Ae(t,"change",a[23]),u=!0)},p(m,w){if(w[0]&2049&&n!==(n=m[11][0]?m[0][0]?"Select another characteristic":"Select a characteristic":"No more topics available")&&G(i,n),w[0]&2048){_=m[11];let I;for(I=0;I<_.length;I+=1){const C=ct(m,_,I);d[I]?d[I].p(C,w):(d[I]=_t(C),d[I].c(),d[I].m(t,null))}for(;I<d.length;I+=1)d[I].d(1);d.length=_.length}w[0]&2048&&s!==(s=!m[11][0])&&(t.disabled=s),w[0]&2052&&qe(t,m[2]),m[2]?v?v.p(m,w):(v=ht(m),v.c(),v.m(e,o)):v&&(v.d(1),v=null),m[0][0]?g?g.p(m,w):(g=mt(m),g.c(),g.m(e,r)):g&&(g.d(1),g=null),m[5]=="failed"||m[6]==!0?b?b.p(m,w):(b=vt(m),b.c(),b.m(e,null)):b&&(b.d(1),b=null)},d(m){m&&h(e),le(d,m),v&&v.d(),g&&g.d(),b&&b.d(),u=!1,c()}}}function Ci(a){let e,t=(Math.round(a[10].selected/a[10].all*100)>0?Math.round(a[10].selected/a[10].all*100):"<1")+"",l,n,i,s,f,o,r,u,c,_=a[10].all.toLocaleString()+"",d,v,g;return u=new Ht({props:{color:"lightgrey",$$slots:{default:[zi]},$$scope:{ctx:a}}}),{c(){e=y("div"),l=T(t),n=T("%"),i=P(),s=y("div"),f=T("of people in England and Wales"),o=P(),r=y("div"),q(u.$$.fragment),c=T(" of "),d=T(_),v=T(" people"),this.h()},l(b){e=D(b,"DIV",{class:!0});var m=S(e);l=V(m,t),n=V(m,"%"),m.forEach(h),i=j(b),s=D(b,"DIV",{class:!0});var w=S(s);f=V(w,"of people in England and Wales"),w.forEach(h),o=j(b),r=D(b,"DIV",{class:!0});var I=S(r);U(u.$$.fragment,I),c=V(I," of "),d=V(I,_),v=V(I," people"),I.forEach(h),this.h()},h(){k(e,"class","num-big svelte-1vmjlnr"),k(s,"class","num-suffix svelte-1vmjlnr"),k(r,"class","num-desc svelte-1vmjlnr")},m(b,m){E(b,e,m),p(e,l),p(e,n),E(b,i,m),E(b,s,m),p(s,f),E(b,o,m),E(b,r,m),F(u,r,null),p(r,c),p(r,d),p(r,v),g=!0},p(b,m){(!g||m[0]&1024)&&t!==(t=(Math.round(b[10].selected/b[10].all*100)>0?Math.round(b[10].selected/b[10].all*100):"<1")+"")&&G(l,t);const w={};m[0]&1024|m[1]&65536&&(w.$$scope={dirty:m,ctx:b}),u.$set(w),(!g||m[0]&1024)&&_!==(_=b[10].all.toLocaleString()+"")&&G(d,_)},i(b){g||(N(u.$$.fragment,b),g=!0)},o(b){z(u.$$.fragment,b),g=!1},d(b){b&&h(e),b&&h(i),b&&h(s),b&&h(o),b&&h(r),W(u)}}}function Ni(a){let e,t=me.nodata+"",l;return{c(){e=y("div"),l=T(t),this.h()},l(n){e=D(n,"DIV",{class:!0});var i=S(e);l=V(i,t),i.forEach(h),this.h()},h(){k(e,"class","num-desc svelte-1vmjlnr")},m(n,i){E(n,e,i),p(e,l)},p:B,i:B,o:B,d(n){n&&h(e)}}}function zi(a){let e=a[10].selected.toLocaleString()+"",t;return{c(){t=T(e)},l(l){t=V(l,e)},m(l,n){E(l,t,n)},p(l,n){n[0]&1024&&e!==(e=l[10].selected.toLocaleString()+"")&&G(t,e)},d(l){l&&h(t)}}}function Ai(a){let e,t,l,n;const i=[Ni,Ci],s=[];function f(o,r){return o[10].selected==0?0:1}return e=f(a),t=s[e]=i[e](a),{c(){t.c(),l=K()},l(o){t.l(o),l=K()},m(o,r){s[e].m(o,r),E(o,l,r),n=!0},p(o,r){let u=e;e=f(o),e===u?s[e].p(o,r):(Q(),z(s[u],1,1,()=>{s[u]=null}),X(),t=s[e],t?t.p(o,r):(t=s[e]=i[e](o),t.c()),N(t,1),t.m(l.parentNode,l))},i(o){n||(N(t),n=!0)},o(o){z(t),n=!1},d(o){s[e].d(o),o&&h(l)}}}function Ti(a){let e,t=a[15](a[9].selected)+"",l,n,i,s,f,o,r,u=a[10].all!=a[10].selected&&kt(a);return{c(){e=y("div"),l=T(t),n=P(),i=y("div"),s=T("years"),f=P(),u&&u.c(),o=K(),this.h()},l(c){e=D(c,"DIV",{class:!0});var _=S(e);l=V(_,t),_.forEach(h),n=j(c),i=D(c,"DIV",{class:!0});var d=S(i);s=V(d,"years"),d.forEach(h),f=j(c),u&&u.l(c),o=K(),this.h()},h(){k(e,"class","num-big svelte-1vmjlnr"),k(i,"class","num-suffix svelte-1vmjlnr")},m(c,_){E(c,e,_),p(e,l),E(c,n,_),E(c,i,_),p(i,s),E(c,f,_),u&&u.m(c,_),E(c,o,_),r=!0},p(c,_){(!r||_[0]&512)&&t!==(t=c[15](c[9].selected)+"")&&G(l,t),c[10].all!=c[10].selected?u?(u.p(c,_),_[0]&1024&&N(u,1)):(u=kt(c),u.c(),N(u,1),u.m(o.parentNode,o)):u&&(Q(),z(u,1,1,()=>{u=null}),X())},i(c){r||(N(u),r=!0)},o(c){z(u),r=!1},d(c){c&&h(e),c&&h(n),c&&h(i),c&&h(f),u&&u.d(c),c&&h(o)}}}function Vi(a){let e,t=me.nodata+"",l;return{c(){e=y("div"),l=T(t),this.h()},l(n){e=D(n,"DIV",{class:!0});var i=S(e);l=V(i,t),i.forEach(h),this.h()},h(){k(e,"class","num-desc svelte-1vmjlnr")},m(n,i){E(n,e,i),p(e,l)},p:B,i:B,o:B,d(n){n&&h(e)}}}function kt(a){let e,t,l,n;return t=new Ht({props:{color:"lightgrey",$$slots:{default:[Pi]},$$scope:{ctx:a}}}),{c(){e=y("div"),q(t.$$.fragment),l=T(" for whole population"),this.h()},l(i){e=D(i,"DIV",{class:!0});var s=S(e);U(t.$$.fragment,s),l=V(s," for whole population"),s.forEach(h),this.h()},h(){k(e,"class","num-desc svelte-1vmjlnr")},m(i,s){E(i,e,s),F(t,e,null),p(e,l),n=!0},p(i,s){const f={};s[0]&512|s[1]&65536&&(f.$$scope={dirty:s,ctx:i}),t.$set(f)},i(i){n||(N(t.$$.fragment,i),n=!0)},o(i){z(t.$$.fragment,i),n=!1},d(i){i&&h(e),W(t)}}}function Pi(a){let e=a[15](a[9].all)+"",t,l;return{c(){t=T(e),l=T(" years")},l(n){t=V(n,e),l=V(n," years")},m(n,i){E(n,t,i),E(n,l,i)},p(n,i){i[0]&512&&e!==(e=n[15](n[9].all)+"")&&G(t,e)},d(n){n&&h(t),n&&h(l)}}}function ji(a){let e,t,l,n,i;const s=[Vi,Ti],f=[];function o(r,u){return u[0]&512&&(e=null),e==null&&(e=!!ye(r[9].selected.residents.age.values)),e?0:1}return t=o(a,[-1,-1]),l=f[t]=s[t](a),{c(){l.c(),n=K()},l(r){l.l(r),n=K()},m(r,u){f[t].m(r,u),E(r,n,u),i=!0},p(r,u){let c=t;t=o(r,u),t===c?f[t].p(r,u):(Q(),z(f[c],1,1,()=>{f[c]=null}),X(),l=f[t],l?l.p(r,u):(l=f[t]=s[t](r),l.c()),N(l,1),l.m(n.parentNode,n))},i(r){i||(N(l),i=!0)},o(r){z(l),i=!1},d(r){f[t].d(r),r&&h(n)}}}function Li(a){let e,t;return e=new Fn({props:{data:a[9].selected&&a[14](["residents","age"])}}),{c(){q(e.$$.fragment)},l(l){U(e.$$.fragment,l)},m(l,n){F(e,l,n),t=!0},p(l,n){const i={};n[0]&512&&(i.data=l[9].selected&&l[14](["residents","age"])),e.$set(i)},i(l){t||(N(e.$$.fragment,l),t=!0)},o(l){z(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function Ki(a){let e,t=me.nodata+"",l;return{c(){e=y("span"),l=T(t),this.h()},l(n){e=D(n,"SPAN",{class:!0});var i=S(e);l=V(i,t),i.forEach(h),this.h()},h(){k(e,"class","num-desc svelte-1vmjlnr")},m(n,i){E(n,e,i),p(e,l)},p:B,i:B,o:B,d(n){n&&h(e)}}}function Mi(a){let e,t,l,n,i;const s=[Ki,Li],f=[];function o(r,u){return u[0]&512&&(e=null),e==null&&(e=!!ye(r[9].selected.residents.age.values)),e?0:1}return t=o(a,[-1,-1]),l=f[t]=s[t](a),{c(){l.c(),n=K()},l(r){l.l(r),n=K()},m(r,u){f[t].m(r,u),E(r,n,u),i=!0},p(r,u){let c=t;t=o(r,u),t===c?f[t].p(r,u):(Q(),z(f[c],1,1,()=>{f[c]=null}),X(),l=f[t],l?l.p(r,u):(l=f[t]=s[t](r),l.c()),N(l,1),l.m(n.parentNode,n))},i(r){i||(N(l),i=!0)},o(r){z(l),i=!1},d(r){f[t].d(r),r&&h(n)}}}function Bi(a){let e,t,l,n,i,s;return e=new _e({props:{title:"Population",$$slots:{default:[Ai]},$$scope:{ctx:a}}}),l=new _e({props:{title:"Average (median) age",$$slots:{default:[ji]},$$scope:{ctx:a}}}),i=new _e({props:{title:"Age profile",$$slots:{default:[Mi]},$$scope:{ctx:a}}}),{c(){q(e.$$.fragment),t=P(),q(l.$$.fragment),n=P(),q(i.$$.fragment)},l(f){U(e.$$.fragment,f),t=j(f),U(l.$$.fragment,f),n=j(f),U(i.$$.fragment,f)},m(f,o){F(e,f,o),E(f,t,o),F(l,f,o),E(f,n,o),F(i,f,o),s=!0},p(f,o){const r={};o[0]&1024|o[1]&65536&&(r.$$scope={dirty:o,ctx:f}),e.$set(r);const u={};o[0]&1536|o[1]&65536&&(u.$$scope={dirty:o,ctx:f}),l.$set(u);const c={};o[0]&512|o[1]&65536&&(c.$$scope={dirty:o,ctx:f}),i.$set(c)},i(f){s||(N(e.$$.fragment,f),N(l.$$.fragment,f),N(i.$$.fragment,f),s=!0)},o(f){z(e.$$.fragment,f),z(l.$$.fragment,f),z(i.$$.fragment,f),s=!1},d(f){W(e,f),f&&h(t),W(l,f),f&&h(n),W(i,f)}}}function wt(a){let e,t;return e=new ui({props:{id:"lad",type:"geojson",data:a[9].geojson,promoteId:je.code,$$slots:{default:[Oi]},$$scope:{ctx:a}}}),{c(){q(e.$$.fragment)},l(l){U(e.$$.fragment,l)},m(l,n){F(e,l,n),t=!0},p(l,n){const i={};n[0]&512&&(i.data=l[9].geojson),n[0]&528|n[1]&65536&&(i.$$scope={dirty:n,ctx:l}),e.$set(i)},i(l){t||(N(e.$$.fragment,l),t=!0)},o(l){z(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function Oi(a){let e,t,l,n,i;function s(o){a[28](o)}let f={id:"lad-fill",data:a[9].geoPerc,geoCode:"code",nameCode:"name",colorCode:"color",valueCode:"value",hover:!0,tooltip:!0,type:"fill",paint:{"fill-color":["case",["!=",["feature-state","color"],null],["feature-state","color"],"rgba(255, 255, 255, 0)"],"fill-opacity":.8},order:"highway_name_other"};return a[4]!==void 0&&(f.hovered=a[4]),e=new tt({props:f}),Ye.push(()=>At(e,"hovered",s)),n=new tt({props:{id:"lad-line",type:"line",paint:{"line-color":"orange","line-width":2,"line-opacity":["case",["==",["feature-state","hovered"],!0],1,0]},order:"highway_name_other"}}),{c(){q(e.$$.fragment),l=P(),q(n.$$.fragment)},l(o){U(e.$$.fragment,o),l=j(o),U(n.$$.fragment,o)},m(o,r){F(e,o,r),E(o,l,r),F(n,o,r),i=!0},p(o,r){const u={};r[0]&512&&(u.data=o[9].geoPerc),!t&&r[0]&16&&(t=!0,u.hovered=o[4],Tt(()=>t=!1)),e.$set(u)},i(o){i||(N(e.$$.fragment,o),N(n.$$.fragment,o),i=!0)},o(o){z(e.$$.fragment,o),z(n.$$.fragment,o),i=!1},d(o){W(e,o),o&&h(l),W(n,o)}}}function Hi(a){let e,t,l=a[9].geojson&&a[9].geoPerc&&wt(a);return{c(){l&&l.c(),e=K()},l(n){l&&l.l(n),e=K()},m(n,i){l&&l.m(n,i),E(n,e,i),t=!0},p(n,i){n[9].geojson&&n[9].geoPerc?l?(l.p(n,i),i[0]&512&&N(l,1)):(l=wt(n),l.c(),N(l,1),l.m(e.parentNode,e)):l&&(Q(),z(l,1,1,()=>{l=null}),X())},i(n){t||(N(l),t=!0)},o(n){z(l),t=!1},d(n){l&&l.d(n),n&&h(e)}}}function Et(a){let e,t,l;return t=new Un({props:{breaks:a[9].geoBreaks,hovered:a[4]&&a[9].geoPerc.find(a[30])?a[9].geoPerc.find(a[31]).value:null,colors:a[9].geoBreaks[1]==100?[Se.seq[4]]:Se.seq}}),{c(){e=y("div"),q(t.$$.fragment),this.h()},l(n){e=D(n,"DIV",{});var i=S(e);U(t.$$.fragment,i),i.forEach(h),this.h()},h(){A(e,"height","38px",!1),A(e,"width","100%",!1)},m(n,i){E(n,e,i),F(t,e,null),l=!0},p(n,i){const s={};i[0]&512&&(s.breaks=n[9].geoBreaks),i[0]&528&&(s.hovered=n[4]&&n[9].geoPerc.find(n[30])?n[9].geoPerc.find(n[31]).value:null),i[0]&512&&(s.colors=n[9].geoBreaks[1]==100?[Se.seq[4]]:Se.seq),t.$set(s)},i(n){l||(N(t.$$.fragment,n),l=!0)},o(n){z(t.$$.fragment,n),l=!1},d(n){n&&h(e),W(t)}}}function qi(a){let e,t,l,n,i,s;function f(u){a[29](u)}let o={style:rn,$$slots:{default:[Hi]},$$scope:{ctx:a}};a[1]!==void 0&&(o.map=a[1]),t=new fi({props:o}),Ye.push(()=>At(t,"map",f));let r=a[9].geoBreaks&&a[9].geoPerc&&Et(a);return{c(){e=y("div"),q(t.$$.fragment),n=P(),r&&r.c(),i=K(),this.h()},l(u){e=D(u,"DIV",{});var c=S(e);U(t.$$.fragment,c),c.forEach(h),n=j(u),r&&r.l(u),i=K(),this.h()},h(){A(e,"height","450px",!1)},m(u,c){E(u,e,c),F(t,e,null),E(u,n,c),r&&r.m(u,c),E(u,i,c),s=!0},p(u,c){const _={};c[0]&528|c[1]&65536&&(_.$$scope={dirty:c,ctx:u}),!l&&c[0]&2&&(l=!0,_.map=u[1],Tt(()=>l=!1)),t.$set(_),u[9].geoBreaks&&u[9].geoPerc?r?(r.p(u,c),c[0]&512&&N(r,1)):(r=Et(u),r.c(),N(r,1),r.m(i.parentNode,i)):r&&(Q(),z(r,1,1,()=>{r=null}),X())},i(u){s||(N(t.$$.fragment,u),N(r),s=!0)},o(u){z(t.$$.fragment,u),z(r),s=!1},d(u){u&&h(e),W(t),u&&h(n),r&&r.d(u),u&&h(i)}}}function Fi(a){let e,t;return{c(){e=y("span"),t=T("Make a selection to see rankings."),this.h()},l(l){e=D(l,"SPAN",{class:!0});var n=S(e);t=V(n,"Make a selection to see rankings."),n.forEach(h),this.h()},h(){k(e,"class","muted svelte-1vmjlnr")},m(l,n){E(l,e,n),p(e,t)},p:B,i:B,o:B,d(l){l&&h(e)}}}function Wi(a){let e,t;return e=new Ot({props:{data:[...a[9].geoPerc].sort(yt).slice(0,5)}}),{c(){q(e.$$.fragment)},l(l){U(e.$$.fragment,l)},m(l,n){F(e,l,n),t=!0},p(l,n){const i={};n[0]&512&&(i.data=[...l[9].geoPerc].sort(yt).slice(0,5)),e.$set(i)},i(l){t||(N(e.$$.fragment,l),t=!0)},o(l){z(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function Gi(a){let e,t,l,n;const i=[Wi,Fi],s=[];function f(o,r){return o[9].geoPerc&&o[0][0]?0:1}return e=f(a),t=s[e]=i[e](a),{c(){t.c(),l=K()},l(o){t.l(o),l=K()},m(o,r){s[e].m(o,r),E(o,l,r),n=!0},p(o,r){let u=e;e=f(o),e===u?s[e].p(o,r):(Q(),z(s[u],1,1,()=>{s[u]=null}),X(),t=s[e],t?t.p(o,r):(t=s[e]=i[e](o),t.c()),N(t,1),t.m(l.parentNode,l))},i(o){n||(N(t),n=!0)},o(o){z(t),n=!1},d(o){s[e].d(o),o&&h(l)}}}function Ui(a){let e,t;return{c(){e=y("span"),t=T("Make a selection to see rankings."),this.h()},l(l){e=D(l,"SPAN",{class:!0});var n=S(e);t=V(n,"Make a selection to see rankings."),n.forEach(h),this.h()},h(){k(e,"class","muted svelte-1vmjlnr")},m(l,n){E(l,e,n),p(e,t)},p:B,i:B,o:B,d(l){l&&h(e)}}}function Ri(a){let e,t;return e=new Ot({props:{data:a[9].geoPerc.filter(Dt).sort(It).slice(-5),offset:a[9].geoPerc.filter(St).length-4}}),{c(){q(e.$$.fragment)},l(l){U(e.$$.fragment,l)},m(l,n){F(e,l,n),t=!0},p(l,n){const i={};n[0]&512&&(i.data=l[9].geoPerc.filter(Dt).sort(It).slice(-5)),n[0]&512&&(i.offset=l[9].geoPerc.filter(St).length-4),e.$set(i)},i(l){t||(N(e.$$.fragment,l),t=!0)},o(l){z(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function Yi(a){let e,t,l,n;const i=[Ri,Ui],s=[];function f(o,r){return o[9].geoPerc&&o[0][0]?0:1}return e=f(a),t=s[e]=i[e](a),{c(){t.c(),l=K()},l(o){t.l(o),l=K()},m(o,r){s[e].m(o,r),E(o,l,r),n=!0},p(o,r){let u=e;e=f(o),e===u?s[e].p(o,r):(Q(),z(s[u],1,1,()=>{s[u]=null}),X(),t=s[e],t?t.p(o,r):(t=s[e]=i[e](o),t.c()),N(t,1),t.m(l.parentNode,l))},i(o){n||(N(t),n=!0)},o(o){z(t),n=!1},d(o){s[e].d(o),o&&h(l)}}}function Zi(a){let e,t,l,n,i,s;return e=new _e({props:{colspan:2,rowspan:2,blank:!0,$$slots:{default:[qi]},$$scope:{ctx:a}}}),l=new _e({props:{title:"Areas with highest %",$$slots:{default:[Gi]},$$scope:{ctx:a}}}),i=new _e({props:{title:"Areas with lowest %",$$slots:{default:[Yi]},$$scope:{ctx:a}}}),{c(){q(e.$$.fragment),t=P(),q(l.$$.fragment),n=P(),q(i.$$.fragment)},l(f){U(e.$$.fragment,f),t=j(f),U(l.$$.fragment,f),n=j(f),U(i.$$.fragment,f)},m(f,o){F(e,f,o),E(f,t,o),F(l,f,o),E(f,n,o),F(i,f,o),s=!0},p(f,o){const r={};o[0]&530|o[1]&65536&&(r.$$scope={dirty:o,ctx:f}),e.$set(r);const u={};o[0]&513|o[1]&65536&&(u.$$scope={dirty:o,ctx:f}),l.$set(u);const c={};o[0]&513|o[1]&65536&&(c.$$scope={dirty:o,ctx:f}),i.$set(c)},i(f){s||(N(e.$$.fragment,f),N(l.$$.fragment,f),N(i.$$.fragment,f),s=!0)},o(f){z(e.$$.fragment,f),z(l.$$.fragment,f),z(i.$$.fragment,f),s=!1},d(f){W(e,f),f&&h(t),W(l,f),f&&h(n),W(i,f)}}}function Ji(a){let e,t,l;var n=a[8];function i(s){return{props:{data:s[9].selected&&s[14](["residents","health"])}}}return n&&(e=new n(i(a))),{c(){e&&q(e.$$.fragment),t=K()},l(s){e&&U(e.$$.fragment,s),t=K()},m(s,f){e&&F(e,s,f),E(s,t,f),l=!0},p(s,f){const o={};if(f[0]&512&&(o.data=s[9].selected&&s[14](["residents","health"])),n!==(n=s[8])){if(e){Q();const r=e;z(r.$$.fragment,1,0,()=>{W(r,1)}),X()}n?(e=new n(i(s)),q(e.$$.fragment),N(e.$$.fragment,1),F(e,t.parentNode,t)):e=null}else n&&e.$set(o)},i(s){l||(e&&N(e.$$.fragment,s),l=!0)},o(s){e&&z(e.$$.fragment,s),l=!1},d(s){s&&h(t),e&&W(e,s)}}}function Qi(a){let e,t=me.nodata+"",l;return{c(){e=y("span"),l=T(t),this.h()},l(n){e=D(n,"SPAN",{class:!0});var i=S(e);l=V(i,t),i.forEach(h),this.h()},h(){k(e,"class","num-desc svelte-1vmjlnr")},m(n,i){E(n,e,i),p(e,l)},p:B,i:B,o:B,d(n){n&&h(e)}}}function Xi(a){let e,t,l,n,i;const s=[Qi,Ji],f=[];function o(r,u){return u[0]&512&&(e=null),e==null&&(e=!!ye(r[9].selected.residents.health.values)),e?0:1}return t=o(a,[-1,-1]),l=f[t]=s[t](a),{c(){l.c(),n=K()},l(r){l.l(r),n=K()},m(r,u){f[t].m(r,u),E(r,n,u),i=!0},p(r,u){let c=t;t=o(r,u),t===c?f[t].p(r,u):(Q(),z(f[c],1,1,()=>{f[c]=null}),X(),l=f[t],l?l.p(r,u):(l=f[t]=s[t](r),l.c()),N(l,1),l.m(n.parentNode,n))},i(r){i||(N(l),i=!0)},o(r){z(l),i=!1},d(r){f[t].d(r),r&&h(n)}}}function $i(a){let e,t,l;var n=a[8];function i(s){return{props:{data:s[9].selected&&s[14](["residents","marital"])}}}return n&&(e=new n(i(a))),{c(){e&&q(e.$$.fragment),t=K()},l(s){e&&U(e.$$.fragment,s),t=K()},m(s,f){e&&F(e,s,f),E(s,t,f),l=!0},p(s,f){const o={};if(f[0]&512&&(o.data=s[9].selected&&s[14](["residents","marital"])),n!==(n=s[8])){if(e){Q();const r=e;z(r.$$.fragment,1,0,()=>{W(r,1)}),X()}n?(e=new n(i(s)),q(e.$$.fragment),N(e.$$.fragment,1),F(e,t.parentNode,t)):e=null}else n&&e.$set(o)},i(s){l||(e&&N(e.$$.fragment,s),l=!0)},o(s){e&&z(e.$$.fragment,s),l=!1},d(s){s&&h(t),e&&W(e,s)}}}function xi(a){let e,t=me.nodata+"",l;return{c(){e=y("span"),l=T(t),this.h()},l(n){e=D(n,"SPAN",{class:!0});var i=S(e);l=V(i,t),i.forEach(h),this.h()},h(){k(e,"class","num-desc svelte-1vmjlnr")},m(n,i){E(n,e,i),p(e,l)},p:B,i:B,o:B,d(n){n&&h(e)}}}function es(a){let e,t,l,n,i;const s=[xi,$i],f=[];function o(r,u){return u[0]&512&&(e=null),e==null&&(e=!!ye(r[9].selected.residents.marital.values)),e?0:1}return t=o(a,[-1,-1]),l=f[t]=s[t](a),{c(){l.c(),n=K()},l(r){l.l(r),n=K()},m(r,u){f[t].m(r,u),E(r,n,u),i=!0},p(r,u){let c=t;t=o(r,u),t===c?f[t].p(r,u):(Q(),z(f[c],1,1,()=>{f[c]=null}),X(),l=f[t],l?l.p(r,u):(l=f[t]=s[t](r),l.c()),N(l,1),l.m(n.parentNode,n))},i(r){i||(N(l),i=!0)},o(r){z(l),i=!1},d(r){f[t].d(r),r&&h(n)}}}function ls(a){let e,t,l;var n=a[8];function i(s){return{props:{data:s[9].selected&&s[14](["residents","grade"])}}}return n&&(e=new n(i(a))),{c(){e&&q(e.$$.fragment),t=K()},l(s){e&&U(e.$$.fragment,s),t=K()},m(s,f){e&&F(e,s,f),E(s,t,f),l=!0},p(s,f){const o={};if(f[0]&512&&(o.data=s[9].selected&&s[14](["residents","grade"])),n!==(n=s[8])){if(e){Q();const r=e;z(r.$$.fragment,1,0,()=>{W(r,1)}),X()}n?(e=new n(i(s)),q(e.$$.fragment),N(e.$$.fragment,1),F(e,t.parentNode,t)):e=null}else n&&e.$set(o)},i(s){l||(e&&N(e.$$.fragment,s),l=!0)},o(s){e&&z(e.$$.fragment,s),l=!1},d(s){s&&h(t),e&&W(e,s)}}}function ts(a){let e,t=me.nodata+"",l;return{c(){e=y("span"),l=T(t),this.h()},l(n){e=D(n,"SPAN",{class:!0});var i=S(e);l=V(i,t),i.forEach(h),this.h()},h(){k(e,"class","num-desc svelte-1vmjlnr")},m(n,i){E(n,e,i),p(e,l)},p:B,i:B,o:B,d(n){n&&h(e)}}}function ns(a){let e,t,l,n,i;const s=[ts,ls],f=[];function o(r,u){return u[0]&512&&(e=null),e==null&&(e=!!ye(r[9].selected.residents.grade.values)),e?0:1}return t=o(a,[-1,-1]),l=f[t]=s[t](a),{c(){l.c(),n=K()},l(r){l.l(r),n=K()},m(r,u){f[t].m(r,u),E(r,n,u),i=!0},p(r,u){let c=t;t=o(r,u),t===c?f[t].p(r,u):(Q(),z(f[c],1,1,()=>{f[c]=null}),X(),l=f[t],l?l.p(r,u):(l=f[t]=s[t](r),l.c()),N(l,1),l.m(n.parentNode,n))},i(r){i||(N(l),i=!0)},o(r){z(l),i=!1},d(r){f[t].d(r),r&&h(n)}}}function is(a){let e,t,l;var n=a[8];function i(s){return{props:{data:s[9].selected&&s[14](["residents","economic"])}}}return n&&(e=new n(i(a))),{c(){e&&q(e.$$.fragment),t=K()},l(s){e&&U(e.$$.fragment,s),t=K()},m(s,f){e&&F(e,s,f),E(s,t,f),l=!0},p(s,f){const o={};if(f[0]&512&&(o.data=s[9].selected&&s[14](["residents","economic"])),n!==(n=s[8])){if(e){Q();const r=e;z(r.$$.fragment,1,0,()=>{W(r,1)}),X()}n?(e=new n(i(s)),q(e.$$.fragment),N(e.$$.fragment,1),F(e,t.parentNode,t)):e=null}else n&&e.$set(o)},i(s){l||(e&&N(e.$$.fragment,s),l=!0)},o(s){e&&z(e.$$.fragment,s),l=!1},d(s){s&&h(t),e&&W(e,s)}}}function ss(a){let e,t=me.nodata+"",l;return{c(){e=y("span"),l=T(t),this.h()},l(n){e=D(n,"SPAN",{class:!0});var i=S(e);l=V(i,t),i.forEach(h),this.h()},h(){k(e,"class","num-desc svelte-1vmjlnr")},m(n,i){E(n,e,i),p(e,l)},p:B,i:B,o:B,d(n){n&&h(e)}}}function as(a){let e,t,l,n,i;const s=[ss,is],f=[];function o(r,u){return u[0]&512&&(e=null),e==null&&(e=!!ye(r[9].selected.residents.economic.values)),e?0:1}return t=o(a,[-1,-1]),l=f[t]=s[t](a),{c(){l.c(),n=K()},l(r){l.l(r),n=K()},m(r,u){f[t].m(r,u),E(r,n,u),i=!0},p(r,u){let c=t;t=o(r,u),t===c?f[t].p(r,u):(Q(),z(f[c],1,1,()=>{f[c]=null}),X(),l=f[t],l?l.p(r,u):(l=f[t]=s[t](r),l.c()),N(l,1),l.m(n.parentNode,n))},i(r){i||(N(l),i=!0)},o(r){z(l),i=!1},d(r){f[t].d(r),r&&h(n)}}}function fs(a){let e,t,l;var n=a[8];function i(s){return{props:{data:s[9].selected&&s[14](["residents","distance"])}}}return n&&(e=new n(i(a))),{c(){e&&q(e.$$.fragment),t=K()},l(s){e&&U(e.$$.fragment,s),t=K()},m(s,f){e&&F(e,s,f),E(s,t,f),l=!0},p(s,f){const o={};if(f[0]&512&&(o.data=s[9].selected&&s[14](["residents","distance"])),n!==(n=s[8])){if(e){Q();const r=e;z(r.$$.fragment,1,0,()=>{W(r,1)}),X()}n?(e=new n(i(s)),q(e.$$.fragment),N(e.$$.fragment,1),F(e,t.parentNode,t)):e=null}else n&&e.$set(o)},i(s){l||(e&&N(e.$$.fragment,s),l=!0)},o(s){e&&z(e.$$.fragment,s),l=!1},d(s){s&&h(t),e&&W(e,s)}}}function os(a){let e,t=me.nodata+"",l;return{c(){e=y("span"),l=T(t),this.h()},l(n){e=D(n,"SPAN",{class:!0});var i=S(e);l=V(i,t),i.forEach(h),this.h()},h(){k(e,"class","num-desc svelte-1vmjlnr")},m(n,i){E(n,e,i),p(e,l)},p:B,i:B,o:B,d(n){n&&h(e)}}}function rs(a){let e,t,l,n,i;const s=[os,fs],f=[];function o(r,u){return u[0]&512&&(e=null),e==null&&(e=!!ye(r[9].selected.residents.distance.values)),e?0:1}return t=o(a,[-1,-1]),l=f[t]=s[t](a),{c(){l.c(),n=K()},l(r){l.l(r),n=K()},m(r,u){f[t].m(r,u),E(r,n,u),i=!0},p(r,u){let c=t;t=o(r,u),t===c?f[t].p(r,u):(Q(),z(f[c],1,1,()=>{f[c]=null}),X(),l=f[t],l?l.p(r,u):(l=f[t]=s[t](r),l.c()),N(l,1),l.m(n.parentNode,n))},i(r){i||(N(l),i=!0)},o(r){z(l),i=!1},d(r){f[t].d(r),r&&h(n)}}}function us(a){let e,t,l;var n=a[8];function i(s){return{props:{data:s[9].selected&&s[14](["residents","travel"])}}}return n&&(e=new n(i(a))),{c(){e&&q(e.$$.fragment),t=K()},l(s){e&&U(e.$$.fragment,s),t=K()},m(s,f){e&&F(e,s,f),E(s,t,f),l=!0},p(s,f){const o={};if(f[0]&512&&(o.data=s[9].selected&&s[14](["residents","travel"])),n!==(n=s[8])){if(e){Q();const r=e;z(r.$$.fragment,1,0,()=>{W(r,1)}),X()}n?(e=new n(i(s)),q(e.$$.fragment),N(e.$$.fragment,1),F(e,t.parentNode,t)):e=null}else n&&e.$set(o)},i(s){l||(e&&N(e.$$.fragment,s),l=!0)},o(s){e&&z(e.$$.fragment,s),l=!1},d(s){s&&h(t),e&&W(e,s)}}}function cs(a){let e,t=me.nodata+"",l;return{c(){e=y("span"),l=T(t),this.h()},l(n){e=D(n,"SPAN",{class:!0});var i=S(e);l=V(i,t),i.forEach(h),this.h()},h(){k(e,"class","num-desc svelte-1vmjlnr")},m(n,i){E(n,e,i),p(e,l)},p:B,i:B,o:B,d(n){n&&h(e)}}}function _s(a){let e,t,l,n,i;const s=[cs,us],f=[];function o(r,u){return u[0]&512&&(e=null),e==null&&(e=!!ye(r[9].selected.residents.travel.values)),e?0:1}return t=o(a,[-1,-1]),l=f[t]=s[t](a),{c(){l.c(),n=K()},l(r){l.l(r),n=K()},m(r,u){f[t].m(r,u),E(r,n,u),i=!0},p(r,u){let c=t;t=o(r,u),t===c?f[t].p(r,u):(Q(),z(f[c],1,1,()=>{f[c]=null}),X(),l=f[t],l?l.p(r,u):(l=f[t]=s[t](r),l.c()),N(l,1),l.m(n.parentNode,n))},i(r){i||(N(l),i=!0)},o(r){z(l),i=!1},d(r){f[t].d(r),r&&h(n)}}}function hs(a){let e,t,l;var n=a[8];function i(s){return{props:{data:s[9].selected&&s[14](["households","housing"])}}}return n&&(e=new n(i(a))),{c(){e&&q(e.$$.fragment),t=K()},l(s){e&&U(e.$$.fragment,s),t=K()},m(s,f){e&&F(e,s,f),E(s,t,f),l=!0},p(s,f){const o={};if(f[0]&512&&(o.data=s[9].selected&&s[14](["households","housing"])),n!==(n=s[8])){if(e){Q();const r=e;z(r.$$.fragment,1,0,()=>{W(r,1)}),X()}n?(e=new n(i(s)),q(e.$$.fragment),N(e.$$.fragment,1),F(e,t.parentNode,t)):e=null}else n&&e.$set(o)},i(s){l||(e&&N(e.$$.fragment,s),l=!0)},o(s){e&&z(e.$$.fragment,s),l=!1},d(s){s&&h(t),e&&W(e,s)}}}function ds(a){let e,t=me.nodata+"",l;return{c(){e=y("span"),l=T(t),this.h()},l(n){e=D(n,"SPAN",{class:!0});var i=S(e);l=V(i,t),i.forEach(h),this.h()},h(){k(e,"class","num-desc svelte-1vmjlnr")},m(n,i){E(n,e,i),p(e,l)},p:B,i:B,o:B,d(n){n&&h(e)}}}function ms(a){let e,t,l,n,i;const s=[ds,hs],f=[];function o(r,u){return u[0]&512&&(e=null),e==null&&(e=!!ye(r[9].selected.households.housing.values)),e?0:1}return t=o(a,[-1,-1]),l=f[t]=s[t](a),{c(){l.c(),n=K()},l(r){l.l(r),n=K()},m(r,u){f[t].m(r,u),E(r,n,u),i=!0},p(r,u){let c=t;t=o(r,u),t===c?f[t].p(r,u):(Q(),z(f[c],1,1,()=>{f[c]=null}),X(),l=f[t],l?l.p(r,u):(l=f[t]=s[t](r),l.c()),N(l,1),l.m(n.parentNode,n))},i(r){i||(N(l),i=!0)},o(r){z(l),i=!1},d(r){f[t].d(r),r&&h(n)}}}function gs(a){let e,t,l;var n=a[8];function i(s){return{props:{data:s[9].selected&&s[14](["households","tenure"])}}}return n&&(e=new n(i(a))),{c(){e&&q(e.$$.fragment),t=K()},l(s){e&&U(e.$$.fragment,s),t=K()},m(s,f){e&&F(e,s,f),E(s,t,f),l=!0},p(s,f){const o={};if(f[0]&512&&(o.data=s[9].selected&&s[14](["households","tenure"])),n!==(n=s[8])){if(e){Q();const r=e;z(r.$$.fragment,1,0,()=>{W(r,1)}),X()}n?(e=new n(i(s)),q(e.$$.fragment),N(e.$$.fragment,1),F(e,t.parentNode,t)):e=null}else n&&e.$set(o)},i(s){l||(e&&N(e.$$.fragment,s),l=!0)},o(s){e&&z(e.$$.fragment,s),l=!1},d(s){s&&h(t),e&&W(e,s)}}}function vs(a){let e,t=me.nodata+"",l;return{c(){e=y("span"),l=T(t),this.h()},l(n){e=D(n,"SPAN",{class:!0});var i=S(e);l=V(i,t),i.forEach(h),this.h()},h(){k(e,"class","num-desc svelte-1vmjlnr")},m(n,i){E(n,e,i),p(e,l)},p:B,i:B,o:B,d(n){n&&h(e)}}}function bs(a){let e,t,l,n,i;const s=[vs,gs],f=[];function o(r,u){return u[0]&512&&(e=null),e==null&&(e=!!ye(r[9].selected.households.tenure.values)),e?0:1}return t=o(a,[-1,-1]),l=f[t]=s[t](a),{c(){l.c(),n=K()},l(r){l.l(r),n=K()},m(r,u){f[t].m(r,u),E(r,n,u),i=!0},p(r,u){let c=t;t=o(r,u),t===c?f[t].p(r,u):(Q(),z(f[c],1,1,()=>{f[c]=null}),X(),l=f[t],l?l.p(r,u):(l=f[t]=s[t](r),l.c()),N(l,1),l.m(n.parentNode,n))},i(r){i||(N(l),i=!0)},o(r){z(l),i=!1},d(r){f[t].d(r),r&&h(n)}}}function ps(a){let e,t,l,n,i,s,f,o,r,u,c,_,d,v,g,b;return e=new _e({props:{title:"General health",$$slots:{default:[Xi]},$$scope:{ctx:a}}}),l=new _e({props:{title:"Marital status",$$slots:{default:[es]},$$scope:{ctx:a}}}),i=new _e({props:{title:"Social grade",$$slots:{default:[ns]},$$scope:{ctx:a}}}),f=new _e({props:{title:"Economic activity",$$slots:{default:[as]},$$scope:{ctx:a}}}),r=new _e({props:{title:"Distance to work (km)",$$slots:{default:[rs]},$$scope:{ctx:a}}}),c=new _e({props:{title:"Mode of travel to work",$$slots:{default:[_s]},$$scope:{ctx:a}}}),d=new _e({props:{title:"Type of housing",$$slots:{default:[ms]},$$scope:{ctx:a}}}),g=new _e({props:{title:"Tenure of housing",$$slots:{default:[bs]},$$scope:{ctx:a}}}),{c(){q(e.$$.fragment),t=P(),q(l.$$.fragment),n=P(),q(i.$$.fragment),s=P(),q(f.$$.fragment),o=P(),q(r.$$.fragment),u=P(),q(c.$$.fragment),_=P(),q(d.$$.fragment),v=P(),q(g.$$.fragment)},l(m){U(e.$$.fragment,m),t=j(m),U(l.$$.fragment,m),n=j(m),U(i.$$.fragment,m),s=j(m),U(f.$$.fragment,m),o=j(m),U(r.$$.fragment,m),u=j(m),U(c.$$.fragment,m),_=j(m),U(d.$$.fragment,m),v=j(m),U(g.$$.fragment,m)},m(m,w){F(e,m,w),E(m,t,w),F(l,m,w),E(m,n,w),F(i,m,w),E(m,s,w),F(f,m,w),E(m,o,w),F(r,m,w),E(m,u,w),F(c,m,w),E(m,_,w),F(d,m,w),E(m,v,w),F(g,m,w),b=!0},p(m,w){const I={};w[0]&768|w[1]&65536&&(I.$$scope={dirty:w,ctx:m}),e.$set(I);const C={};w[0]&768|w[1]&65536&&(C.$$scope={dirty:w,ctx:m}),l.$set(C);const L={};w[0]&768|w[1]&65536&&(L.$$scope={dirty:w,ctx:m}),i.$set(L);const R={};w[0]&768|w[1]&65536&&(R.$$scope={dirty:w,ctx:m}),f.$set(R);const Y={};w[0]&768|w[1]&65536&&(Y.$$scope={dirty:w,ctx:m}),r.$set(Y);const Z={};w[0]&768|w[1]&65536&&(Z.$$scope={dirty:w,ctx:m}),c.$set(Z);const O={};w[0]&768|w[1]&65536&&(O.$$scope={dirty:w,ctx:m}),d.$set(O);const J={};w[0]&768|w[1]&65536&&(J.$$scope={dirty:w,ctx:m}),g.$set(J)},i(m){b||(N(e.$$.fragment,m),N(l.$$.fragment,m),N(i.$$.fragment,m),N(f.$$.fragment,m),N(r.$$.fragment,m),N(c.$$.fragment,m),N(d.$$.fragment,m),N(g.$$.fragment,m),b=!0)},o(m){z(e.$$.fragment,m),z(l.$$.fragment,m),z(i.$$.fragment,m),z(f.$$.fragment,m),z(r.$$.fragment,m),z(c.$$.fragment,m),z(d.$$.fragment,m),z(g.$$.fragment,m),b=!1},d(m){W(e,m),m&&h(t),W(l,m),m&&h(n),W(i,m),m&&h(s),W(f,m),m&&h(o),W(r,m),m&&h(u),W(c,m),m&&h(_),W(d,m),m&&h(v),W(g,m)}}}function ks(a){let e,t,l,n,i,s,f,o,r,u,c,_,d,v,g,b,m;return{c(){e=y("span"),t=y("strong"),l=T("Chart type:"),n=P(),i=y("label"),s=y("input"),f=T("Comparison marker"),o=P(),r=y("label"),u=y("input"),c=T("Grouped bar"),_=P(),d=y("label"),v=y("input"),g=T("Stacked bar"),this.h()},l(w){e=D(w,"SPAN",{slot:!0});var I=S(e);t=D(I,"STRONG",{});var C=S(t);l=V(C,"Chart type:"),C.forEach(h),n=j(I),i=D(I,"LABEL",{});var L=S(i);s=D(L,"INPUT",{type:!0,name:!0}),f=V(L,"Comparison marker"),L.forEach(h),o=j(I),r=D(I,"LABEL",{});var R=S(r);u=D(R,"INPUT",{type:!0,name:!0}),c=V(R,"Grouped bar"),R.forEach(h),_=j(I),d=D(I,"LABEL",{});var Y=S(d);v=D(Y,"INPUT",{type:!0,name:!0}),g=V(Y,"Stacked bar"),Y.forEach(h),I.forEach(h),this.h()},h(){k(s,"type","radio"),k(s,"name","chart-type"),s.__value=Bt,s.value=s.__value,a[33][0].push(s),k(u,"type","radio"),k(u,"name","chart-type"),u.__value=$n,u.value=u.__value,a[33][0].push(u),k(v,"type","radio"),k(v,"name","chart-type"),v.__value=ti,v.value=v.__value,a[33][0].push(v),k(e,"slot","meta"),A(e,"margin-left","10px",!1)},m(w,I){E(w,e,I),p(e,t),p(t,l),p(e,n),p(e,i),p(i,s),s.checked=s.__value===a[8],p(i,f),p(e,o),p(e,r),p(r,u),u.checked=u.__value===a[8],p(r,c),p(e,_),p(e,d),p(d,v),v.checked=v.__value===a[8],p(d,g),b||(m=[Ae(s,"change",a[32]),Ae(u,"change",a[34]),Ae(v,"change",a[35])],b=!0)},p(w,I){I[0]&256&&(s.checked=s.__value===w[8]),I[0]&256&&(u.checked=u.__value===w[8]),I[0]&256&&(v.checked=v.__value===w[8])},d(w){w&&h(e),a[33][0].splice(a[33][0].indexOf(s),1),a[33][0].splice(a[33][0].indexOf(u),1),a[33][0].splice(a[33][0].indexOf(v),1),b=!1,zt(m)}}}function ws(a){let e,t,l,n,i,s;return e=new Ue({props:{title:"Demographics",$$slots:{default:[Bi]},$$scope:{ctx:a}}}),l=new Ue({props:{title:"Population by area",$$slots:{default:[Zi]},$$scope:{ctx:a}}}),i=new Ue({props:{title:"Key indicators",$$slots:{meta:[ks],default:[ps]},$$scope:{ctx:a}}}),{c(){q(e.$$.fragment),t=P(),q(l.$$.fragment),n=P(),q(i.$$.fragment)},l(f){U(e.$$.fragment,f),t=j(f),U(l.$$.fragment,f),n=j(f),U(i.$$.fragment,f)},m(f,o){F(e,f,o),E(f,t,o),F(l,f,o),E(f,n,o),F(i,f,o),s=!0},p(f,o){const r={};o[0]&1536|o[1]&65536&&(r.$$scope={dirty:o,ctx:f}),e.$set(r);const u={};o[0]&531|o[1]&65536&&(u.$$scope={dirty:o,ctx:f}),l.$set(u);const c={};o[0]&768|o[1]&65536&&(c.$$scope={dirty:o,ctx:f}),i.$set(c)},i(f){s||(N(e.$$.fragment,f),N(l.$$.fragment,f),N(i.$$.fragment,f),s=!0)},o(f){z(e.$$.fragment,f),z(l.$$.fragment,f),z(i.$$.fragment,f),s=!1},d(f){W(e,f),f&&h(t),W(l,f),f&&h(n),W(i,f)}}}function Es(a){let e,t,l,n,i,s,f,o,r,u,c,_;return r=new jn({props:{background:"none",breadcrumb:[{label:"Census",url:"/census"},{label:"Population Group Profiles"}],$$slots:{meta:[Si],default:[yi]},$$scope:{ctx:a}}}),c=new di({props:{$$slots:{default:[ws]},$$scope:{ctx:a}}}),{c(){e=y("meta"),t=y("meta"),l=y("meta"),n=y("meta"),i=y("meta"),s=y("meta"),f=y("meta"),o=P(),q(r.$$.fragment),u=P(),q(c.$$.fragment),this.h()},l(d){const v=en('[data-svelte="svelte-1z0vru4"]',document.head);e=D(v,"META",{name:!0,content:!0}),t=D(v,"META",{property:!0,content:!0}),l=D(v,"META",{property:!0,content:!0}),n=D(v,"META",{property:!0,content:!0}),i=D(v,"META",{property:!0,content:!0}),s=D(v,"META",{property:!0,content:!0}),f=D(v,"META",{name:!0,content:!0}),v.forEach(h),o=j(d),U(r.$$.fragment,d),u=j(d),U(c.$$.fragment,d),this.h()},h(){document.title="Census Population Group Profiles",k(e,"name","description"),k(e,"content",""),k(t,"property","og:title"),k(t,"content","Census Population Group Profiles"),k(l,"property","og:type"),k(l,"content","website"),k(n,"property","og:url"),k(n,"content",Vt+"/"),k(i,"property","og:image:type"),k(i,"content","image/jpeg"),k(s,"property","og:description"),k(s,"content",""),k(f,"name","description"),k(f,"content","")},m(d,v){p(document.head,e),p(document.head,t),p(document.head,l),p(document.head,n),p(document.head,i),p(document.head,s),p(document.head,f),E(d,o,v),F(r,d,v),E(d,u,v),F(c,d,v),_=!0},p(d,v){const g={};v[0]&2285|v[1]&65536&&(g.$$scope={dirty:v,ctx:d}),r.$set(g);const b={};v[0]&1811|v[1]&65536&&(b.$$scope={dirty:v,ctx:d}),c.$set(b)},i(d){_||(N(r.$$.fragment,d),N(c.$$.fragment,d),_=!0)},o(d){z(r.$$.fragment,d),z(c.$$.fragment,d),_=!1},d(d){h(e),h(t),h(l),h(n),h(i),h(s),h(f),d&&h(o),W(r,d),d&&h(u),W(c,d)}}}const As=!1;async function Ts({fetch:a}){let e=await hn(Vt+je.url,je.layer,a),t={};e.features.forEach(_=>t[_.properties[je.code]]=_.properties[je.name]);let l=await Kt(Pt,[],a),n=Re(l.data.residents.health.values),i=l.data,s=await Mt([],a),f=[],r=s.data.dataset.table.dimensions[0].categories.map(_=>_.code.slice(-9)),u=s.data.dataset.table.values,c={};return r.forEach((_,d)=>{c[_]=u[d]}),r.forEach(_=>{f.push({code:_,name:t[_],value:100})}),f.forEach(_=>_.color=Se.seq[4]),{props:{geojson:e,geoLookup:t,sumAll:n,dataAll:i,geoAll:c,geoCodes:r,geoPerc:f}}}let ys="light";const yt=(a,e)=>e.value-a.value,Dt=a=>a.value!=null,It=(a,e)=>e.value-a.value,St=a=>a.value!=null;function Ds(a,e,t){let l,n;Nt(a,on,H=>t(36,n=H));let{geojson:i,geoLookup:s,sumAll:f,dataAll:o,geoAll:r,geoCodes:u,geoPerc:c}=e;Pe("theme",sn[ys]);let _=null,d=null,v={},g=[];Ge.forEach(H=>{t(3,v[H.label]=H.cats[0],v)});let b=null,m="success",w=!1,I=0,C=Bt,L={all:o,selected:o,geojson:i,geoLookup:s,geoCodes:u,geoAll:r,geoPerc:c,geoBreaks:[0,100]},R={all:f,selected:f};function Y(H){t(0,g=[...g,Ce({topic:d.label,key:d.key},v[H])]),ll(`${xe}?${g.map(ee=>`${ee.key}=${ee.code}`).join("&")}`,{noscroll:!0}),t(2,d=null)}function Z(H){t(0,g=g.filter(ee=>ee.topic!=H)),ll(`${xe}?${g.map(ee=>`${ee.key}=${ee.code}`).join("&")}`,{noscroll:!0})}function O(){t(5,m="loading"),g&&g.map(H=>H.code).includes("0-15")?t(6,w=!0):t(6,w=!1),Kt(Pt,g).then(H=>{H.data.residents.age.values?(t(10,R.selected=Re(H.data.residents.health.values),R),t(9,L.selected=H.data,L),Mt(g).then(ee=>{let fe=[],re=null;if(ee.data.dataset.table.dimensions){let he=ee.data.dataset.table.dimensions[0].categories.map(oe=>oe.code.slice(-9)),Me=ee.data.dataset.table.values,Ve={};he.forEach((oe,Be)=>{Ve[oe]=Me[Be]}),L.geoCodes.forEach(oe=>{fe.push({code:oe,name:L.geoLookup[oe],value:Ve[oe]?Ve[oe]/L.geoAll[oe]*100:null})});let be=fe.map(oe=>oe.value).filter(oe=>oe!=null);re=be[4]?nn(be,5):null}else L.geoCodes.forEach(te=>{fe.push({code:te,name:L.geoLookup[te],value:null})});if(re==null)fe.forEach(te=>te.color=Se.nodata),t(9,L.geoBreaks=[0,100],L);else if(!re[1])fe.forEach(te=>te.color=Se.seq[4]),t(9,L.geoBreaks=[0,100],L);else{let te=[];re.forEach(he=>te.push(he[0])),te.push(re[re.length-1][re[re.length-1].length-1]),te[te.length-1]==te[te.length-2]&&te.pop(),fe.forEach(he=>he.color=he.value?_n(he.value,te,Se.seq):Se.nodata),t(9,L.geoBreaks=te,L)}t(9,L.geoPerc=fe,L),t(7,I=g.length),t(5,m="success")})):t(5,m="failed")})}function J(H){let ee=H[0],fe=H[1],re=L.all[ee][fe].values,te=L.selected[ee][fe].values,he=[],Me=0,Ve=0;return an[fe].forEach(be=>{let oe=be.label,Be=0,Ze=0;be.cells.forEach(Oe=>{Be+=re[Oe],Me+=re[Oe],Ze+=te[Oe],Ve+=te[Oe]}),R.selected!=R.all&&he.push({group:"This group",category:oe,count:Ze}),he.push({group:"Whole population",category:oe,count:Be})}),he.forEach((be,oe)=>{R.selected!=R.all&&oe%2==0?be.value=be.count/Ve*100:be.value=be.count/Me*100}),he}function De(H){let ee=H.residents.age.values,fe=Re(ee),re=0,te=0;for(;te<fe/2;)te+=ee[re],re+=1;return re-1}function ae(){t(0,g=[]);for(let H of n.url.searchParams.entries()){let ee=Ge.find(fe=>fe.key==H[0]);if(ee){let fe=ee.cats.find(re=>re.code==H[1]);fe&&g.push(Ce({topic:ee.label,key:ee.key},fe))}}O()}dn(ae);const x=[[]];function ge(){d=$e(this),t(2,d),t(11,l),t(0,g)}const $=H=>fn;function ve(){v[d.label]=$e(this),t(3,v),t(2,d)}const Ie=()=>Y(d.label),Ne=H=>Z(H.topic);function ze(H){b=H,t(4,b)}function We(H){_=H,t(1,_)}const M=H=>H.code==b,ce=H=>H.code==b;function qt(){C=this.__value,t(8,C)}function Ft(){C=this.__value,t(8,C)}function Wt(){C=this.__value,t(8,C)}return a.$$set=H=>{"geojson"in H&&t(16,i=H.geojson),"geoLookup"in H&&t(17,s=H.geoLookup),"sumAll"in H&&t(18,f=H.sumAll),"dataAll"in H&&t(19,o=H.dataAll),"geoAll"in H&&t(20,r=H.geoAll),"geoCodes"in H&&t(21,u=H.geoCodes),"geoPerc"in H&&t(22,c=H.geoPerc)},a.$$.update=()=>{a.$$.dirty[0]&1&&t(11,l=Ge.filter(H=>!g.map(ee=>ee.topic).includes(H.label)))},[g,_,d,v,b,m,w,I,C,L,R,l,Y,Z,J,De,i,s,f,o,r,u,c,ge,$,ve,Ie,Ne,ze,We,M,ce,qt,x,Ft,Wt]}class Vs extends ne{constructor(e){super();ie(this,e,Ds,Es,se,{geojson:16,geoLookup:17,sumAll:18,dataAll:19,geoAll:20,geoCodes:21,geoPerc:22},null,[-1,-1])}}export{Vs as default,Ts as load,As as prerender};
