var Ht=Object.defineProperty,qt=Object.defineProperties;var Ft=Object.getOwnPropertyDescriptors;var Ye=Object.getOwnPropertySymbols;var Wt=Object.prototype.hasOwnProperty,Gt=Object.prototype.propertyIsEnumerable;var Qe=(a,e,t)=>e in a?Ht(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,Ce=(a,e)=>{for(var t in e||(e={}))Wt.call(e,t)&&Qe(a,t,e[t]);if(Ye)for(var t of Ye(e))Gt.call(e,t)&&Qe(a,t,e[t]);return a},Xe=(a,e)=>qt(a,Ft(e));import{V as Ut,W as Ve,S as se,i as ie,s as ae,e as y,k as K,c as D,a as S,m as L,d as _,b as w,g as E,G as b,t as T,h as V,I as O,N as le,j as U,l as j,K as _e,w as F,x as Z,y as W,q as C,o as N,B as G,P as Ee,f as z,n as Q,p as X,R as ye,T as De,U as Ie,r as Pe,X as Ke,F as Oe,H as $e,v as Rt,Y as He,Z as We,_ as Zt,Q as Jt,$ as Yt,a0 as qe,L as Ae,a1 as Qt,a2 as Xt,O as xe,a3 as el,a4 as $t,a5 as ll,a6 as tl}from"../chunks/vendor-4c2c0f6f.js";import{l as Le,c as Se,d as nl,v as Ge,a as sl,t as xt,b as en,s as ln,m as tn,e as me}from"../chunks/config-0755dcc8.js";import{a as nn,b as il}from"../chunks/paths-396f020f.js";import{r as Ue}from"../chunks/singletons-a6a7384f.js";const al="https://ftb-api-ext.ons.sensiblecode.io/graphql",sn=`
fragment tableDimensions on Table {
  dimensions {
    categories {
      code
    }
  }
}
`.replace(/\s+/g," "),an=btoa("ahmad.barclay:elope.puck.hails.explore"),ol=new Headers({"Content-Type":"application/json",Authorization:"Basic "+an});async function fl(a,e=[],t=window.fetch){let l=e[0]?[...e].sort((v,g)=>v.topic.localeCompare(g.topic)):[...e],n=[],s=[],i=[],o=[];l[0]&&l.forEach(v=>{v.var&&(n.push(v.var),s.push(`{variable: "${v.var}", codes: ["${v.code}"]}`),v.topic!="age group"&&(i.push(v.var),o.push(`{variable: "${v.var}", codes: ["${v.code}"]}`)))}),n=n[0]?'"'+n.join('","')+'",':"",s=s[0]?"["+s.join(",")+"]":"[]",i=i[0]?'"'+i.join('","')+'",':"",o=o[0]?"["+o.join(",")+"]":"[]";let f=[];a.forEach(v=>{let g=[];v.tables.forEach(d=>{g.push(`
      ${d.key}: table(
        variables: [${d.key=="age"?i:n}"${d.code}"]
        filters: ${d.key=="age"?o:s}
      )
      {
        values
      }
      `)});let p=`
    ${v.key}: dataset(name:"${v.code}") {
      ${g.join(`
`)}
    }
    `;f.push(p)});const r=`
  query {
    ${f.join(`
`)}
  }
  `.replace(/\s+/g," "),c={body:JSON.stringify({query:r}),headers:ol,method:"POST",mode:"cors"};let h=await(await t(al,c)).json(),m=l.filter(v=>v.topic=="age group");if(m[0]&&h.data.residents.age.values){let v=[...h.data.residents.age.values],g=m[0].code.split("-");g.forEach((p,d)=>g[d]=+p),v.forEach((p,d)=>v[d]=d>=g[0]&&d<=g[1]?p:0),h.data.residents.age.values=v}return h}async function rl(a=[],e=window.fetch){let t=a[0]?[...a].sort((c,u)=>c.topic.localeCompare(u.topic)):[...a],l=[],n=[];t[0]&&t.forEach(c=>{c.var&&(l.push(c.var),n.push(`{variable: "${c.var}", codes: ["${c.code}"]}`))});let s=l[0]?'"'+l.join('","')+'",':"";n=n[0]?"["+n.join(",")+"]":"[]";const i=`
  query {
    dataset(name:"Usual-Residents") {
      table(
        variables: ["LA"${s}]
        filters: ${n}
      )
      {
        ...tableDimensions
        values
      }
    }
  }
  `.replace(/\s+/g," "),o={body:JSON.stringify({query:i+sn}),headers:ol,method:"POST",mode:"cors"};return await(await e(al,o)).json()}function on(a,e,t){for(let l=1;l<e.length;l++)if(a<=e[l])return t[l-1]}async function fn(a,e,t=window.fetch){let n=await(await t(a)).json();return await Ut(n,e)}function de(a){return a.charAt(0).toUpperCase()+a.slice(1)}function Re(a){return a?a.reduce((e,t)=>e+t):0}function pe(a){return(a?a.slice(0,-1).reduce((t,l)=>t+l):0)==0}const rn=()=>{const a=Ve("__svelte__");return{page:{subscribe:a.page.subscribe},navigating:{subscribe:a.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:a.navigating.subscribe}},session:a.session}},cn={subscribe(a){return rn().page.subscribe(a)}},cl=_n,un=hn;async function _n(a,e){return Ue.goto(a,e,[])}function hn(a){Ue&&Ue.after_navigate(a)}function ul(a,e,t){const l=a.slice();return l[2]=e[t],l}function dn(a){let e=a[2].label+"",t;return{c(){t=T(e)},l(l){t=V(l,e)},m(l,n){E(l,t,n)},p(l,n){n&1&&e!==(e=l[2].label+"")&&U(t,e)},d(l){l&&_(t)}}}function mn(a){let e,t=a[2].label+"",l,n;return{c(){e=y("a"),l=T(t),this.h()},l(s){e=D(s,"A",{class:!0,href:!0});var i=S(e);l=V(i,t),i.forEach(_),this.h()},h(){w(e,"class","breadcrumb__link"),w(e,"href",n=a[2].url)},m(s,i){E(s,e,i),b(e,l)},p(s,i){i&1&&t!==(t=s[2].label+"")&&U(l,t),i&1&&n!==(n=s[2].url)&&w(e,"href",n)},d(s){s&&_(e)}}}function _l(a){let e,t;function l(i,o){return i[2].url?mn:dn}let n=l(a),s=n(a);return{c(){e=y("li"),s.c(),t=K(),this.h()},l(i){e=D(i,"LI",{class:!0});var o=S(e);s.l(o),t=L(o),o.forEach(_),this.h()},h(){w(e,"class","breadcrumb__item")},m(i,o){E(i,e,o),s.m(e,null),b(e,t)},p(i,o){n===(n=l(i))&&s?s.p(i,o):(s.d(1),s=n(i),s&&(s.c(),s.m(e,t)))},d(i){i&&_(e),s.d()}}}function gn(a){let e,t,l,n,s,i,o,f,r=a[0],c=[];for(let u=0;u<r.length;u+=1)c[u]=_l(ul(a,r,u));return{c(){e=y("nav"),t=y("div"),l=y("ol"),n=y("li"),s=y("a"),i=T("Home"),o=K();for(let u=0;u<c.length;u+=1)c[u].c();this.h()},l(u){e=D(u,"NAV",{"aria-label":!0});var h=S(e);t=D(h,"DIV",{class:!0});var m=S(t);l=D(m,"OL",{class:!0});var v=S(l);n=D(v,"LI",{class:!0});var g=S(n);s=D(g,"A",{class:!0,href:!0});var p=S(s);i=V(p,"Home"),p.forEach(_),g.forEach(_),o=L(v);for(let d=0;d<c.length;d+=1)c[d].l(v);v.forEach(_),m.forEach(_),h.forEach(_),this.h()},h(){w(s,"class","breadcrumb__link"),w(s,"href","/"),w(n,"class","breadcrumb__item"),w(l,"class","breadcrumb__list"),w(t,"class",f=""+((a[1]=="neutral"?"breadcrumb-neutral":"breadcrumb")+" print--hide")),w(e,"aria-label","Breadcrumbs")},m(u,h){E(u,e,h),b(e,t),b(t,l),b(l,n),b(n,s),b(s,i),b(l,o);for(let m=0;m<c.length;m+=1)c[m].m(l,null)},p(u,[h]){if(h&1){r=u[0];let m;for(m=0;m<r.length;m+=1){const v=ul(u,r,m);c[m]?c[m].p(v,h):(c[m]=_l(v),c[m].c(),c[m].m(l,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=r.length}h&2&&f!==(f=""+((u[1]=="neutral"?"breadcrumb-neutral":"breadcrumb")+" print--hide"))&&w(t,"class",f)},i:O,o:O,d(u){u&&_(e),le(c,u)}}}function vn(a,e,t){let{links:l=[]}=e,{mode:n="neutral"}=e;return a.$$set=s=>{"links"in s&&t(0,l=s.links),"mode"in s&&t(1,n=s.mode)},[l,n]}class bn extends se{constructor(e){super();ie(this,e,vn,gn,ae,{links:0,mode:1})}}function hl(a,e,t){const l=a.slice();return l[2]=e[t],l}function dl(a){let e,t,l=a[2].label+"",n,s,i,o;return{c(){e=y("li"),t=y("a"),n=T(l),o=K(),this.h()},l(f){e=D(f,"LI",{});var r=S(e);t=D(r,"A",{href:!0,"data-gtm-title":!0,"data-gtm-type":!0});var c=S(t);n=V(c,l),c.forEach(_),o=L(r),r.forEach(_),this.h()},h(){w(t,"href",s=a[2].url),w(t,"data-gtm-title",i=a[2].label),w(t,"data-gtm-type","highlighted-links")},m(f,r){E(f,e,r),b(e,t),b(t,n),b(e,o)},p(f,r){r&2&&l!==(l=f[2].label+"")&&U(n,l),r&2&&s!==(s=f[2].url)&&w(t,"href",s),r&2&&i!==(i=f[2].label)&&w(t,"data-gtm-title",i)},d(f){f&&_(e)}}}function pn(a){let e,t,l,n,s,i=a[1],o=[];for(let f=0;f<i.length;f+=1)o[f]=dl(hl(a,i,f));return{c(){e=y("div"),t=y("h2"),l=T(a[0]),n=K(),s=y("ul");for(let f=0;f<o.length;f+=1)o[f].c();this.h()},l(f){e=D(f,"DIV",{class:!0});var r=S(e);t=D(r,"H2",{class:!0});var c=S(t);l=V(c,a[0]),c.forEach(_),n=L(r),s=D(r,"UL",{class:!0});var u=S(s);for(let h=0;h<o.length;h+=1)o[h].l(u);u.forEach(_),r.forEach(_),this.h()},h(){w(t,"class","margin-top-lg--1"),w(s,"class","list--neutral margin-top--negative-one-fix"),w(e,"class","nav-secondary--border-left-lg col col--md-47 col--lg-19 col--lg-offset-2 padding-left margin-top-lg--3")},m(f,r){E(f,e,r),b(e,t),b(t,l),b(e,n),b(e,s);for(let c=0;c<o.length;c+=1)o[c].m(s,null)},p(f,[r]){if(r&1&&U(l,f[0]),r&2){i=f[1];let c;for(c=0;c<i.length;c+=1){const u=hl(f,i,c);o[c]?o[c].p(u,r):(o[c]=dl(u),o[c].c(),o[c].m(s,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=i.length}},i:O,o:O,d(f){f&&_(e),le(o,f)}}}function kn(a,e,t){let{title:l="Highlighted content"}=e,{links:n=[]}=e;return a.$$set=s=>{"title"in s&&t(0,l=s.title),"links"in s&&t(1,n=s.links)},[l,n]}class wn extends se{constructor(e){super();ie(this,e,kn,pn,ae,{title:0,links:1})}}function ml(a,e,t){const l=a.slice();return l[2]=e[t],l}function En(a){let e,t=a[2].label+"",l;return{c(){e=y("li"),l=T(t),this.h()},l(n){e=D(n,"LI",{class:!0,"aria-current":!0});var s=S(e);l=V(s,t),s.forEach(_),this.h()},h(){w(e,"class","ons-list__item svelte-1dyzlhu"),w(e,"aria-current","true")},m(n,s){E(n,e,s),b(e,l)},p(n,s){s&2&&t!==(t=n[2].label+"")&&U(l,t)},d(n){n&&_(e)}}}function yn(a){let e,t,l=a[2].label+"",n,s,i;return{c(){e=y("li"),t=y("a"),n=T(l),i=K(),this.h()},l(o){e=D(o,"LI",{class:!0});var f=S(e);t=D(f,"A",{href:!0,class:!0});var r=S(t);n=V(r,l),r.forEach(_),i=L(f),f.forEach(_),this.h()},h(){w(t,"href",s=a[2].url),w(t,"class","ons-list__link"),w(e,"class","ons-list__item svelte-1dyzlhu")},m(o,f){E(o,e,f),b(e,t),b(t,n),b(e,i)},p(o,f){f&2&&l!==(l=o[2].label+"")&&U(n,l),f&2&&s!==(s=o[2].url)&&w(t,"href",s)},d(o){o&&_(e)}}}function gl(a){let e;function t(s,i){return s[2].url?yn:En}let l=t(a),n=l(a);return{c(){n.c(),e=j()},l(s){n.l(s),e=j()},m(s,i){n.m(s,i),E(s,e,i)},p(s,i){l===(l=t(s))&&n?n.p(s,i):(n.d(1),n=l(s),n&&(n.c(),n.m(e.parentNode,e)))},d(s){n.d(s),s&&_(e)}}}function Dn(a){let e,t,l,n,s,i=a[1],o=[];for(let f=0;f<i.length;f+=1)o[f]=gl(ml(a,i,f));return{c(){e=y("nav"),t=y("h2"),l=T(a[0]),n=K(),s=y("ol");for(let f=0;f<o.length;f+=1)o[f].c();this.h()},l(f){e=D(f,"NAV",{class:!0,"aria-label":!0});var r=S(e);t=D(r,"H2",{class:!0});var c=S(t);l=V(c,a[0]),c.forEach(_),n=L(r),s=D(r,"OL",{class:!0});var u=S(s);for(let h=0;h<o.length;h+=1)o[h].l(u);u.forEach(_),r.forEach(_),this.h()},h(){w(t,"class","ons-toc__title ons-u-fs-r--b ons-u-mb-s svelte-1dyzlhu"),w(s,"class","ons-list ons-u-mb-m ons-list--dashed svelte-1dyzlhu"),w(e,"class","ons-toc svelte-1dyzlhu"),w(e,"aria-label","Pages in this guide")},m(f,r){E(f,e,r),b(e,t),b(t,l),b(e,n),b(e,s);for(let c=0;c<o.length;c+=1)o[c].m(s,null)},p(f,[r]){if(r&1&&U(l,f[0]),r&2){i=f[1];let c;for(c=0;c<i.length;c+=1){const u=ml(f,i,c);o[c]?o[c].p(u,r):(o[c]=gl(u),o[c].c(),o[c].m(s,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=i.length}},i:O,o:O,d(f){f&&_(e),le(o,f)}}}function In(a,e,t){let{label:l="Contents"}=e,{links:n=[]}=e;return a.$$set=s=>{"label"in s&&t(0,l=s.label),"links"in s&&t(1,n=s.links)},[l,n]}class Sn extends se{constructor(e){super();ie(this,e,In,Dn,ae,{label:0,links:1})}}function Cn(a){let e,t,l,n,s,i,o,f,r;return{c(){e=y("div"),t=y("div"),l=y("dl"),n=y("div"),s=y("dt"),i=T(a[1]),o=T(":"),f=K(),r=y("dd"),this.h()},l(c){e=D(c,"DIV",{class:!0});var u=S(e);t=D(u,"DIV",{class:!0});var h=S(t);l=D(h,"DL",{class:!0});var m=S(l);n=D(m,"DIV",{class:!0});var v=S(n);s=D(v,"DT",{class:!0});var g=S(s);i=V(g,a[1]),o=V(g,":"),g.forEach(_),f=L(v),r=D(v,"DD",{class:!0});var p=S(r);p.forEach(_),v.forEach(_),m.forEach(_),h.forEach(_),u.forEach(_),this.h()},h(){w(s,"class","meta__term inline"),w(r,"class","inline"),w(n,"class","col padding-left--0 meta__item meta__item--no-border"),w(l,"class","col-wrap"),w(t,"class","wrapper"),w(e,"class","meta-wrap--thin"),_e(e,"meta-wrap",a[0]=="grey")},m(c,u){E(c,e,u),b(e,t),b(t,l),b(l,n),b(n,s),b(s,i),b(s,o),b(n,f),b(n,r),r.innerHTML=a[2]},p(c,[u]){u&2&&U(i,c[1]),u&4&&(r.innerHTML=c[2]),u&1&&_e(e,"meta-wrap",c[0]=="grey")},i:O,o:O,d(c){c&&_(e)}}}function Nn(a,e,t){let{background:l="grey"}=e,{label:n="Last updated"}=e,{value:s="date"}=e;return a.$$set=i=>{"background"in i&&t(0,l=i.background),"label"in i&&t(1,n=i.label),"value"in i&&t(2,s=i.value)},[l,n,s]}class zn extends se{constructor(e){super();ie(this,e,Nn,Cn,ae,{background:0,label:1,value:2})}}const An=a=>({}),vl=a=>({});function bl(a){let e,t;return e=new bn({props:{links:a[2],mode:a[0]}}),{c(){F(e.$$.fragment)},l(l){Z(e.$$.fragment,l)},m(l,n){W(e,l,n),t=!0},p(l,n){const s={};n&4&&(s.links=l[2]),n&1&&(s.mode=l[0]),e.$set(s)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){G(e,l)}}}function pl(a){let e,t;return{c(){e=y("p"),t=T(a[6]),this.h()},l(l){e=D(l,"P",{class:!0});var n=S(e);t=V(n,a[6]),n.forEach(_),this.h()},h(){w(e,"class","page-neutral-intro__meta margin-top--0 margin-bottom--3")},m(l,n){E(l,e,n),b(e,t)},p(l,n){n&64&&U(t,l[6])},d(l){l&&_(e)}}}function kl(a){let e,t;return e=new Sn({props:{links:a[3],label:"Contents"}}),{c(){F(e.$$.fragment)},l(l){Z(e.$$.fragment,l)},m(l,n){W(e,l,n),t=!0},p(l,n){const s={};n&8&&(s.links=l[3]),e.$set(s)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){G(e,l)}}}function wl(a){let e,t;return e=new wn({props:{links:a[4]}}),{c(){F(e.$$.fragment)},l(l){Z(e.$$.fragment,l)},m(l,n){W(e,l,n),t=!0},p(l,n){const s={};n&16&&(s.links=l[4]),e.$set(s)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){G(e,l)}}}function El(a){let e,t;return e=new zn({props:{label:"Last updated",value:a[5],background:a[1]}}),{c(){F(e.$$.fragment)},l(l){Z(e.$$.fragment,l)},m(l,n){W(e,l,n),t=!0},p(l,n){const s={};n&32&&(s.value=l[5]),n&2&&(s.background=l[1]),e.$set(s)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){G(e,l)}}}function yl(a){let e,t,l,n;return{c(){e=y("div"),t=y("div"),l=y("div"),n=y("hr"),this.h()},l(s){e=D(s,"DIV",{class:!0});var i=S(e);t=D(i,"DIV",{class:!0});var o=S(t);l=D(o,"DIV",{class:!0});var f=S(l);n=D(f,"HR",{style:!0}),f.forEach(_),o.forEach(_),i.forEach(_),this.h()},h(){z(n,"border","0"),z(n,"height","0"),z(n,"border-top","1px solid #808080"),w(l,"class","col"),w(t,"class","col-wrap"),w(e,"class","wrapper")},m(s,i){E(s,e,i),b(e,t),b(t,l),b(l,n)},d(s){s&&_(e)}}}function Tn(a){let e,t,l,n,s,i,o,f,r,c,u,h,m,v,g=a[2]&&bl(a);const p=a[8].default,d=Ee(p,a,a[7],null);let k=a[6]&&pl(a),I=a[3]&&kl(a),A=a[4]&&wl(a);const P=a[8].meta,R=Ee(P,a,a[7],vl);let M=a[5]&&El(a),J=a[1]=="none"&&yl();return{c(){e=y("div"),t=y("div"),l=y("div"),n=y("div"),g&&g.c(),s=K(),i=y("div"),d&&d.c(),o=K(),k&&k.c(),f=K(),I&&I.c(),r=K(),A&&A.c(),c=K(),R&&R.c(),u=K(),M&&M.c(),h=K(),J&&J.c(),this.h()},l(H){e=D(H,"DIV",{class:!0});var Y=S(e);t=D(Y,"DIV",{class:!0});var ke=S(t);l=D(ke,"DIV",{class:!0});var ne=S(l);n=D(ne,"DIV",{class:!0});var x=S(n);g&&g.l(x),s=L(x),i=D(x,"DIV",{class:!0});var ge=S(i);d&&d.l(ge),o=L(ge),k&&k.l(ge),f=L(ge),I&&I.l(ge),ge.forEach(_),r=L(x),A&&A.l(x),x.forEach(_),ne.forEach(_),ke.forEach(_),c=L(Y),R&&R.l(Y),u=L(Y),M&&M.l(Y),h=L(Y),J&&J.l(Y),Y.forEach(_),this.h()},h(){w(i,"class","col col--md-47"),_e(i,"col--lg-38",a[4]),_e(i,"col--lg-48",!a[4]),w(n,"class","col"),w(l,"class","col-wrap"),w(t,"class","wrapper"),w(e,"class",m="page-neutral-intro "+(a[1]=="grey"?"background--gallery":""))},m(H,Y){E(H,e,Y),b(e,t),b(t,l),b(l,n),g&&g.m(n,null),b(n,s),b(n,i),d&&d.m(i,null),b(i,o),k&&k.m(i,null),b(i,f),I&&I.m(i,null),b(n,r),A&&A.m(n,null),b(e,c),R&&R.m(e,null),b(e,u),M&&M.m(e,null),b(e,h),J&&J.m(e,null),v=!0},p(H,[Y]){H[2]?g?(g.p(H,Y),Y&4&&C(g,1)):(g=bl(H),g.c(),C(g,1),g.m(n,s)):g&&(Q(),N(g,1,1,()=>{g=null}),X()),d&&d.p&&(!v||Y&128)&&ye(d,p,H,H[7],v?Ie(p,H[7],Y,null):De(H[7]),null),H[6]?k?k.p(H,Y):(k=pl(H),k.c(),k.m(i,f)):k&&(k.d(1),k=null),H[3]?I?(I.p(H,Y),Y&8&&C(I,1)):(I=kl(H),I.c(),C(I,1),I.m(i,null)):I&&(Q(),N(I,1,1,()=>{I=null}),X()),Y&16&&_e(i,"col--lg-38",H[4]),Y&16&&_e(i,"col--lg-48",!H[4]),H[4]?A?(A.p(H,Y),Y&16&&C(A,1)):(A=wl(H),A.c(),C(A,1),A.m(n,null)):A&&(Q(),N(A,1,1,()=>{A=null}),X()),R&&R.p&&(!v||Y&128)&&ye(R,P,H,H[7],v?Ie(P,H[7],Y,An):De(H[7]),vl),H[5]?M?(M.p(H,Y),Y&32&&C(M,1)):(M=El(H),M.c(),C(M,1),M.m(e,h)):M&&(Q(),N(M,1,1,()=>{M=null}),X()),H[1]=="none"?J||(J=yl(),J.c(),J.m(e,null)):J&&(J.d(1),J=null),(!v||Y&2&&m!==(m="page-neutral-intro "+(H[1]=="grey"?"background--gallery":"")))&&w(e,"class",m)},i(H){v||(C(g),C(d,H),C(I),C(A),C(R,H),C(M),v=!0)},o(H){N(g),N(d,H),N(I),N(A),N(R,H),N(M),v=!1},d(H){H&&_(e),g&&g.d(),d&&d.d(H),k&&k.d(),I&&I.d(),A&&A.d(),R&&R.d(H),M&&M.d(),J&&J.d()}}}function Vn(a,e,t){let{$$slots:l={},$$scope:n}=e,{mode:s="neutral"}=e,{background:i="grey"}=e,{breadcrumb:o=null}=e,{contents:f=null}=e,{highlighted:r=null}=e,{updated:c=null}=e,{date:u=null}=e;return Pe("mode",s),Pe("background",i),a.$$set=h=>{"mode"in h&&t(0,s=h.mode),"background"in h&&t(1,i=h.background),"breadcrumb"in h&&t(2,o=h.breadcrumb),"contents"in h&&t(3,f=h.contents),"highlighted"in h&&t(4,r=h.highlighted),"updated"in h&&t(5,c=h.updated),"date"in h&&t(6,u=h.date),"$$scope"in h&&t(7,n=h.$$scope)},[s,i,o,f,r,c,u,n,l]}class Pn extends se{constructor(e){super();ie(this,e,Vn,Tn,ae,{mode:0,background:1,breadcrumb:2,contents:3,highlighted:4,updated:5,date:6})}}function Kn(a){let e,t,l;const n=a[2].default,s=Ee(n,a,a[1],null);return{c(){e=y("h1"),s&&s.c(),this.h()},l(i){e=D(i,"H1",{class:!0});var o=S(e);s&&s.l(o),o.forEach(_),this.h()},h(){w(e,"class",t=a[0]=="neutral"?"page-neutral-intro__title":"page-intro__title")},m(i,o){E(i,e,o),s&&s.m(e,null),l=!0},p(i,[o]){s&&s.p&&(!l||o&2)&&ye(s,n,i,i[1],l?Ie(n,i[1],o,null):De(i[1]),null),(!l||o&1&&t!==(t=i[0]=="neutral"?"page-neutral-intro__title":"page-intro__title"))&&w(e,"class",t)},i(i){l||(C(s,i),l=!0)},o(i){N(s,i),l=!1},d(i){i&&_(e),s&&s.d(i)}}}function Ln(a,e,t){let{$$slots:l={},$$scope:n}=e,{mode:s=Ve("mode")}=e;return a.$$set=i=>{"mode"in i&&t(0,s=i.mode),"$$scope"in i&&t(1,n=i.$$scope)},[s,n,l]}class Mn extends se{constructor(e){super();ie(this,e,Ln,Kn,ae,{mode:0})}}function Dl(a,e,t){const l=a.slice();return l[12]=e[t],l[14]=t,l}function Il(a,e,t){const l=a.slice();return l[15]=e[t],l[17]=t,l}function Sl(a,e,t){const l=a.slice();return l[15]=e[t],l[17]=t,l}function Cl(a,e,t){const l=a.slice();return l[19]=e[t],l[14]=t,l}function Nl(a){let e,t=a[5],l=[];for(let n=0;n<t.length;n+=1)l[n]=zl(Cl(a,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=j()},l(n){for(let s=0;s<l.length;s+=1)l[s].l(n);e=j()},m(n,s){for(let i=0;i<l.length;i+=1)l[i].m(n,s);E(n,e,s)},p(n,s){if(s&36){t=n[5];let i;for(i=0;i<t.length;i+=1){const o=Cl(n,t,i);l[i]?l[i].p(o,s):(l[i]=zl(o),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(n){le(l,n),n&&_(e)}}}function zl(a){let e,t,l=`${a[14]==0?0:a[2]}px`,n,s,i=a[19]+"",o,f,r;return{c(){e=y("li"),t=y("div"),n=K(),s=y("span"),o=T(i),r=K(),this.h()},l(c){e=D(c,"LI",{class:!0});var u=S(e);t=D(u,"DIV",{class:!0}),S(t).forEach(_),n=L(u),s=D(u,"SPAN",{class:!0});var h=S(s);o=V(h,i),h.forEach(_),r=L(u),u.forEach(_),this.h()},h(){w(t,"class","legend-vis "+(a[14]==0?"bar":"marker-vis")+" svelte-14ipkw6"),z(t,"border-bottom-width",l,!1),w(s,"class",f=""+(Ke(a[14]==0?"bold":"brackets")+" svelte-14ipkw6")),w(e,"class","svelte-14ipkw6")},m(c,u){E(c,e,u),b(e,t),b(e,n),b(e,s),b(s,o),b(e,r)},p(c,u){u&4&&l!==(l=`${c[14]==0?0:c[2]}px`)&&z(t,"border-bottom-width",l,!1),u&32&&i!==(i=c[19]+"")&&U(o,i)},d(c){c&&_(e)}}}function jn(a){let e,t=a[12].values,l=[];for(let n=0;n<t.length;n+=1)l[n]=Al(Il(a,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=j()},l(n){for(let s=0;s<l.length;s+=1)l[s].l(n);e=j()},m(n,s){for(let i=0;i<l.length;i+=1)l[i].m(n,s);E(n,e,s)},p(n,s){if(s&93){t=n[12].values;let i;for(i=0;i<t.length;i+=1){const o=Il(n,t,i);l[i]?l[i].p(o,s):(l[i]=Al(o),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(n){le(l,n),n&&_(e)}}}function Bn(a){let e,t=a[12].values,l=[];for(let n=0;n<t.length;n+=1)l[n]=Tl(Sl(a,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=j()},l(n){for(let s=0;s<l.length;s+=1)l[s].l(n);e=j()},m(n,s){for(let i=0;i<l.length;i+=1)l[i].m(n,s);E(n,e,s)},p(n,s){if(s&89){t=n[12].values;let i;for(i=0;i<t.length;i+=1){const o=Sl(n,t,i);l[i]?l[i].p(o,s):(l[i]=Tl(o),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(n){le(l,n),n&&_(e)}}}function Al(a){let e,t=`calc(100% - ${a[4](a[15][a[0]])}% - ${a[2]/2}px)`,l=`${a[17]/a[6].length*100}%`,n=`${1/a[6].length*100}%`,s=`${a[2]}px`;return{c(){e=y("div"),this.h()},l(i){e=D(i,"DIV",{class:!0}),S(e).forEach(_),this.h()},h(){w(e,"class","marker svelte-14ipkw6"),z(e,"top",t,!1),z(e,"height","0px",!1),z(e,"left",l,!1),z(e,"width",n,!1),z(e,"border-bottom-width",s,!1)},m(i,o){E(i,e,o)},p(i,o){o&29&&t!==(t=`calc(100% - ${i[4](i[15][i[0]])}% - ${i[2]/2}px)`)&&z(e,"top",t,!1),o&64&&l!==(l=`${i[17]/i[6].length*100}%`)&&z(e,"left",l,!1),o&64&&n!==(n=`${1/i[6].length*100}%`)&&z(e,"width",n,!1),o&4&&s!==(s=`${i[2]}px`)&&z(e,"border-bottom-width",s,!1)},d(i){i&&_(e)}}}function Tl(a){let e,t=`${100-a[4](a[15][a[0]])}%`,l=`${a[4](a[15][a[0]])}%`,n=`${a[17]/a[6].length*100}%`,s=`calc(${1/a[6].length*100}% + 0.2px)`;return{c(){e=y("div"),this.h()},l(i){e=D(i,"DIV",{class:!0}),S(e).forEach(_),this.h()},h(){w(e,"class","bar svelte-14ipkw6"),z(e,"top",t,!1),z(e,"height",l,!1),z(e,"left",n,!1),z(e,"width",s,!1)},m(i,o){E(i,e,o)},p(i,o){o&25&&t!==(t=`${100-i[4](i[15][i[0]])}%`)&&z(e,"top",t,!1),o&25&&l!==(l=`${i[4](i[15][i[0]])}%`)&&z(e,"height",l,!1),o&64&&n!==(n=`${i[17]/i[6].length*100}%`)&&z(e,"left",n,!1),o&64&&s!==(s=`calc(${1/i[6].length*100}% + 0.2px)`)&&z(e,"width",s,!1)},d(i){i&&_(e)}}}function Vl(a){let e;function t(s,i){return s[14]==0?Bn:jn}let n=t(a)(a);return{c(){n.c(),e=j()},l(s){n.l(s),e=j()},m(s,i){n.m(s,i),E(s,e,i)},p(s,i){n.p(s,i)},d(s){n.d(s),s&&_(e)}}}function On(a){let e,t,l,n=`${a[1]}px`,s,i,o,f,r,c,u,h=a[5][1]&&Nl(a),m=a[3],v=[];for(let g=0;g<m.length;g+=1)v[g]=Vl(Dl(a,m,g));return{c(){e=y("ul"),h&&h.c(),t=K(),l=y("div");for(let g=0;g<v.length;g+=1)v[g].c();s=K(),i=y("div"),o=y("div"),f=T("0 years"),r=K(),c=y("div"),u=T("90+"),this.h()},l(g){e=D(g,"UL",{class:!0});var p=S(e);h&&h.l(p),p.forEach(_),t=L(g),l=D(g,"DIV",{class:!0});var d=S(l);for(let P=0;P<v.length;P+=1)v[P].l(d);d.forEach(_),s=L(g),i=D(g,"DIV",{class:!0});var k=S(i);o=D(k,"DIV",{class:!0});var I=S(o);f=V(I,"0 years"),I.forEach(_),r=L(k),c=D(k,"DIV",{class:!0});var A=S(c);u=V(A,"90+"),A.forEach(_),k.forEach(_),this.h()},h(){w(e,"class","legend-block svelte-14ipkw6"),w(l,"class","bar-group svelte-14ipkw6"),z(l,"height",n,!1),w(o,"class","svelte-14ipkw6"),z(o,"left",0,!1),w(c,"class","svelte-14ipkw6"),z(c,"right",0,!1),w(i,"class","x-scale svelte-14ipkw6"),z(i,"height","1rem",!1)},m(g,p){E(g,e,p),h&&h.m(e,null),E(g,t,p),E(g,l,p);for(let d=0;d<v.length;d+=1)v[d].m(l,null);E(g,s,p),E(g,i,p),b(i,o),b(o,f),b(i,r),b(i,c),b(c,u)},p(g,[p]){if(g[5][1]?h?h.p(g,p):(h=Nl(g),h.c(),h.m(e,null)):h&&(h.d(1),h=null),p&93){m=g[3];let d;for(d=0;d<m.length;d+=1){const k=Dl(g,m,d);v[d]?v[d].p(k,p):(v[d]=Vl(k),v[d].c(),v[d].m(l,null))}for(;d<v.length;d+=1)v[d].d(1);v.length=m.length}p&2&&n!==(n=`${g[1]}px`)&&z(l,"height",n,!1)},i:O,o:O,d(g){g&&_(e),h&&h.d(),g&&_(t),g&&_(l),le(v,g),g&&_(s),g&&_(i)}}}function Hn(a,e,t){let l,n,s,i,o,{data:f}=e,{xKey:r="category"}=e,{yKey:c="value"}=e,{zKey:u="group"}=e,{height:h=65}=e,{markerWidth:m=2.5}=e;function v(g,p){let d={};for(const I of g)d[I[p]]||(d[I[p]]={label:I[p],values:[]}),d[I[p]].values.push(I);let k=[];for(const I in d)k.push(d[I]);return k}return a.$$set=g=>{"data"in g&&t(7,f=g.data),"xKey"in g&&t(8,r=g.xKey),"yKey"in g&&t(0,c=g.yKey),"zKey"in g&&t(9,u=g.zKey),"height"in g&&t(1,h=g.height),"markerWidth"in g&&t(2,m=g.markerWidth)},a.$$.update=()=>{a.$$.dirty&384&&t(6,l=f.map(g=>g[r]).filter((g,p,d)=>d.indexOf(g)===p)),a.$$.dirty&129&&t(10,n=[0,Math.max(...f.map(g=>g[c]))]),a.$$.dirty&640&&t(5,s=f.map(g=>g[u]).filter((g,p,d)=>d.indexOf(g)===p)),a.$$.dirty&1024&&t(4,i=g=>Math.abs(g/n[1])*100),a.$$.dirty&640&&t(3,o=v(f,u))},[c,h,m,o,i,s,l,f,r,u,n]}class qn extends se{constructor(e){super();ie(this,e,Hn,On,ae,{data:7,xKey:8,yKey:0,zKey:9,height:1,markerWidth:2})}}function Pl(a,e,t){const l=a.slice();return l[10]=e[t],l[12]=t,l}function Kl(a){let e,t,l,n,s,i=a[6](a[4][a[12]])+"",o;return{c(){e=y("div"),t=K(),l=y("div"),n=K(),s=y("div"),o=T(i),this.h()},l(f){e=D(f,"DIV",{class:!0,style:!0}),S(e).forEach(_),t=L(f),l=D(f,"DIV",{class:!0,style:!0}),S(l).forEach(_),n=L(f),s=D(f,"DIV",{class:!0,style:!0});var r=S(s);o=V(r,i),r.forEach(_),this.h()},h(){w(e,"class","block svelte-1a3ut6y"),z(e,"width",100/(a[4].length-1)+"%"),z(e,"left",a[12]*(100/(a[4].length-1))+"%"),z(e,"background-color",a[5][a[12]]),w(l,"class","line svelte-1a3ut6y"),z(l,"left",a[12]*(100/(a[4].length-1))+"%"),w(s,"class","tick svelte-1a3ut6y"),z(s,"left",a[12]*(100/(a[4].length-1))+"%"),_e(s,"tick-start",a[12]==0)},m(f,r){E(f,e,r),E(f,t,r),E(f,l,r),E(f,n,r),E(f,s,r),b(s,o)},p(f,r){r&16&&z(e,"width",100/(f[4].length-1)+"%"),r&16&&z(e,"left",f[12]*(100/(f[4].length-1))+"%"),r&32&&z(e,"background-color",f[5][f[12]]),r&16&&z(l,"left",f[12]*(100/(f[4].length-1))+"%"),r&80&&i!==(i=f[6](f[4][f[12]])+"")&&U(o,i),r&16&&z(s,"left",f[12]*(100/(f[4].length-1))+"%")},d(f){f&&_(e),f&&_(t),f&&_(l),f&&_(n),f&&_(s)}}}function Ll(a){let e,t,l,n=a[7](a[1])+"",s,i;return{c(){e=y("div"),t=K(),l=y("div"),s=T(n),i=T(a[8]),this.h()},l(o){e=D(o,"DIV",{class:!0,style:!0}),S(e).forEach(_),t=L(o),l=D(o,"DIV",{class:!0,style:!0});var f=S(l);s=V(f,n),i=V(f,a[8]),f.forEach(_),this.h()},h(){w(e,"class","marker svelte-1a3ut6y"),z(e,"width",a[2]+"px"),z(e,"left","calc("+a[9](a[1],a[4])+"% - "+a[2]/2+"px)"),w(l,"class","value svelte-1a3ut6y"),z(l,"left",a[9](a[1],a[4])+"%")},m(o,f){E(o,e,f),E(o,t,f),E(o,l,f),b(l,s),b(l,i)},p(o,f){f&4&&z(e,"width",o[2]+"px"),f&22&&z(e,"left","calc("+o[9](o[1],o[4])+"% - "+o[2]/2+"px)"),f&130&&n!==(n=o[7](o[1])+"")&&U(s,n),f&256&&U(i,o[8]),f&18&&z(l,"left",o[9](o[1],o[4])+"%")},d(o){o&&_(e),o&&_(t),o&&_(l)}}}function Ml(a){let e,t,l,n=a[7](a[0])+"",s,i;return{c(){e=y("div"),t=K(),l=y("div"),s=T(n),i=T(a[8]),this.h()},l(o){e=D(o,"DIV",{class:!0,style:!0}),S(e).forEach(_),t=L(o),l=D(o,"DIV",{class:!0,style:!0});var f=S(l);s=V(f,n),i=V(f,a[8]),f.forEach(_),this.h()},h(){w(e,"class","marker marker-hovered svelte-1a3ut6y"),z(e,"width",a[2]+"px"),z(e,"left","calc("+a[9](a[0],a[4])+"% - "+a[2]/2+"px)"),w(l,"class","value svelte-1a3ut6y"),z(l,"left",a[9](a[0],a[4])+"%")},m(o,f){E(o,e,f),E(o,t,f),E(o,l,f),b(l,s),b(l,i)},p(o,f){f&4&&z(e,"width",o[2]+"px"),f&21&&z(e,"left","calc("+o[9](o[0],o[4])+"% - "+o[2]/2+"px)"),f&129&&n!==(n=o[7](o[0])+"")&&U(s,n),f&256&&U(i,o[8]),f&17&&z(l,"left",o[9](o[0],o[4])+"%")},d(o){o&&_(e),o&&_(t),o&&_(l)}}}function Fn(a){let e,t,l,n,s,i=a[6](a[4][a[4].length-1])+"",o,f,r,c,u=a[4].slice(1),h=[];for(let g=0;g<u.length;g+=1)h[g]=Kl(Pl(a,u,g));let m=a[1]&&Ll(a),v=a[0]&&Ml(a);return{c(){e=y("div");for(let g=0;g<h.length;g+=1)h[g].c();t=K(),l=y("div"),n=K(),s=y("div"),o=T(i),f=T(a[8]),r=K(),m&&m.c(),c=K(),v&&v.c(),this.h()},l(g){e=D(g,"DIV",{class:!0,style:!0});var p=S(e);for(let k=0;k<h.length;k+=1)h[k].l(p);t=L(p),l=D(p,"DIV",{class:!0,style:!0}),S(l).forEach(_),n=L(p),s=D(p,"DIV",{class:!0,style:!0});var d=S(s);o=V(d,i),f=V(d,a[8]),d.forEach(_),r=L(p),m&&m.l(p),c=L(p),v&&v.l(p),p.forEach(_),this.h()},h(){w(l,"class","line svelte-1a3ut6y"),z(l,"left","100%"),w(s,"class","tick tick-end svelte-1a3ut6y"),z(s,"left","100%"),w(e,"class","container svelte-1a3ut6y"),z(e,"height",a[3]+"px")},m(g,p){E(g,e,p);for(let d=0;d<h.length;d+=1)h[d].m(e,null);b(e,t),b(e,l),b(e,n),b(e,s),b(s,o),b(s,f),b(e,r),m&&m.m(e,null),b(e,c),v&&v.m(e,null)},p(g,[p]){if(p&112){u=g[4].slice(1);let d;for(d=0;d<u.length;d+=1){const k=Pl(g,u,d);h[d]?h[d].p(k,p):(h[d]=Kl(k),h[d].c(),h[d].m(e,t))}for(;d<h.length;d+=1)h[d].d(1);h.length=u.length}p&80&&i!==(i=g[6](g[4][g[4].length-1])+"")&&U(o,i),p&256&&U(f,g[8]),g[1]?m?m.p(g,p):(m=Ll(g),m.c(),m.m(e,c)):m&&(m.d(1),m=null),g[0]?v?v.p(g,p):(v=Ml(g),v.c(),v.m(e,null)):v&&(v.d(1),v=null),p&8&&z(e,"height",g[3]+"px")},i:O,o:O,d(g){g&&_(e),le(h,g),m&&m.d(),v&&v.d()}}}function Wn(a,e,t){let{hovered:l=null}=e,{selected:n=null}=e,{lineWidth:s=3}=e,{height:i=15}=e,{breaks:o=[0,20,40,60,80,100]}=e,{colors:f=["rgba(234,236,177,.8)","rgba(169,216,145,.8)","rgba(0,167,186,.8)","rgba(0,78,166,.8)","rgba(0,13,84,.8)"]}=e,{formatTick:r=m=>m.toFixed(0)}=e,{formatVal:c=m=>m.toFixed(1)}=e,{suffix:u="%"}=e;const h=(m,v)=>{let g=0;for(;m>v[g+1];)g+=1;let p=100/(v.length-1),d=(m-v[g])/(v[g+1]-v[g]);return(g+d)*p};return a.$$set=m=>{"hovered"in m&&t(0,l=m.hovered),"selected"in m&&t(1,n=m.selected),"lineWidth"in m&&t(2,s=m.lineWidth),"height"in m&&t(3,i=m.height),"breaks"in m&&t(4,o=m.breaks),"colors"in m&&t(5,f=m.colors),"formatTick"in m&&t(6,r=m.formatTick),"formatVal"in m&&t(7,c=m.formatVal),"suffix"in m&&t(8,u=m.suffix)},[l,n,s,i,o,f,r,c,u,h]}class Gn extends se{constructor(e){super();ie(this,e,Wn,Fn,ae,{hovered:0,selected:1,lineWidth:2,height:3,breaks:4,colors:5,formatTick:6,formatVal:7,suffix:8})}}function jl(a,e,t){const l=a.slice();return l[14]=e[t],l}function Bl(a,e,t){const l=a.slice();return l[17]=e[t],l[19]=t,l}function Ol(a,e,t){const l=a.slice();return l[17]=e[t],l[19]=t,l}function Hl(a,e,t){const l=a.slice();return l[14]=e[t],l[19]=t,l}function ql(a){let e,t=a[7],l=[];for(let n=0;n<t.length;n+=1)l[n]=Fl(Hl(a,t,n));return{c(){e=y("ul");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=D(n,"UL",{class:!0});var s=S(e);for(let i=0;i<l.length;i+=1)l[i].l(s);s.forEach(_),this.h()},h(){w(e,"class","legend-block svelte-1ri9pb8")},m(n,s){E(n,e,s);for(let i=0;i<l.length;i+=1)l[i].m(e,null)},p(n,s){if(s&144){t=n[7];let i;for(i=0;i<t.length;i+=1){const o=Hl(n,t,i);l[i]?l[i].p(o,s):(l[i]=Fl(o),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(n){n&&_(e),le(l,n)}}}function Fl(a){let e,t,l,n,s=a[14]+"",i,o,f;return{c(){e=y("li"),t=y("div"),l=K(),n=y("span"),i=T(s),f=K(),this.h()},l(r){e=D(r,"LI",{class:!0});var c=S(e);t=D(c,"DIV",{class:!0}),S(t).forEach(_),l=L(c),n=D(c,"SPAN",{class:!0});var u=S(n);i=V(u,s),u.forEach(_),f=L(c),c.forEach(_),this.h()},h(){w(t,"class","legend-vis "+(a[19]==0?"bar":"marker")+" svelte-1ri9pb8"),z(t,"height","1rem",!1),z(t,"width",a[19]==0?"1rem":a[4]+"px",!1),w(n,"class",o=""+(Ke(a[19]==0?"bold":"brackets")+" svelte-1ri9pb8")),w(e,"class","svelte-1ri9pb8")},m(r,c){E(r,e,c),b(e,t),b(e,l),b(e,n),b(n,i),b(e,f)},p(r,c){c&16&&z(t,"width",r[19]==0?"1rem":r[4]+"px",!1),c&128&&s!==(s=r[14]+"")&&U(i,s)},d(r){r&&_(e)}}}function Wl(a){let e,t=a[1](a[17].value)+"",l,n,s;return{c(){e=y("span"),l=T(t),n=T(a[2]),this.h()},l(i){e=D(i,"SPAN",{class:!0});var o=S(e);l=V(o,t),n=V(o,a[2]),o.forEach(_),this.h()},h(){w(e,"class",s="label "+(a[19]==0?"bold":"sml brackets")+" svelte-1ri9pb8")},m(i,o){E(i,e,o),b(e,l),b(e,n)},p(i,o){o&34&&t!==(t=i[1](i[17].value)+"")&&U(l,t),o&4&&U(n,i[2])},d(i){i&&_(e)}}}function Un(a){let e,t=`calc(${a[6](a[17][a[0]])}% - ${a[4]/2}px)`,l=`${a[4]}px`;return{c(){e=y("div"),this.h()},l(n){e=D(n,"DIV",{class:!0}),S(e).forEach(_),this.h()},h(){w(e,"class","marker svelte-1ri9pb8"),z(e,"left",t,!1),z(e,"border-left-width",l,!1)},m(n,s){E(n,e,s)},p(n,s){s&113&&t!==(t=`calc(${n[6](n[17][n[0]])}% - ${n[4]/2}px)`)&&z(e,"left",t,!1),s&16&&l!==(l=`${n[4]}px`)&&z(e,"border-left-width",l,!1)},d(n){n&&_(e)}}}function Rn(a){let e,t=`${a[6](a[17][a[0]])}%`;return{c(){e=y("div"),this.h()},l(l){e=D(l,"DIV",{class:!0}),S(e).forEach(_),this.h()},h(){w(e,"class","bar svelte-1ri9pb8"),z(e,"left","0",!1),z(e,"width",t,!1)},m(l,n){E(l,e,n)},p(l,n){n&97&&t!==(t=`${l[6](l[17][l[0]])}%`)&&z(e,"width",t,!1)},d(l){l&&_(e)}}}function Gl(a){let e;function t(s,i){return s[19]==0?Rn:Un}let n=t(a)(a);return{c(){n.c(),e=j()},l(s){n.l(s),e=j()},m(s,i){n.m(s,i),E(s,e,i)},p(s,i){n.p(s,i)},d(s){n.d(s),s&&_(e)}}}function Ul(a){let e,t=a[14].label+"",l,n,s,i,o,f=`${a[3]}px`,r=a[14].values,c=[];for(let m=0;m<r.length;m+=1)c[m]=Wl(Ol(a,r,m));let u=a[14].values,h=[];for(let m=0;m<u.length;m+=1)h[m]=Gl(Bl(a,u,m));return{c(){e=y("div"),l=T(t),n=K();for(let m=0;m<c.length;m+=1)c[m].c();s=K(),i=y("div");for(let m=0;m<h.length;m+=1)h[m].c();o=K(),this.h()},l(m){e=D(m,"DIV",{class:!0});var v=S(e);l=V(v,t),n=L(v);for(let p=0;p<c.length;p+=1)c[p].l(v);v.forEach(_),s=L(m),i=D(m,"DIV",{class:!0});var g=S(i);for(let p=0;p<h.length;p+=1)h[p].l(g);o=L(g),g.forEach(_),this.h()},h(){w(e,"class","label-group svelte-1ri9pb8"),w(i,"class","bar-group svelte-1ri9pb8"),z(i,"height",f,!1)},m(m,v){E(m,e,v),b(e,l),b(e,n);for(let g=0;g<c.length;g+=1)c[g].m(e,null);E(m,s,v),E(m,i,v);for(let g=0;g<h.length;g+=1)h[g].m(i,null);b(i,o)},p(m,v){if(v&32&&t!==(t=m[14].label+"")&&U(l,t),v&38){r=m[14].values;let g;for(g=0;g<r.length;g+=1){const p=Ol(m,r,g);c[g]?c[g].p(p,v):(c[g]=Wl(p),c[g].c(),c[g].m(e,null))}for(;g<c.length;g+=1)c[g].d(1);c.length=r.length}if(v&113){u=m[14].values;let g;for(g=0;g<u.length;g+=1){const p=Bl(m,u,g);h[g]?h[g].p(p,v):(h[g]=Gl(p),h[g].c(),h[g].m(i,o))}for(;g<h.length;g+=1)h[g].d(1);h.length=u.length}v&8&&f!==(f=`${m[3]}px`)&&z(i,"height",f,!1)},d(m){m&&_(e),le(c,m),m&&_(s),m&&_(i),le(h,m)}}}function Zn(a){let e,t,l=a[7][1]&&ql(a),n=a[5],s=[];for(let i=0;i<n.length;i+=1)s[i]=Ul(jl(a,n,i));return{c(){l&&l.c(),e=K();for(let i=0;i<s.length;i+=1)s[i].c();t=j()},l(i){l&&l.l(i),e=L(i);for(let o=0;o<s.length;o+=1)s[o].l(i);t=j()},m(i,o){l&&l.m(i,o),E(i,e,o);for(let f=0;f<s.length;f+=1)s[f].m(i,o);E(i,t,o)},p(i,[o]){if(i[7][1]?l?l.p(i,o):(l=ql(i),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),o&127){n=i[5];let f;for(f=0;f<n.length;f+=1){const r=jl(i,n,f);s[f]?s[f].p(r,o):(s[f]=Ul(r),s[f].c(),s[f].m(t.parentNode,t))}for(;f<s.length;f+=1)s[f].d(1);s.length=n.length}},i:O,o:O,d(i){l&&l.d(i),i&&_(e),le(s,i),i&&_(t)}}}function Jn(a,e,t){let l,n,s,i,{data:o}=e,{xKey:f="value"}=e,{yKey:r="category"}=e,{zKey:c="group"}=e,{formatTick:u=p=>Math.round(p)}=e,{suffix:h="%"}=e,{barHeight:m=25}=e,{markerWidth:v=3}=e;function g(p,d){let k={};for(const A of p)k[A[d]]||(k[A[d]]={label:A[d],values:[]}),k[A[d]].values.push(A);let I=[];for(const A in k)I.push(k[A]);return I}return a.$$set=p=>{"data"in p&&t(8,o=p.data),"xKey"in p&&t(0,f=p.xKey),"yKey"in p&&t(9,r=p.yKey),"zKey"in p&&t(10,c=p.zKey),"formatTick"in p&&t(1,u=p.formatTick),"suffix"in p&&t(2,h=p.suffix),"barHeight"in p&&t(3,m=p.barHeight),"markerWidth"in p&&t(4,v=p.markerWidth)},a.$$.update=()=>{a.$$.dirty&257&&t(11,l=[0,Math.max(...o.map(p=>p[f]))]),a.$$.dirty&768&&o.map(p=>p[r]).filter((p,d,k)=>k.indexOf(p)===d),a.$$.dirty&1280&&t(7,n=o.map(p=>p[c]).filter((p,d,k)=>k.indexOf(p)===d)),a.$$.dirty&2048&&t(6,s=p=>p/l[1]*100),a.$$.dirty&768&&t(5,i=g(o,r))},[f,u,h,m,v,i,s,n,o,r,c,l]}class Rl extends se{constructor(e){super();ie(this,e,Jn,Zn,ae,{data:8,xKey:0,yKey:9,zKey:10,formatTick:1,suffix:2,barHeight:3,markerWidth:4})}}function Zl(a,e,t){const l=a.slice();return l[15]=e[t],l}function Jl(a,e,t){const l=a.slice();return l[18]=e[t],l[19]=e,l[20]=t,l}function Yl(a,e,t){const l=a.slice();return l[15]=e[t],l[20]=t,l}function Ql(a){let e,t=a[7],l=[];for(let n=0;n<t.length;n+=1)l[n]=Xl(Yl(a,t,n));return{c(){e=y("ul");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=D(n,"UL",{class:!0});var s=S(e);for(let i=0;i<l.length;i+=1)l[i].l(s);s.forEach(_),this.h()},h(){w(e,"class","legend-block svelte-gainfd")},m(n,s){E(n,e,s);for(let i=0;i<l.length;i+=1)l[i].m(e,null)},p(n,s){if(s&128){t=n[7];let i;for(i=0;i<t.length;i+=1){const o=Yl(n,t,i);l[i]?l[i].p(o,s):(l[i]=Xl(o),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(n){n&&_(e),le(l,n)}}}function Xl(a){let e,t,l,n,s=a[15]+"",i,o;return{c(){e=y("li"),t=y("div"),l=K(),n=y("span"),i=T(s),o=K(),this.h()},l(f){e=D(f,"LI",{class:!0});var r=S(e);t=D(r,"DIV",{class:!0}),S(t).forEach(_),l=L(r),n=D(r,"SPAN",{class:!0});var c=S(n);i=V(c,s),c.forEach(_),o=L(r),r.forEach(_),this.h()},h(){w(t,"class","legend-vis "+(a[20]==0?"bar":"bar2")+" svelte-gainfd"),w(n,"class","svelte-gainfd"),_e(n,"bold",a[20]==0),w(e,"class","svelte-gainfd")},m(f,r){E(f,e,r),b(e,t),b(e,l),b(e,n),b(n,i),b(e,o)},p(f,r){r&128&&s!==(s=f[15]+"")&&U(i,s)},d(f){f&&_(e)}}}function $l(a){let e,t=`${a[6](a[18][a[0]])}%`,l,n,s=a[1](a[18][a[0]])+"",i,o,f,r=`calc(${a[6](a[18][a[0]])}% + 2px)`;function c(){a[12].call(n,a[19],a[20])}return{c(){e=y("div"),l=K(),n=y("div"),i=T(s),o=T(a[2]),this.h()},l(u){e=D(u,"DIV",{class:!0}),S(e).forEach(_),l=L(u),n=D(u,"DIV",{class:!0});var h=S(n);i=V(h,s),o=V(h,a[2]),h.forEach(_),this.h()},h(){w(e,"class",""+(Ke(a[20]==0?"bar":"bar2")+" svelte-gainfd")),z(e,"left","0",!1),z(e,"width",t,!1),z(e,"top",a[20]==0?"0":"50%",!1),z(e,"height",a[7][1]?"50%":"100%",!1),w(n,"class","label svelte-gainfd"),Oe(()=>c.call(n)),_e(n,"bold",a[20]==0),z(n,"left",r,!1),z(n,"top",a[20]==0?"0":"50%",!1),z(n,"height","50%",!1)},m(u,h){E(u,e,h),E(u,l,h),E(u,n,h),b(n,i),b(n,o),f=$e(n,c.bind(n))},p(u,h){a=u,h&97&&t!==(t=`${a[6](a[18][a[0]])}%`)&&z(e,"width",t,!1),h&128&&z(e,"height",a[7][1]?"50%":"100%",!1),h&35&&s!==(s=a[1](a[18][a[0]])+"")&&U(i,s),h&4&&U(o,a[2]),h&97&&r!==(r=`calc(${a[6](a[18][a[0]])}% + 2px)`)&&z(n,"left",r,!1)},d(u){u&&_(e),u&&_(l),u&&_(n),f()}}}function xl(a){let e,t=a[15].label+"",l,n,s,i,o=`${a[7][1]?a[3]*2:a[3]}px`,f=`calc(100% - ${a[4]}px)`,r=a[15].values,c=[];for(let u=0;u<r.length;u+=1)c[u]=$l(Jl(a,r,u));return{c(){e=y("div"),l=T(t),n=K(),s=y("div");for(let u=0;u<c.length;u+=1)c[u].c();i=K(),this.h()},l(u){e=D(u,"DIV",{class:!0});var h=S(e);l=V(h,t),h.forEach(_),n=L(u),s=D(u,"DIV",{class:!0});var m=S(s);for(let v=0;v<c.length;v+=1)c[v].l(m);i=L(m),m.forEach(_),this.h()},h(){w(e,"class","label-group svelte-gainfd"),w(s,"class","bar-group svelte-gainfd"),z(s,"height",o,!1),z(s,"width",f,!1)},m(u,h){E(u,e,h),b(e,l),E(u,n,h),E(u,s,h);for(let m=0;m<c.length;m+=1)c[m].m(s,null);b(s,i)},p(u,h){if(h&32&&t!==(t=u[15].label+"")&&U(l,t),h&231){r=u[15].values;let m;for(m=0;m<r.length;m+=1){const v=Jl(u,r,m);c[m]?c[m].p(v,h):(c[m]=$l(v),c[m].c(),c[m].m(s,i))}for(;m<c.length;m+=1)c[m].d(1);c.length=r.length}h&136&&o!==(o=`${u[7][1]?u[3]*2:u[3]}px`)&&z(s,"height",o,!1),h&16&&f!==(f=`calc(100% - ${u[4]}px)`)&&z(s,"width",f,!1)},d(u){u&&_(e),u&&_(n),u&&_(s),le(c,u)}}}function Yn(a){let e,t,l=a[7][1]&&Ql(a),n=a[5],s=[];for(let i=0;i<n.length;i+=1)s[i]=xl(Zl(a,n,i));return{c(){l&&l.c(),e=K();for(let i=0;i<s.length;i+=1)s[i].c();t=j()},l(i){l&&l.l(i),e=L(i);for(let o=0;o<s.length;o+=1)s[o].l(i);t=j()},m(i,o){l&&l.m(i,o),E(i,e,o);for(let f=0;f<s.length;f+=1)s[f].m(i,o);E(i,t,o)},p(i,[o]){if(i[7][1]?l?l.p(i,o):(l=Ql(i),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),o&255){n=i[5];let f;for(f=0;f<n.length;f+=1){const r=Zl(i,n,f);s[f]?s[f].p(r,o):(s[f]=xl(r),s[f].c(),s[f].m(t.parentNode,t))}for(;f<s.length;f+=1)s[f].d(1);s.length=n.length}},i:O,o:O,d(i){l&&l.d(i),i&&_(e),le(s,i),i&&_(t)}}}function Qn(a,e,t){let l,n,s,i,{data:o}=e,{xKey:f="value"}=e,{yKey:r="category"}=e,{zKey:c="group"}=e,{formatTick:u=d=>Math.round(d)}=e,{suffix:h="%"}=e,{barHeight:m=20}=e,{margin:v=30}=e;function g(d,k){let I={};for(const P of d)I[P[k]]||(I[P[k]]={label:P[k],values:[]}),I[P[k]].values.push(P);let A=[];for(const P in I)A.push(I[P]);return A}function p(d,k){d[k].width=this.clientWidth,t(5,i),t(8,o),t(9,r)}return a.$$set=d=>{"data"in d&&t(8,o=d.data),"xKey"in d&&t(0,f=d.xKey),"yKey"in d&&t(9,r=d.yKey),"zKey"in d&&t(10,c=d.zKey),"formatTick"in d&&t(1,u=d.formatTick),"suffix"in d&&t(2,h=d.suffix),"barHeight"in d&&t(3,m=d.barHeight),"margin"in d&&t(4,v=d.margin)},a.$$.update=()=>{a.$$.dirty&257&&t(11,l=[0,Math.max(...o.map(d=>d[f]))]),a.$$.dirty&768&&o.map(d=>d[r]).filter((d,k,I)=>I.indexOf(d)===k),a.$$.dirty&1280&&t(7,n=o.map(d=>d[c]).filter((d,k,I)=>I.indexOf(d)===k)),a.$$.dirty&2048&&t(6,s=d=>d/l[1]*100),a.$$.dirty&768&&t(5,i=g(o,r))},[f,u,h,m,v,i,s,n,o,r,c,l,p]}class Xn extends se{constructor(e){super();ie(this,e,Qn,Yn,ae,{data:8,xKey:0,yKey:9,zKey:10,formatTick:1,suffix:2,barHeight:3,margin:4})}}function et(a,e,t){const l=a.slice();return l[16]=e[t],l}function lt(a,e,t){const l=a.slice();return l[19]=e[t],l[21]=t,l}function tt(a,e,t){const l=a.slice();return l[22]=e[t],l[21]=t,l}function nt(a,e,t){const l=a.slice();return l[19]=e[t],l}function st(a){let e,t=`${a[8](a[19].offset)}%`,l=`${a[8](a[19][a[0]])}%`;return{c(){e=y("div"),this.h()},l(n){e=D(n,"DIV",{class:!0}),S(e).forEach(_),this.h()},h(){w(e,"class","bar svelte-ffogaq"),z(e,"left",t,!1),z(e,"width",l,!1),z(e,"background-color",a[7](a[19][a[1]]),!1)},m(n,s){E(n,e,s)},p(n,s){s&320&&t!==(t=`${n[8](n[19].offset)}%`)&&z(e,"left",t,!1),s&321&&l!==(l=`${n[8](n[19][n[0]])}%`)&&z(e,"width",l,!1),s&194&&z(e,"background-color",n[7](n[19][n[1]]),!1)},d(n){n&&_(e)}}}function $n(a){let e,t=a[22].label+"",l,n;return{c(){e=y("div"),l=T(t),n=T(" comparison"),this.h()},l(s){e=D(s,"DIV",{class:!0});var i=S(e);l=V(i,t),n=V(i," comparison"),i.forEach(_),this.h()},h(){w(e,"class","legend overlay brackets svelte-ffogaq")},m(s,i){E(s,e,i),b(e,l),b(e,n)},p(s,i){i&64&&t!==(t=s[22].label+"")&&U(l,t)},d(s){s&&_(e)}}}function it(a){let e,t,l=`${a[21]==0?a[4]:a[4]/2}px`,n=a[22].values,s=[];for(let o=0;o<n.length;o+=1)s[o]=st(nt(a,n,o));let i=a[21]!=0&&$n(a);return{c(){e=y("div");for(let o=0;o<s.length;o+=1)s[o].c();t=K(),i&&i.c(),this.h()},l(o){e=D(o,"DIV",{class:!0});var f=S(e);for(let r=0;r<s.length;r+=1)s[r].l(f);t=L(f),i&&i.l(f),f.forEach(_),this.h()},h(){w(e,"class","bar-group svelte-ffogaq"),z(e,"height",l,!1)},m(o,f){E(o,e,f);for(let r=0;r<s.length;r+=1)s[r].m(e,null);b(e,t),i&&i.m(e,null)},p(o,f){if(f&451){n=o[22].values;let r;for(r=0;r<n.length;r+=1){const c=nt(o,n,r);s[r]?s[r].p(c,f):(s[r]=st(c),s[r].c(),s[r].m(e,t))}for(;r<s.length;r+=1)s[r].d(1);s.length=n.length}o[21]!=0&&i.p(o,f),f&16&&l!==(l=`${o[21]==0?o[4]:o[4]/2}px`)&&z(e,"height",l,!1)},d(o){o&&_(e),le(s,o),i&&i.d()}}}function at(a){let e,t=a[2](a[19][a[0]])+"",l,n,s;return{c(){e=y("td"),l=T(t),n=T(a[3]),this.h()},l(i){e=D(i,"TD",{class:!0});var o=S(e);l=V(o,t),n=V(o,a[3]),o.forEach(_),this.h()},h(){w(e,"class",s="cell-right "+(a[21]==0?"bold":"brackets")+" svelte-ffogaq")},m(i,o){E(i,e,o),b(e,l),b(e,n)},p(i,o){o&37&&t!==(t=i[2](i[19][i[0]])+"")&&U(l,t),o&8&&U(n,i[3])},d(i){i&&_(e)}}}function ot(a){let e,t,l,n,s=a[16].label+"",i,o,f,r=a[16].values,c=[];for(let u=0;u<r.length;u+=1)c[u]=at(lt(a,r,u));return{c(){e=y("tr"),t=y("td"),l=y("div"),n=K(),i=T(s),o=K();for(let u=0;u<c.length;u+=1)c[u].c();f=K(),this.h()},l(u){e=D(u,"TR",{});var h=S(e);t=D(h,"TD",{class:!0});var m=S(t);l=D(m,"DIV",{class:!0}),S(l).forEach(_),n=L(m),i=V(m,s),m.forEach(_),o=L(h);for(let v=0;v<c.length;v+=1)c[v].l(h);f=L(h),h.forEach(_),this.h()},h(){w(l,"class","legend-vis svelte-ffogaq"),z(l,"background-color",a[7](a[16].label),!1),w(t,"class","svelte-ffogaq")},m(u,h){E(u,e,h),b(e,t),b(t,l),b(t,n),b(t,i),b(e,o);for(let m=0;m<c.length;m+=1)c[m].m(e,null);b(e,f)},p(u,h){if(h&160&&z(l,"background-color",u[7](u[16].label),!1),h&32&&s!==(s=u[16].label+"")&&U(i,s),h&45){r=u[16].values;let m;for(m=0;m<r.length;m+=1){const v=lt(u,r,m);c[m]?c[m].p(v,h):(c[m]=at(v),c[m].c(),c[m].m(e,f))}for(;m<c.length;m+=1)c[m].d(1);c.length=r.length}},d(u){u&&_(e),le(c,u)}}}function xn(a){let e,t,l,n=a[6],s=[];for(let f=0;f<n.length;f+=1)s[f]=it(tt(a,n,f));let i=a[5],o=[];for(let f=0;f<i.length;f+=1)o[f]=ot(et(a,i,f));return{c(){for(let f=0;f<s.length;f+=1)s[f].c();e=K(),t=y("table"),l=y("tbody");for(let f=0;f<o.length;f+=1)o[f].c();this.h()},l(f){for(let u=0;u<s.length;u+=1)s[u].l(f);e=L(f),t=D(f,"TABLE",{class:!0});var r=S(t);l=D(r,"TBODY",{});var c=S(l);for(let u=0;u<o.length;u+=1)o[u].l(c);c.forEach(_),r.forEach(_),this.h()},h(){w(t,"class","legend svelte-ffogaq")},m(f,r){for(let c=0;c<s.length;c+=1)s[c].m(f,r);E(f,e,r),E(f,t,r),b(t,l);for(let c=0;c<o.length;c+=1)o[c].m(l,null)},p(f,[r]){if(r&467){n=f[6];let c;for(c=0;c<n.length;c+=1){const u=tt(f,n,c);s[c]?s[c].p(u,r):(s[c]=it(u),s[c].c(),s[c].m(e.parentNode,e))}for(;c<s.length;c+=1)s[c].d(1);s.length=n.length}if(r&173){i=f[5];let c;for(c=0;c<i.length;c+=1){const u=et(f,i,c);o[c]?o[c].p(u,r):(o[c]=ot(u),o[c].c(),o[c].m(l,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=i.length}},i:O,o:O,d(f){le(s,f),f&&_(e),f&&_(t),le(o,f)}}}function es(a,e,t){let l,n,s,i,o,f,r,{data:c}=e,{xKey:u="value"}=e,{yKey:h="category"}=e,{zKey:m="group"}=e,{formatTick:v=I=>Math.round(I)}=e,{suffix:g="%"}=e,{barHeight:p=75}=e,{colors:d=["#206095","#A8BD3A","#003C57","#27A0CC","#118C7B","#F66068","#746CB1","#22D0B6","lightgrey"]}=e;function k(I,A){let P={},R={};for(const J of I)P[J[A]]||(P[J[A]]={label:J[A],values:[]},R[J[A]]=0),P[J[A]].values.push(Xe(Ce({},J),{offset:R[J[A]]})),R[J[A]]+=J[u];let M=[];for(const J in P)M.push(P[J]);return M}return a.$$set=I=>{"data"in I&&t(9,c=I.data),"xKey"in I&&t(0,u=I.xKey),"yKey"in I&&t(1,h=I.yKey),"zKey"in I&&t(10,m=I.zKey),"formatTick"in I&&t(2,v=I.formatTick),"suffix"in I&&t(3,g=I.suffix),"barHeight"in I&&t(4,p=I.barHeight),"colors"in I&&t(11,d=I.colors)},a.$$.update=()=>{a.$$.dirty&514&&t(12,l=c.map(I=>I[h]).filter((I,A,P)=>P.indexOf(I)===A)),a.$$.dirty&1536&&t(14,n=c.map(I=>I[m]).filter((I,A,P)=>P.indexOf(I)===A)),a.$$.dirty&17921&&t(13,s=[0,c.filter(I=>I[m]==n[0]).map(I=>I[u]).reduce((I,A)=>I+A,0)]),a.$$.dirty&8192&&t(8,i=I=>I/s[1]*100),a.$$.dirty&6144&&t(7,o=I=>d[l.indexOf(I)%l.length]),a.$$.dirty&1536&&t(6,f=k(c,m)),a.$$.dirty&514&&t(5,r=k(c,h))},[u,h,v,g,p,r,f,o,i,c,m,d,l,s,n]}class ls extends se{constructor(e){super();ie(this,e,es,xn,ae,{data:9,xKey:0,yKey:1,zKey:10,formatTick:2,suffix:3,barHeight:4,colors:11})}}function ft(a,e,t){const l=a.slice();return l[2]=e[t],l[4]=t,l}function rt(a){let e,t,l=a[4]+a[1]+"",n,s,i,o,f,r=a[2].name+"",c,u,h,m=a[2].value.toFixed(1)+"",v,g,p;return{c(){e=y("tr"),t=y("td"),n=T(l),s=T("."),i=K(),o=y("td"),f=y("strong"),c=T(r),u=K(),h=y("td"),v=T(m),g=T("%"),p=K(),this.h()},l(d){e=D(d,"TR",{});var k=S(e);t=D(k,"TD",{class:!0});var I=S(t);n=V(I,l),s=V(I,"."),I.forEach(_),i=L(k),o=D(k,"TD",{});var A=S(o);f=D(A,"STRONG",{});var P=S(f);c=V(P,r),P.forEach(_),A.forEach(_),u=L(k),h=D(k,"TD",{class:!0});var R=S(h);v=V(R,m),g=V(R,"%"),R.forEach(_),p=L(k),k.forEach(_),this.h()},h(){w(t,"class","w35 svelte-k5j86q"),w(h,"class","text-right svelte-k5j86q")},m(d,k){E(d,e,k),b(e,t),b(t,n),b(t,s),b(e,i),b(e,o),b(o,f),b(f,c),b(e,u),b(e,h),b(h,v),b(h,g),b(e,p)},p(d,k){k&2&&l!==(l=d[4]+d[1]+"")&&U(n,l),k&1&&r!==(r=d[2].name+"")&&U(c,r),k&1&&m!==(m=d[2].value.toFixed(1)+"")&&U(v,m)},d(d){d&&_(e)}}}function ts(a){let e,t,l=a[0],n=[];for(let s=0;s<l.length;s+=1)n[s]=rt(ft(a,l,s));return{c(){e=y("table"),t=y("tbody");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){e=D(s,"TABLE",{class:!0});var i=S(e);t=D(i,"TBODY",{});var o=S(t);for(let f=0;f<n.length;f+=1)n[f].l(o);o.forEach(_),i.forEach(_),this.h()},h(){w(e,"class","table-rank text-small svelte-k5j86q")},m(s,i){E(s,e,i),b(e,t);for(let o=0;o<n.length;o+=1)n[o].m(t,null)},p(s,[i]){if(i&3){l=s[0];let o;for(o=0;o<l.length;o+=1){const f=ft(s,l,o);n[o]?n[o].p(f,i):(n[o]=rt(f),n[o].c(),n[o].m(t,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=l.length}},i:O,o:O,d(s){s&&_(e),le(n,s)}}}function ns(a,e,t){let{data:l}=e,{offset:n=1}=e;return a.$$set=s=>{"data"in s&&t(0,l=s.data),"offset"in s&&t(1,n=s.offset)},[l,n]}class ct extends se{constructor(e){super();ie(this,e,ns,ts,ae,{data:0,offset:1})}}function ut(a){let e;const t=a[15].default,l=Ee(t,a,a[14],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,s){l&&l.m(n,s),e=!0},p(n,s){l&&l.p&&(!e||s&16384)&&ye(l,t,n,n[14],e?Ie(t,n[14],s,null):De(n[14]),null)},i(n){e||(C(l,n),e=!0)},o(n){N(l,n),e=!1},d(n){l&&l.d(n)}}}function ss(a){let e,t,l,n=a[0]&&ut(a);return{c(){e=y("div"),n&&n.c(),this.h()},l(s){e=D(s,"DIV",{class:!0,id:!0});var i=S(e);n&&n.l(i),i.forEach(_),this.h()},h(){w(e,"class","absolute top-0 bg-grey4 w-full h-full svelte-a65d1y"),w(e,"id",a[1]),Oe(()=>a[16].call(e))},m(s,i){E(s,e,i),n&&n.m(e,null),t=$e(e,a[16].bind(e)),a[17](e),l=!0},p(s,[i]){s[0]?n?(n.p(s,i),i&1&&C(n,1)):(n=ut(s),n.c(),C(n,1),n.m(e,null)):n&&(Q(),N(n,1,1,()=>{n=null}),X()),(!l||i&2)&&w(e,"id",s[1])},i(s){l||(C(n),l=!0)},o(s){N(n),l=!1},d(s){s&&_(e),n&&n.d(),t(),a[17](null)}}}function is(a,e,t){let{$$slots:l={},$$scope:n}=e,{map:s}=e,{id:i="map"}=e,{location:o={bounds:[[-5.816,49.864],[1.863,55.872]]}}=e,{maxbounds:f=[[-13,48],[5,60]]}=e,{style:r="https://bothness.github.io/ons-basemaps/data/style-omt.json"}=e,{interactive:c=!0}=e,{minzoom:u=0}=e,{maxzoom:h=14}=e,{zoom:m=null}=e,{scrollzoom:v=!0}=e,{geolocate:g=!0}=e,{zoomcontrol:p=!0}=e,d,k,I;Pe("map",{getMap:()=>s}),o.bounds?I={bounds:o.bounds}:o.lon&&o.lat&&(I={center:[o.lon,o.lat]},o.zoom&&(I.zoom=o.zoom)),f&&(I.maxBounds=f),Rt(()=>{const M=document.createElement("link");return M.rel="stylesheet",M.href="https://unpkg.com/mapbox-gl@1.13.0/dist/mapbox-gl.css",M.onload=()=>{t(0,s=new He.Map(Ce({container:d,style:r,minZoom:u,maxZoom:h,interactive:c},I))),p&&s.addControl(new He.NavigationControl({showCompass:!1})),v||s.scrollZoom.disable(),g&&s.addControl(new He.GeolocateControl),s.on("load",()=>{t(4,m=s.getZoom())}),s.on("zoom",()=>{t(4,m=s.getZoom())})},document.head.appendChild(M),()=>{s.remove(),M.parentNode.removeChild(M)}});function A(){let M=document.getElementsByClassName("mapboxgl-canvas");M[0]&&(M[0].style.width="100%",s.resize())}function P(){k=this.clientWidth,t(2,k)}function R(M){We[M?"unshift":"push"](()=>{d=M,t(3,d)})}return a.$$set=M=>{"map"in M&&t(0,s=M.map),"id"in M&&t(1,i=M.id),"location"in M&&t(5,o=M.location),"maxbounds"in M&&t(6,f=M.maxbounds),"style"in M&&t(7,r=M.style),"interactive"in M&&t(8,c=M.interactive),"minzoom"in M&&t(9,u=M.minzoom),"maxzoom"in M&&t(10,h=M.maxzoom),"zoom"in M&&t(4,m=M.zoom),"scrollzoom"in M&&t(11,v=M.scrollzoom),"geolocate"in M&&t(12,g=M.geolocate),"zoomcontrol"in M&&t(13,p=M.zoomcontrol),"$$scope"in M&&t(14,n=M.$$scope)},a.$$.update=()=>{a.$$.dirty&4&&k&&A()},[s,i,k,d,m,o,f,r,c,u,h,v,g,p,n,l,P,R]}class as extends se{constructor(e){super();ie(this,e,is,ss,ae,{map:0,id:1,location:5,maxbounds:6,style:7,interactive:8,minzoom:9,maxzoom:10,zoom:4,scrollzoom:11,geolocate:12,zoomcontrol:13})}}function _t(a){let e;const t=a[11].default,l=Ee(t,a,a[10],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,s){l&&l.m(n,s),e=!0},p(n,s){l&&l.p&&(!e||s&1024)&&ye(l,t,n,n[10],e?Ie(t,n[10],s,null):De(n[10]),null)},i(n){e||(C(l,n),e=!0)},o(n){N(l,n),e=!1},d(n){l&&l.d(n)}}}function os(a){let e,t,l=a[0]&&_t(a);return{c(){l&&l.c(),e=j()},l(n){l&&l.l(n),e=j()},m(n,s){l&&l.m(n,s),E(n,e,s),t=!0},p(n,[s]){n[0]?l?(l.p(n,s),s&1&&C(l,1)):(l=_t(n),l.c(),C(l,1),l.m(e.parentNode,e)):l&&(Q(),N(l,1,1,()=>{l=null}),X())},i(n){t||(C(l),t=!0)},o(n){N(l),t=!1},d(n){l&&l.d(n),n&&_(e)}}}function fs(a,e,t){let{$$slots:l={},$$scope:n}=e,{id:s}=e,{type:i}=e,{url:o=null}=e,{props:f={}}=e,{data:r=null}=e,{layer:c=null}=e,{promoteId:u=null}=e,{minzoom:h=null}=e,{maxzoom:m=null}=e,v=!1;const{getMap:g}=Ve("map"),p=g();Pe("source",{source:s,sourceLayer:c}),p.getSource(s)&&p.removeSource(s);function d(){p.isSourceLoaded(s)?(t(0,v=!0),console.log(s+" loaded!")):setTimeout(()=>{console.log("..."),d()},500)}function k(){p.isStyleLoaded(s)?(I(),document.querySelector("#map canvas")&&document.querySelector("#map canvas").tabIndex=="0"&&(document.querySelector("#map canvas").tabIndex="-1")):setTimeout(()=>{console.log("..."),k()},500)}h&&(f.minzoom=h),m&&(f.maxzoom=m),c&&u?(f.promoteId={},f.promoteId[c]=u):u&&(f.promoteId=u);function I(){console.log(s+" map source loading..."),i=="geojson"?r?(p.addSource(s,Ce({type:i,data:r},f)),d()):o&&(p.addSource(s,Ce({type:i,data:o},f)),d()):i=="vector"&&(p.addSource(s,Ce({type:i,tiles:[o]},f)),d())}k();function A(){p.getSource(s).setData(r)}return a.$$set=P=>{"id"in P&&t(2,s=P.id),"type"in P&&t(3,i=P.type),"url"in P&&t(4,o=P.url),"props"in P&&t(1,f=P.props),"data"in P&&t(5,r=P.data),"layer"in P&&t(6,c=P.layer),"promoteId"in P&&t(7,u=P.promoteId),"minzoom"in P&&t(8,h=P.minzoom),"maxzoom"in P&&t(9,m=P.maxzoom),"$$scope"in P&&t(10,n=P.$$scope)},a.$$.update=()=>{a.$$.dirty&33&&v&&r&&A()},[v,f,s,i,o,r,c,u,h,m,n,l]}class rs extends se{constructor(e){super();ie(this,e,fs,os,ae,{id:2,type:3,url:4,props:1,data:5,layer:6,promoteId:7,minzoom:8,maxzoom:9})}}function cs(a,e,t){const l=Zt(),n=new He.Popup({closeButton:!1,closeOnClick:!1});let{id:s}=e,{type:i}=e,{filter:o=null}=e,{layout:f={}}=e,{paint:r={}}=e,{data:c=null}=e,{geoCode:u=null}=e,{colorCode:h=null}=e,{nameCode:m=null}=e,{valueCode:v=null}=e,{click:g=!1}=e,{ignoreClick:p=!1}=e,{clickCenter:d=!1}=e,{selected:k=null}=e,{hover:I=!1}=e,{hovered:A=null}=e,{highlight:P=!1}=e,{highlightKey:R="highlighted"}=e,{highlighted:M=[]}=e,{order:J=null}=e,{maxzoom:H=null}=e,{minzoom:Y=null}=e,{tooltip:ke=!1}=e;const{source:ne,sourceLayer:x}=Ve("source"),{getMap:ge}=Ve("map"),$=ge();let ve=null,we=null,Ne=[];$.getLayer(s)&&$.removeLayer(s);let ze={id:s,type:i,source:ne,paint:r,layout:f};o&&(ze.filter=o),x&&(ze["source-layer"]=x),H&&(ze.maxzoom=H),Y&&(ze.minzoom=Y),$.addLayer(ze,J);function Fe(){c.forEach(B=>{$.setFeatureState({source:ne,sourceLayer:x,id:B[u]},{color:h?B[h]:null,name:m?B[m]:null,value:v?B[v]:null})})}return g&&$.on("click",s,B=>{if(B.features.length>0&&!p){if(t(0,k=B.features[0].id),l("select",{code:k}),ve&&$.setFeatureState({source:ne,sourceLayer:x,id:ve},{selected:!1}),$.setFeatureState({source:ne,sourceLayer:x,id:k},{selected:!0}),d){let ce=centroid(B.features[0].toJSON().geometry);$.flyTo({center:ce.geometry.coordinates})}t(23,ve=k)}}),I&&($.on("mousemove",s,B=>{if(B.features.length>0){A&&$.setFeatureState({source:ne,sourceLayer:x,id:A},{hovered:!1}),t(1,A=t(24,we=B.features[0].id)),$.setFeatureState({source:ne,sourceLayer:x,id:A},{hovered:!0}),$.getCanvas().style.cursor="pointer";let ce=$.getFeatureState({source:ne,sourceLayer:x,id:A});ke&&ce.name&&n.setLngLat(B.lngLat).setHTML(`<strong>${ce.name}</strong>${ce.value?"<br/>"+ce.value.toFixed(1)+"%":"<br/>Data not available"}`).addTo($)}}),$.on("mouseleave",s,B=>{A&&$.setFeatureState({source:ne,sourceLayer:x,id:A},{hovered:!1}),t(1,A=t(24,we=null)),$.getCanvas().style.cursor="",ke&&n.remove()})),a.$$set=B=>{"id"in B&&t(2,s=B.id),"type"in B&&t(3,i=B.type),"filter"in B&&t(4,o=B.filter),"layout"in B&&t(5,f=B.layout),"paint"in B&&t(6,r=B.paint),"data"in B&&t(7,c=B.data),"geoCode"in B&&t(8,u=B.geoCode),"colorCode"in B&&t(9,h=B.colorCode),"nameCode"in B&&t(10,m=B.nameCode),"valueCode"in B&&t(11,v=B.valueCode),"click"in B&&t(12,g=B.click),"ignoreClick"in B&&t(13,p=B.ignoreClick),"clickCenter"in B&&t(14,d=B.clickCenter),"selected"in B&&t(0,k=B.selected),"hover"in B&&t(15,I=B.hover),"hovered"in B&&t(1,A=B.hovered),"highlight"in B&&t(16,P=B.highlight),"highlightKey"in B&&t(17,R=B.highlightKey),"highlighted"in B&&t(18,M=B.highlighted),"order"in B&&t(19,J=B.order),"maxzoom"in B&&t(20,H=B.maxzoom),"minzoom"in B&&t(21,Y=B.minzoom),"tooltip"in B&&t(22,ke=B.tooltip)},a.$$.update=()=>{a.$$.dirty[0]&640&&(c||h)&&Fe(),a.$$.dirty[0]&34013184&&P&&M!=Ne&&(Ne[0]&&Ne.forEach(B=>{let ce={};ce[R]=!1,$.setFeatureState({source:ne,sourceLayer:x,id:B},ce)}),t(25,Ne=M),M[0]&&M.forEach(B=>{let ce={};ce[R]=!0,$.setFeatureState({source:ne,sourceLayer:x,id:B},ce)})),a.$$.dirty[0]&8392705&&g&&k!=ve&&(ve&&$.setFeatureState({source:ne,sourceLayer:x,id:ve},{selected:!1}),k&&$.setFeatureState({source:ne,sourceLayer:x,id:k},{selected:!0}),t(23,ve=k)),a.$$.dirty[0]&16809986&&I&&A!=we&&(we&&$.setFeatureState({source:ne,sourceLayer:x,id:we},{hovered:!1}),A&&$.setFeatureState({source:ne,sourceLayer:x,id:A},{hovered:!0}),t(24,we=A))},[k,A,s,i,o,f,r,c,u,h,m,v,g,p,d,I,P,R,M,J,H,Y,ke,ve,we,Ne]}class ht extends se{constructor(e){super();ie(this,e,cs,null,ae,{id:2,type:3,filter:4,layout:5,paint:6,data:7,geoCode:8,colorCode:9,nameCode:10,valueCode:11,click:12,ignoreClick:13,clickCenter:14,selected:0,hover:15,hovered:1,highlight:16,highlightKey:17,highlighted:18,order:19,maxzoom:20,minzoom:21,tooltip:22},null,[-1,-1])}}function us(a){let e,t,l;const n=a[1].default,s=Ee(n,a,a[0],null);return{c(){e=y("div"),t=y("div"),s&&s.c(),this.h()},l(i){e=D(i,"DIV",{class:!0});var o=S(e);t=D(o,"DIV",{class:!0});var f=S(t);s&&s.l(f),f.forEach(_),o.forEach(_),this.h()},h(){w(t,"class","wrapper"),w(e,"class","page-content")},m(i,o){E(i,e,o),b(e,t),s&&s.m(t,null),l=!0},p(i,[o]){s&&s.p&&(!l||o&1)&&ye(s,n,i,i[0],l?Ie(n,i[0],o,null):De(i[0]),null)},i(i){l||(C(s,i),l=!0)},o(i){N(s,i),l=!1},d(i){i&&_(e),s&&s.d(i)}}}function _s(a,e,t){let{$$slots:l={},$$scope:n}=e;return a.$$set=s=>{"$$scope"in s&&t(0,n=s.$$scope)},[n,l]}class hs extends se{constructor(e){super();ie(this,e,_s,us,ae,{})}}const ds=a=>({}),dt=a=>({});function mt(a){let e,t,l,n;const s=a[2].meta,i=Ee(s,a,a[1],dt);return{c(){e=y("h2"),t=T(a[0]),l=K(),i&&i.c(),this.h()},l(o){e=D(o,"H2",{id:!0,class:!0});var f=S(e);t=V(f,a[0]),f.forEach(_),l=L(o),i&&i.l(o),this.h()},h(){w(e,"id","topics"),w(e,"class","svelte-nbvi9s")},m(o,f){E(o,e,f),b(e,t),E(o,l,f),i&&i.m(o,f),n=!0},p(o,f){(!n||f&1)&&U(t,o[0]),i&&i.p&&(!n||f&2)&&ye(i,s,o,o[1],n?Ie(s,o[1],f,ds):De(o[1]),dt)},i(o){n||(C(i,o),n=!0)},o(o){N(i,o),n=!1},d(o){o&&_(e),o&&_(l),i&&i.d(o)}}}function ms(a){let e,t,l,n,s=a[0]&&mt(a);const i=a[2].default,o=Ee(i,a,a[1],null);return{c(){e=y("div"),s&&s.c(),t=K(),l=y("div"),o&&o.c(),this.h()},l(f){e=D(f,"DIV",{class:!0});var r=S(e);s&&s.l(r),t=L(r),l=D(r,"DIV",{class:!0});var c=S(l);o&&o.l(c),c.forEach(_),r.forEach(_),this.h()},h(){w(l,"class","tiles-grid margin-bottom svelte-nbvi9s"),w(e,"class","tiles")},m(f,r){E(f,e,r),s&&s.m(e,null),b(e,t),b(e,l),o&&o.m(l,null),n=!0},p(f,[r]){f[0]?s?(s.p(f,r),r&1&&C(s,1)):(s=mt(f),s.c(),C(s,1),s.m(e,t)):s&&(Q(),N(s,1,1,()=>{s=null}),X()),o&&o.p&&(!n||r&2)&&ye(o,i,f,f[1],n?Ie(i,f[1],r,null):De(f[1]),null)},i(f){n||(C(s),C(o,f),n=!0)},o(f){N(s),N(o,f),n=!1},d(f){f&&_(e),s&&s.d(),o&&o.d(f)}}}function gs(a,e,t){let{$$slots:l={},$$scope:n}=e,{title:s=null}=e;return a.$$set=i=>{"title"in i&&t(0,s=i.title),"$$scope"in i&&t(1,n=i.$$scope)},[s,n,l]}class Ze extends se{constructor(e){super();ie(this,e,gs,ms,ae,{title:0})}}function gt(a,e,t){const l=a.slice();return l[7]=e[t],l}function vt(a){let e,t,l;return{c(){e=y("header"),t=y("h3"),l=T(a[2]),this.h()},l(n){e=D(n,"HEADER",{class:!0});var s=S(e);t=D(s,"H3",{class:!0});var i=S(t);l=V(i,a[2]),i.forEach(_),s.forEach(_),this.h()},h(){w(t,"class","margin-top--0 margin-right--0 margin-bottom--0 margin-left--0 svelte-1krn9ab"),w(e,"class","margin-top--1")},m(n,s){E(n,e,s),b(e,t),b(t,l)},p(n,s){s&4&&U(l,n[2])},d(n){n&&_(e)}}}function bt(a){let e,t=a[3],l=[];for(let n=0;n<t.length;n+=1)l[n]=pt(gt(a,t,n));return{c(){e=y("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=D(n,"DIV",{class:!0});var s=S(e);for(let i=0;i<l.length;i+=1)l[i].l(s);s.forEach(_),this.h()},h(){w(e,"class","margin-top--2")},m(n,s){E(n,e,s);for(let i=0;i<l.length;i+=1)l[i].m(e,null)},p(n,s){if(s&8){t=n[3];let i;for(i=0;i<t.length;i+=1){const o=gt(n,t,i);l[i]?l[i].p(o,s):(l[i]=pt(o),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(n){n&&_(e),le(l,n)}}}function pt(a){let e,t=a[7].label+"",l,n,s,i,o;return{c(){e=y("a"),l=T(t),n=K(),this.h()},l(f){e=D(f,"A",{href:!0,class:!0,"aria-label":!0,"data-gtm-label":!0});var r=S(e);l=V(r,t),n=L(r),r.forEach(_),this.h()},h(){w(e,"href",s=a[7].url),w(e,"class","tile__link"),w(e,"aria-label",i=a[7].label),w(e,"data-gtm-label",o=a[7].label)},m(f,r){E(f,e,r),b(e,l),b(e,n)},p(f,r){r&8&&t!==(t=f[7].label+"")&&U(l,t),r&8&&s!==(s=f[7].url)&&w(e,"href",s),r&8&&i!==(i=f[7].label)&&w(e,"aria-label",i),r&8&&o!==(o=f[7].label)&&w(e,"data-gtm-label",o)},d(f){f&&_(e)}}}function vs(a){let e,t,l,n,s=`span ${a[0]}`,i=`span ${a[1]}`,o,f=a[2]&&vt(a);const r=a[6].default,c=Ee(r,a,a[5],null);let u=a[3]&&a[3][0]&&bt(a);return{c(){e=y("div"),f&&f.c(),t=K(),c&&c.c(),l=K(),u&&u.c(),this.h()},l(h){e=D(h,"DIV",{class:!0});var m=S(e);f&&f.l(m),t=L(m),c&&c.l(m),l=L(m),u&&u.l(m),m.forEach(_),this.h()},h(){w(e,"class",n=""+(Ke(a[4]?"":"tile tile__content")+" svelte-1krn9ab")),_e(e,"blank",a[4]),z(e,"grid-column",s,!1),z(e,"grid-row",i,!1)},m(h,m){E(h,e,m),f&&f.m(e,null),b(e,t),c&&c.m(e,null),b(e,l),u&&u.m(e,null),o=!0},p(h,[m]){h[2]?f?f.p(h,m):(f=vt(h),f.c(),f.m(e,t)):f&&(f.d(1),f=null),c&&c.p&&(!o||m&32)&&ye(c,r,h,h[5],o?Ie(r,h[5],m,null):De(h[5]),null),h[3]&&h[3][0]?u?u.p(h,m):(u=bt(h),u.c(),u.m(e,null)):u&&(u.d(1),u=null),(!o||m&16&&n!==(n=""+(Ke(h[4]?"":"tile tile__content")+" svelte-1krn9ab")))&&w(e,"class",n),m&16&&_e(e,"blank",h[4]),m&1&&s!==(s=`span ${h[0]}`)&&z(e,"grid-column",s,!1),m&2&&i!==(i=`span ${h[1]}`)&&z(e,"grid-row",i,!1)},i(h){o||(C(c,h),o=!0)},o(h){N(c,h),o=!1},d(h){h&&_(e),f&&f.d(),c&&c.d(h),u&&u.d()}}}function bs(a,e,t){let{$$slots:l={},$$scope:n}=e,{colspan:s=1}=e,{rowspan:i=1}=e,{title:o=null}=e,{links:f=null}=e,{blank:r=!1}=e;return a.$$set=c=>{"colspan"in c&&t(0,s=c.colspan),"rowspan"in c&&t(1,i=c.rowspan),"title"in c&&t(2,o=c.title),"links"in c&&t(3,f=c.links),"blank"in c&&t(4,r=c.blank),"$$scope"in c&&t(5,n=c.$$scope)},[s,i,o,f,r,n,l]}class ue extends se{constructor(e){super();ie(this,e,bs,vs,ae,{colspan:0,rowspan:1,title:2,links:3,blank:4})}}function kt(a,e,t){const l=a.slice();return l[41]=e[t],l[43]=t,l}function wt(a,e,t){const l=a.slice();return l[44]=e[t],l}function Et(a,e,t){const l=a.slice();return l[47]=e[t],l[43]=t,l}function ps(a){let e;return{c(){e=T("Population Group Profiles")},l(t){e=V(t,"Population Group Profiles")},m(t,l){E(t,e,l)},d(t){t&&_(e)}}}function ks(a){let e,t,l,n,s,i,o,f,r,c,u;return e=new Mn({props:{$$slots:{default:[ps]},$$scope:{ctx:a}}}),{c(){F(e.$$.fragment),t=K(),l=y("p"),n=T("Select one or more identity characteristics to define a population group to compare with the whole population of England and Wales. For example, see "),s=y("a"),i=T("people of Sikh ethnicity born in the UK"),o=T(" or "),f=y("a"),r=T("people aged 65+ born in Ireland"),c=T("."),this.h()},l(h){Z(e.$$.fragment,h),t=L(h),l=D(h,"P",{class:!0});var m=S(l);n=V(m,"Select one or more identity characteristics to define a population group to compare with the whole population of England and Wales. For example, see "),s=D(m,"A",{href:!0,class:!0});var v=S(s);i=V(v,"people of Sikh ethnicity born in the UK"),v.forEach(_),o=V(m," or "),f=D(m,"A",{href:!0,class:!0});var g=S(f);r=V(g,"people aged 65+ born in Ireland"),g.forEach(_),c=V(m,"."),m.forEach(_),this.h()},h(){w(s,"href","?religion=7&cob=1-5"),w(s,"class","svelte-o8m547"),w(f,"href","?age=65-90&cob=6"),w(f,"class","svelte-o8m547"),w(l,"class","subtitle svelte-o8m547")},m(h,m){W(e,h,m),E(h,t,m),E(h,l,m),b(l,n),b(l,s),b(s,i),b(l,o),b(l,f),b(f,r),b(l,c),u=!0},p(h,m){const v={};m[1]&262144&&(v.$$scope={dirty:m,ctx:h}),e.$set(v)},i(h){u||(C(e.$$.fragment,h),u=!0)},o(h){N(e.$$.fragment,h),u=!1},d(h){G(e,h),h&&_(t),h&&_(l)}}}function yt(a){let e,t=de(a[47].label)+"",l,n;return{c(){e=y("option"),l=T(t),this.h()},l(s){e=D(s,"OPTION",{});var i=S(e);l=V(i,t),i.forEach(_),this.h()},h(){e.__value=n=a[47],e.value=e.__value},m(s,i){E(s,e,i),b(e,l)},p(s,i){i[0]&2048&&t!==(t=de(s[47].label)+"")&&U(l,t),i[0]&2048&&n!==(n=s[47])&&(e.__value=n,e.value=e.__value)},d(s){s&&_(e)}}}function Dt(a){let e,t,l,n,s,i,o=a[2].cats,f=[];for(let r=0;r<o.length;r+=1)f[r]=It(wt(a,o,r));return{c(){e=y("select");for(let r=0;r<f.length;r+=1)f[r].c();t=K(),l=y("button"),n=T("Add"),this.h()},l(r){e=D(r,"SELECT",{class:!0});var c=S(e);for(let h=0;h<f.length;h+=1)f[h].l(c);c.forEach(_),t=L(r),l=D(r,"BUTTON",{class:!0});var u=S(l);n=V(u,"Add"),u.forEach(_),this.h()},h(){w(e,"class","svelte-o8m547"),a[3][a[2].label]===void 0&&Oe(()=>a[25].call(e)),w(l,"class","btn svelte-o8m547")},m(r,c){E(r,e,c);for(let u=0;u<f.length;u+=1)f[u].m(e,null);qe(e,a[3][a[2].label]),E(r,t,c),E(r,l,c),b(l,n),s||(i=[Ae(e,"change",a[25]),Ae(l,"mouseup",a[26])],s=!0)},p(r,c){if(c[0]&4){o=r[2].cats;let u;for(u=0;u<o.length;u+=1){const h=wt(r,o,u);f[u]?f[u].p(h,c):(f[u]=It(h),f[u].c(),f[u].m(e,null))}for(;u<f.length;u+=1)f[u].d(1);f.length=o.length}c[0]&2060&&qe(e,r[3][r[2].label])},d(r){r&&_(e),le(f,r),r&&_(t),r&&_(l),s=!1,xe(i)}}}function It(a){let e,t,l=(a[44].indent?Array.from({length:a[44].indent-1},a[24]).join("")+sl:"")+"",n=de(a[44].label)+"",s,i;return{c(){e=y("option"),t=new Qt,s=T(n),this.h()},l(o){e=D(o,"OPTION",{});var f=S(e);t=Xt(f),s=V(f,n),f.forEach(_),this.h()},h(){t.a=s,e.__value=i=a[44],e.value=e.__value},m(o,f){E(o,e,f),t.m(l,e),b(e,s)},p(o,f){f[0]&4&&l!==(l=(o[44].indent?Array.from({length:o[44].indent-1},o[24]).join("")+sl:"")+"")&&t.p(l),f[0]&4&&n!==(n=de(o[44].label)+"")&&U(s,n),f[0]&2052&&i!==(i=o[44])&&(e.__value=i,e.value=e.__value)},d(o){o&&_(e)}}}function St(a){let e,t,l,n=a[0],s=[];for(let i=0;i<n.length;i+=1)s[i]=Ct(kt(a,n,i));return{c(){e=y("br"),t=K();for(let i=0;i<s.length;i+=1)s[i].c();l=j()},l(i){e=D(i,"BR",{}),t=L(i);for(let o=0;o<s.length;o+=1)s[o].l(i);l=j()},m(i,o){E(i,e,o),E(i,t,o);for(let f=0;f<s.length;f+=1)s[f].m(i,o);E(i,l,o)},p(i,o){if(o[0]&8353){n=i[0];let f;for(f=0;f<n.length;f+=1){const r=kt(i,n,f);s[f]?s[f].p(r,o):(s[f]=Ct(r),s[f].c(),s[f].m(l.parentNode,l))}for(;f<s.length;f+=1)s[f].d(1);s.length=n.length}},d(i){i&&_(e),i&&_(t),le(s,i),i&&_(l)}}}function ws(a){let e,t,l=de(a[41].topic)+"",n,s,i=de(a[41].label)+"",o,f,r,c,u,h;function m(){return a[27](a[41])}return{c(){e=y("div"),t=y("span"),n=T(l),s=T(": "),o=T(i),f=K(),r=y("button"),c=K(),this.h()},l(v){e=D(v,"DIV",{class:!0});var g=S(e);t=D(g,"SPAN",{class:!0});var p=S(t);n=V(p,l),s=V(p,": "),o=V(p,i),p.forEach(_),f=L(g),r=D(g,"BUTTON",{class:!0}),S(r).forEach(_),c=L(g),g.forEach(_),this.h()},h(){w(t,"class","svelte-o8m547"),w(r,"class","svelte-o8m547"),w(e,"class","chip svelte-o8m547"),_e(e,"chip-inactive",a[43]>=a[7])},m(v,g){E(v,e,g),b(e,t),b(t,n),b(t,s),b(t,o),b(e,f),b(e,r),b(e,c),u||(h=Ae(r,"click",m),u=!0)},p(v,g){a=v,g[0]&1&&l!==(l=de(a[41].topic)+"")&&U(n,l),g[0]&1&&i!==(i=de(a[41].label)+"")&&U(o,i),g[0]&128&&_e(e,"chip-inactive",a[43]>=a[7])},d(v){v&&_(e),u=!1,h()}}}function Es(a){let e,t,l=de(a[41].topic)+"",n,s,i=de(a[41].label)+"",o,f,r,c;return{c(){e=y("div"),t=y("span"),n=T(l),s=T(": "),o=T(i),f=K(),r=y("div"),c=K(),this.h()},l(u){e=D(u,"DIV",{class:!0});var h=S(e);t=D(h,"SPAN",{class:!0});var m=S(t);n=V(m,l),s=V(m,": "),o=V(m,i),m.forEach(_),f=L(h),r=D(h,"DIV",{class:!0}),S(r).forEach(_),c=L(h),h.forEach(_),this.h()},h(){w(t,"class","svelte-o8m547"),w(r,"class","chip-loader svelte-o8m547"),w(e,"class","chip chip-pending svelte-o8m547")},m(u,h){E(u,e,h),b(e,t),b(t,n),b(t,s),b(t,o),b(e,f),b(e,r),b(e,c)},p(u,h){h[0]&1&&l!==(l=de(u[41].topic)+"")&&U(n,l),h[0]&1&&i!==(i=de(u[41].label)+"")&&U(o,i)},d(u){u&&_(e)}}}function Ct(a){let e;function t(s,i){return s[5]=="loading"&&s[43]==s[0].length-1?Es:ws}let l=t(a),n=l(a);return{c(){n.c(),e=j()},l(s){n.l(s),e=j()},m(s,i){n.m(s,i),E(s,e,i)},p(s,i){l===(l=t(s))&&n?n.p(s,i):(n.d(1),n=l(s),n&&(n.c(),n.m(e.parentNode,e)))},d(s){n.d(s),s&&_(e)}}}function Nt(a){let e,t,l,n=a[5]=="failed"&&zt(),s=a[6]==!0&&At();return{c(){e=y("div"),t=T(`Some datasets not available for selected variables.
    `),n&&n.c(),l=K(),s&&s.c(),this.h()},l(i){e=D(i,"DIV",{class:!0});var o=S(e);t=V(o,`Some datasets not available for selected variables.
    `),n&&n.l(o),l=L(o),s&&s.l(o),o.forEach(_),this.h()},h(){w(e,"class","warning svelte-o8m547")},m(i,o){E(i,e,o),b(e,t),n&&n.m(e,null),b(e,l),s&&s.m(e,null)},p(i,o){i[5]=="failed"?n||(n=zt(),n.c(),n.m(e,l)):n&&(n.d(1),n=null),i[6]==!0?s||(s=At(),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(i){i&&_(e),n&&n.d(),s&&s.d()}}}function zt(a){let e;return{c(){e=T("Try removing a variable to see more datasets.")},l(t){e=V(t,"Try removing a variable to see more datasets.")},m(t,l){E(t,e,l)},d(t){t&&_(e)}}}function At(a){let e;return{c(){e=T("Economic indicators (employment, social status etc) not available for ages 0 to 15.")},l(t){e=V(t,"Economic indicators (employment, social status etc) not available for ages 0 to 15.")},m(t,l){E(t,e,l)},d(t){t&&_(e)}}}function ys(a){let e,t,l,n=(a[11][0]?a[0][0]?"Select another characteristic":"Select a characteristic":"No more topics available")+"",s,i,o,f,r,c,u,h=a[11],m=[];for(let d=0;d<h.length;d+=1)m[d]=yt(Et(a,h,d));let v=a[2]&&Dt(a),g=a[0][0]&&St(a),p=(a[5]=="failed"||a[6]==!0)&&Nt(a);return{c(){e=y("div"),t=y("select"),l=y("option"),s=T(n);for(let d=0;d<m.length;d+=1)m[d].c();o=K(),v&&v.c(),f=K(),g&&g.c(),r=K(),p&&p.c(),this.h()},l(d){e=D(d,"DIV",{slot:!0,class:!0});var k=S(e);t=D(k,"SELECT",{class:!0});var I=S(t);l=D(I,"OPTION",{});var A=S(l);s=V(A,n),A.forEach(_);for(let P=0;P<m.length;P+=1)m[P].l(I);I.forEach(_),o=L(k),v&&v.l(k),f=L(k),g&&g.l(k),r=L(k),p&&p.l(k),k.forEach(_),this.h()},h(){l.__value=null,l.value=l.__value,t.disabled=i=!a[11][0],w(t,"class","svelte-o8m547"),a[2]===void 0&&Oe(()=>a[23].call(t)),w(e,"slot","meta"),w(e,"class","wrapper")},m(d,k){E(d,e,k),b(e,t),b(t,l),b(l,s);for(let I=0;I<m.length;I+=1)m[I].m(t,null);qe(t,a[2]),b(e,o),v&&v.m(e,null),b(e,f),g&&g.m(e,null),b(e,r),p&&p.m(e,null),c||(u=Ae(t,"change",a[23]),c=!0)},p(d,k){if(k[0]&2049&&n!==(n=(d[11][0]?d[0][0]?"Select another characteristic":"Select a characteristic":"No more topics available")+"")&&U(s,n),k[0]&2048){h=d[11];let I;for(I=0;I<h.length;I+=1){const A=Et(d,h,I);m[I]?m[I].p(A,k):(m[I]=yt(A),m[I].c(),m[I].m(t,null))}for(;I<m.length;I+=1)m[I].d(1);m.length=h.length}k[0]&2048&&i!==(i=!d[11][0])&&(t.disabled=i),k[0]&2052&&qe(t,d[2]),d[2]?v?v.p(d,k):(v=Dt(d),v.c(),v.m(e,f)):v&&(v.d(1),v=null),d[0][0]?g?g.p(d,k):(g=St(d),g.c(),g.m(e,r)):g&&(g.d(1),g=null),d[5]=="failed"||d[6]==!0?p?p.p(d,k):(p=Nt(d),p.c(),p.m(e,null)):p&&(p.d(1),p=null)},d(d){d&&_(e),le(m,d),v&&v.d(),g&&g.d(),p&&p.d(),c=!1,u()}}}function Ds(a){let e,t=(Math.round(a[10].selected/a[10].all*100)>0?Math.round(a[10].selected/a[10].all*100):"<1")+"",l,n,s,i,o,f,r,c,u=a[10].selected.toLocaleString()+"",h,m,v=a[10].all.toLocaleString()+"",g,p;return{c(){e=y("div"),l=T(t),n=T("%"),s=K(),i=y("div"),o=T("of people in England and Wales"),f=K(),r=y("div"),c=y("mark"),h=T(u),m=T(" of "),g=T(v),p=T(" people"),this.h()},l(d){e=D(d,"DIV",{class:!0});var k=S(e);l=V(k,t),n=V(k,"%"),k.forEach(_),s=L(d),i=D(d,"DIV",{class:!0});var I=S(i);o=V(I,"of people in England and Wales"),I.forEach(_),f=L(d),r=D(d,"DIV",{class:!0});var A=S(r);c=D(A,"MARK",{class:!0});var P=S(c);h=V(P,u),P.forEach(_),m=V(A," of "),g=V(A,v),p=V(A," people"),A.forEach(_),this.h()},h(){w(e,"class","num-big svelte-o8m547"),w(i,"class","num-suffix svelte-o8m547"),w(c,"class","svelte-o8m547"),w(r,"class","num-desc svelte-o8m547")},m(d,k){E(d,e,k),b(e,l),b(e,n),E(d,s,k),E(d,i,k),b(i,o),E(d,f,k),E(d,r,k),b(r,c),b(c,h),b(r,m),b(r,g),b(r,p)},p(d,k){k[0]&1024&&t!==(t=(Math.round(d[10].selected/d[10].all*100)>0?Math.round(d[10].selected/d[10].all*100):"<1")+"")&&U(l,t),k[0]&1024&&u!==(u=d[10].selected.toLocaleString()+"")&&U(h,u),k[0]&1024&&v!==(v=d[10].all.toLocaleString()+"")&&U(g,v)},d(d){d&&_(e),d&&_(s),d&&_(i),d&&_(f),d&&_(r)}}}function Is(a){let e,t=me.nodata+"",l;return{c(){e=y("div"),l=T(t),this.h()},l(n){e=D(n,"DIV",{class:!0});var s=S(e);l=V(s,t),s.forEach(_),this.h()},h(){w(e,"class","num-desc svelte-o8m547")},m(n,s){E(n,e,s),b(e,l)},p:O,d(n){n&&_(e)}}}function Ss(a){let e;function t(s,i){return s[10].selected==0?Is:Ds}let l=t(a),n=l(a);return{c(){n.c(),e=j()},l(s){n.l(s),e=j()},m(s,i){n.m(s,i),E(s,e,i)},p(s,i){l===(l=t(s))&&n?n.p(s,i):(n.d(1),n=l(s),n&&(n.c(),n.m(e.parentNode,e)))},d(s){n.d(s),s&&_(e)}}}function Cs(a){let e,t=a[15](a[9].selected)+"",l,n,s,i,o,f,r=a[10].all!=a[10].selected&&Tt(a);return{c(){e=y("div"),l=T(t),n=K(),s=y("div"),i=T("years"),o=K(),r&&r.c(),f=j(),this.h()},l(c){e=D(c,"DIV",{class:!0});var u=S(e);l=V(u,t),u.forEach(_),n=L(c),s=D(c,"DIV",{class:!0});var h=S(s);i=V(h,"years"),h.forEach(_),o=L(c),r&&r.l(c),f=j(),this.h()},h(){w(e,"class","num-big svelte-o8m547"),w(s,"class","num-suffix svelte-o8m547")},m(c,u){E(c,e,u),b(e,l),E(c,n,u),E(c,s,u),b(s,i),E(c,o,u),r&&r.m(c,u),E(c,f,u)},p(c,u){u[0]&512&&t!==(t=c[15](c[9].selected)+"")&&U(l,t),c[10].all!=c[10].selected?r?r.p(c,u):(r=Tt(c),r.c(),r.m(f.parentNode,f)):r&&(r.d(1),r=null)},d(c){c&&_(e),c&&_(n),c&&_(s),c&&_(o),r&&r.d(c),c&&_(f)}}}function Ns(a){let e,t=me.nodata+"",l;return{c(){e=y("div"),l=T(t),this.h()},l(n){e=D(n,"DIV",{class:!0});var s=S(e);l=V(s,t),s.forEach(_),this.h()},h(){w(e,"class","num-desc svelte-o8m547")},m(n,s){E(n,e,s),b(e,l)},p:O,d(n){n&&_(e)}}}function Tt(a){let e,t,l=a[15](a[9].all)+"",n,s,i;return{c(){e=y("div"),t=y("mark"),n=T(l),s=T(" years"),i=T(" for whole population"),this.h()},l(o){e=D(o,"DIV",{class:!0});var f=S(e);t=D(f,"MARK",{class:!0});var r=S(t);n=V(r,l),s=V(r," years"),r.forEach(_),i=V(f," for whole population"),f.forEach(_),this.h()},h(){w(t,"class","svelte-o8m547"),w(e,"class","num-desc svelte-o8m547")},m(o,f){E(o,e,f),b(e,t),b(t,n),b(t,s),b(e,i)},p(o,f){f[0]&512&&l!==(l=o[15](o[9].all)+"")&&U(n,l)},d(o){o&&_(e)}}}function zs(a){let e,t;function l(i,o){return o[0]&512&&(e=null),e==null&&(e=!!pe(i[9].selected.residents.age.values)),e?Ns:Cs}let n=l(a,[-1,-1]),s=n(a);return{c(){s.c(),t=j()},l(i){s.l(i),t=j()},m(i,o){s.m(i,o),E(i,t,o)},p(i,o){n===(n=l(i,o))&&s?s.p(i,o):(s.d(1),s=n(i),s&&(s.c(),s.m(t.parentNode,t)))},d(i){s.d(i),i&&_(t)}}}function As(a){let e,t;return e=new qn({props:{data:a[9].selected&&a[14](["residents","age"])}}),{c(){F(e.$$.fragment)},l(l){Z(e.$$.fragment,l)},m(l,n){W(e,l,n),t=!0},p(l,n){const s={};n[0]&512&&(s.data=l[9].selected&&l[14](["residents","age"])),e.$set(s)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){G(e,l)}}}function Ts(a){let e,t=me.nodata+"",l;return{c(){e=y("span"),l=T(t),this.h()},l(n){e=D(n,"SPAN",{class:!0});var s=S(e);l=V(s,t),s.forEach(_),this.h()},h(){w(e,"class","num-desc svelte-o8m547")},m(n,s){E(n,e,s),b(e,l)},p:O,i:O,o:O,d(n){n&&_(e)}}}function Vs(a){let e,t,l,n,s;const i=[Ts,As],o=[];function f(r,c){return c[0]&512&&(e=null),e==null&&(e=!!pe(r[9].selected.residents.age.values)),e?0:1}return t=f(a,[-1,-1]),l=o[t]=i[t](a),{c(){l.c(),n=j()},l(r){l.l(r),n=j()},m(r,c){o[t].m(r,c),E(r,n,c),s=!0},p(r,c){let u=t;t=f(r,c),t===u?o[t].p(r,c):(Q(),N(o[u],1,1,()=>{o[u]=null}),X(),l=o[t],l?l.p(r,c):(l=o[t]=i[t](r),l.c()),C(l,1),l.m(n.parentNode,n))},i(r){s||(C(l),s=!0)},o(r){N(l),s=!1},d(r){o[t].d(r),r&&_(n)}}}function Ps(a){let e,t,l,n,s,i;return e=new ue({props:{title:"Population",$$slots:{default:[Ss]},$$scope:{ctx:a}}}),l=new ue({props:{title:"Average (median) age",$$slots:{default:[zs]},$$scope:{ctx:a}}}),s=new ue({props:{title:"Age profile",$$slots:{default:[Vs]},$$scope:{ctx:a}}}),{c(){F(e.$$.fragment),t=K(),F(l.$$.fragment),n=K(),F(s.$$.fragment)},l(o){Z(e.$$.fragment,o),t=L(o),Z(l.$$.fragment,o),n=L(o),Z(s.$$.fragment,o)},m(o,f){W(e,o,f),E(o,t,f),W(l,o,f),E(o,n,f),W(s,o,f),i=!0},p(o,f){const r={};f[0]&1024|f[1]&262144&&(r.$$scope={dirty:f,ctx:o}),e.$set(r);const c={};f[0]&1536|f[1]&262144&&(c.$$scope={dirty:f,ctx:o}),l.$set(c);const u={};f[0]&512|f[1]&262144&&(u.$$scope={dirty:f,ctx:o}),s.$set(u)},i(o){i||(C(e.$$.fragment,o),C(l.$$.fragment,o),C(s.$$.fragment,o),i=!0)},o(o){N(e.$$.fragment,o),N(l.$$.fragment,o),N(s.$$.fragment,o),i=!1},d(o){G(e,o),o&&_(t),G(l,o),o&&_(n),G(s,o)}}}function Vt(a){let e,t;return e=new rs({props:{id:"lad",type:"geojson",data:a[9].geojson,promoteId:Le.code,$$slots:{default:[Ks]},$$scope:{ctx:a}}}),{c(){F(e.$$.fragment)},l(l){Z(e.$$.fragment,l)},m(l,n){W(e,l,n),t=!0},p(l,n){const s={};n[0]&512&&(s.data=l[9].geojson),n[0]&528|n[1]&262144&&(s.$$scope={dirty:n,ctx:l}),e.$set(s)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){G(e,l)}}}function Ks(a){let e,t,l,n,s;function i(f){a[28](f)}let o={id:"lad-fill",data:a[9].geoPerc,geoCode:"code",nameCode:"name",colorCode:"color",valueCode:"value",hover:!0,tooltip:!0,type:"fill",paint:{"fill-color":["case",["!=",["feature-state","color"],null],["feature-state","color"],"rgba(255, 255, 255, 0)"],"fill-opacity":.8},order:"highway_name_other"};return a[4]!==void 0&&(o.hovered=a[4]),e=new ht({props:o}),We.push(()=>ll(e,"hovered",i)),n=new ht({props:{id:"lad-line",type:"line",paint:{"line-color":"orange","line-width":2,"line-opacity":["case",["==",["feature-state","hovered"],!0],1,0]},order:"highway_name_other"}}),{c(){F(e.$$.fragment),l=K(),F(n.$$.fragment)},l(f){Z(e.$$.fragment,f),l=L(f),Z(n.$$.fragment,f)},m(f,r){W(e,f,r),E(f,l,r),W(n,f,r),s=!0},p(f,r){const c={};r[0]&512&&(c.data=f[9].geoPerc),!t&&r[0]&16&&(t=!0,c.hovered=f[4],tl(()=>t=!1)),e.$set(c)},i(f){s||(C(e.$$.fragment,f),C(n.$$.fragment,f),s=!0)},o(f){N(e.$$.fragment,f),N(n.$$.fragment,f),s=!1},d(f){G(e,f),f&&_(l),G(n,f)}}}function Ls(a){let e,t,l=a[9].geojson&&a[9].geoPerc&&Vt(a);return{c(){l&&l.c(),e=j()},l(n){l&&l.l(n),e=j()},m(n,s){l&&l.m(n,s),E(n,e,s),t=!0},p(n,s){n[9].geojson&&n[9].geoPerc?l?(l.p(n,s),s[0]&512&&C(l,1)):(l=Vt(n),l.c(),C(l,1),l.m(e.parentNode,e)):l&&(Q(),N(l,1,1,()=>{l=null}),X())},i(n){t||(C(l),t=!0)},o(n){N(l),t=!1},d(n){l&&l.d(n),n&&_(e)}}}function Pt(a){let e,t,l;return t=new Gn({props:{breaks:a[9].geoBreaks,hovered:a[4]&&a[9].geoPerc.find(a[30])?a[9].geoPerc.find(a[31]).value:null,colors:a[9].geoBreaks[1]==100?[Se.seq[4]]:Se.seq}}),{c(){e=y("div"),F(t.$$.fragment),this.h()},l(n){e=D(n,"DIV",{});var s=S(e);Z(t.$$.fragment,s),s.forEach(_),this.h()},h(){z(e,"height","38px",!1),z(e,"width","100%",!1)},m(n,s){E(n,e,s),W(t,e,null),l=!0},p(n,s){const i={};s[0]&512&&(i.breaks=n[9].geoBreaks),s[0]&528&&(i.hovered=n[4]&&n[9].geoPerc.find(n[30])?n[9].geoPerc.find(n[31]).value:null),s[0]&512&&(i.colors=n[9].geoBreaks[1]==100?[Se.seq[4]]:Se.seq),t.$set(i)},i(n){l||(C(t.$$.fragment,n),l=!0)},o(n){N(t.$$.fragment,n),l=!1},d(n){n&&_(e),G(t)}}}function Ms(a){let e,t,l,n,s,i;function o(c){a[29](c)}let f={style:tn,$$slots:{default:[Ls]},$$scope:{ctx:a}};a[1]!==void 0&&(f.map=a[1]),t=new as({props:f}),We.push(()=>ll(t,"map",o));let r=a[9].geoBreaks&&a[9].geoPerc&&Pt(a);return{c(){e=y("div"),F(t.$$.fragment),n=K(),r&&r.c(),s=j(),this.h()},l(c){e=D(c,"DIV",{});var u=S(e);Z(t.$$.fragment,u),u.forEach(_),n=L(c),r&&r.l(c),s=j(),this.h()},h(){z(e,"height","450px",!1)},m(c,u){E(c,e,u),W(t,e,null),E(c,n,u),r&&r.m(c,u),E(c,s,u),i=!0},p(c,u){const h={};u[0]&528|u[1]&262144&&(h.$$scope={dirty:u,ctx:c}),!l&&u[0]&2&&(l=!0,h.map=c[1],tl(()=>l=!1)),t.$set(h),c[9].geoBreaks&&c[9].geoPerc?r?(r.p(c,u),u[0]&512&&C(r,1)):(r=Pt(c),r.c(),C(r,1),r.m(s.parentNode,s)):r&&(Q(),N(r,1,1,()=>{r=null}),X())},i(c){i||(C(t.$$.fragment,c),C(r),i=!0)},o(c){N(t.$$.fragment,c),N(r),i=!1},d(c){c&&_(e),G(t),c&&_(n),r&&r.d(c),c&&_(s)}}}function js(a){let e,t;return{c(){e=y("span"),t=T("Make a selection to see rankings."),this.h()},l(l){e=D(l,"SPAN",{class:!0});var n=S(e);t=V(n,"Make a selection to see rankings."),n.forEach(_),this.h()},h(){w(e,"class","muted svelte-o8m547")},m(l,n){E(l,e,n),b(e,t)},p:O,i:O,o:O,d(l){l&&_(e)}}}function Bs(a){let e,t;return e=new ct({props:{data:[...a[9].geoPerc].sort(Kt).slice(0,5)}}),{c(){F(e.$$.fragment)},l(l){Z(e.$$.fragment,l)},m(l,n){W(e,l,n),t=!0},p(l,n){const s={};n[0]&512&&(s.data=[...l[9].geoPerc].sort(Kt).slice(0,5)),e.$set(s)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){G(e,l)}}}function Os(a){let e,t,l,n;const s=[Bs,js],i=[];function o(f,r){return f[9].geoPerc&&f[0][0]?0:1}return e=o(a),t=i[e]=s[e](a),{c(){t.c(),l=j()},l(f){t.l(f),l=j()},m(f,r){i[e].m(f,r),E(f,l,r),n=!0},p(f,r){let c=e;e=o(f),e===c?i[e].p(f,r):(Q(),N(i[c],1,1,()=>{i[c]=null}),X(),t=i[e],t?t.p(f,r):(t=i[e]=s[e](f),t.c()),C(t,1),t.m(l.parentNode,l))},i(f){n||(C(t),n=!0)},o(f){N(t),n=!1},d(f){i[e].d(f),f&&_(l)}}}function Hs(a){let e,t;return{c(){e=y("span"),t=T("Make a selection to see rankings."),this.h()},l(l){e=D(l,"SPAN",{class:!0});var n=S(e);t=V(n,"Make a selection to see rankings."),n.forEach(_),this.h()},h(){w(e,"class","muted svelte-o8m547")},m(l,n){E(l,e,n),b(e,t)},p:O,i:O,o:O,d(l){l&&_(e)}}}function qs(a){let e,t;return e=new ct({props:{data:a[9].geoPerc.filter(Lt).sort(Mt).slice(-5),offset:a[9].geoPerc.filter(jt).length-4}}),{c(){F(e.$$.fragment)},l(l){Z(e.$$.fragment,l)},m(l,n){W(e,l,n),t=!0},p(l,n){const s={};n[0]&512&&(s.data=l[9].geoPerc.filter(Lt).sort(Mt).slice(-5)),n[0]&512&&(s.offset=l[9].geoPerc.filter(jt).length-4),e.$set(s)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){G(e,l)}}}function Fs(a){let e,t,l,n;const s=[qs,Hs],i=[];function o(f,r){return f[9].geoPerc&&f[0][0]?0:1}return e=o(a),t=i[e]=s[e](a),{c(){t.c(),l=j()},l(f){t.l(f),l=j()},m(f,r){i[e].m(f,r),E(f,l,r),n=!0},p(f,r){let c=e;e=o(f),e===c?i[e].p(f,r):(Q(),N(i[c],1,1,()=>{i[c]=null}),X(),t=i[e],t?t.p(f,r):(t=i[e]=s[e](f),t.c()),C(t,1),t.m(l.parentNode,l))},i(f){n||(C(t),n=!0)},o(f){N(t),n=!1},d(f){i[e].d(f),f&&_(l)}}}function Ws(a){let e,t,l,n,s,i;return e=new ue({props:{colspan:2,rowspan:2,blank:!0,$$slots:{default:[Ms]},$$scope:{ctx:a}}}),l=new ue({props:{title:"Areas with highest %",$$slots:{default:[Os]},$$scope:{ctx:a}}}),s=new ue({props:{title:"Areas with lowest %",$$slots:{default:[Fs]},$$scope:{ctx:a}}}),{c(){F(e.$$.fragment),t=K(),F(l.$$.fragment),n=K(),F(s.$$.fragment)},l(o){Z(e.$$.fragment,o),t=L(o),Z(l.$$.fragment,o),n=L(o),Z(s.$$.fragment,o)},m(o,f){W(e,o,f),E(o,t,f),W(l,o,f),E(o,n,f),W(s,o,f),i=!0},p(o,f){const r={};f[0]&530|f[1]&262144&&(r.$$scope={dirty:f,ctx:o}),e.$set(r);const c={};f[0]&513|f[1]&262144&&(c.$$scope={dirty:f,ctx:o}),l.$set(c);const u={};f[0]&513|f[1]&262144&&(u.$$scope={dirty:f,ctx:o}),s.$set(u)},i(o){i||(C(e.$$.fragment,o),C(l.$$.fragment,o),C(s.$$.fragment,o),i=!0)},o(o){N(e.$$.fragment,o),N(l.$$.fragment,o),N(s.$$.fragment,o),i=!1},d(o){G(e,o),o&&_(t),G(l,o),o&&_(n),G(s,o)}}}function Gs(a){let e,t,l;var n=a[8];function s(i){return{props:{data:i[9].selected&&i[14](["residents","health"])}}}return n&&(e=new n(s(a))),{c(){e&&F(e.$$.fragment),t=j()},l(i){e&&Z(e.$$.fragment,i),t=j()},m(i,o){e&&W(e,i,o),E(i,t,o),l=!0},p(i,o){const f={};if(o[0]&512&&(f.data=i[9].selected&&i[14](["residents","health"])),n!==(n=i[8])){if(e){Q();const r=e;N(r.$$.fragment,1,0,()=>{G(r,1)}),X()}n?(e=new n(s(i)),F(e.$$.fragment),C(e.$$.fragment,1),W(e,t.parentNode,t)):e=null}else n&&e.$set(f)},i(i){l||(e&&C(e.$$.fragment,i),l=!0)},o(i){e&&N(e.$$.fragment,i),l=!1},d(i){i&&_(t),e&&G(e,i)}}}function Us(a){let e,t=me.nodata+"",l;return{c(){e=y("span"),l=T(t),this.h()},l(n){e=D(n,"SPAN",{class:!0});var s=S(e);l=V(s,t),s.forEach(_),this.h()},h(){w(e,"class","num-desc svelte-o8m547")},m(n,s){E(n,e,s),b(e,l)},p:O,i:O,o:O,d(n){n&&_(e)}}}function Rs(a){let e,t,l,n,s;const i=[Us,Gs],o=[];function f(r,c){return c[0]&512&&(e=null),e==null&&(e=!!pe(r[9].selected.residents.health.values)),e?0:1}return t=f(a,[-1,-1]),l=o[t]=i[t](a),{c(){l.c(),n=j()},l(r){l.l(r),n=j()},m(r,c){o[t].m(r,c),E(r,n,c),s=!0},p(r,c){let u=t;t=f(r,c),t===u?o[t].p(r,c):(Q(),N(o[u],1,1,()=>{o[u]=null}),X(),l=o[t],l?l.p(r,c):(l=o[t]=i[t](r),l.c()),C(l,1),l.m(n.parentNode,n))},i(r){s||(C(l),s=!0)},o(r){N(l),s=!1},d(r){o[t].d(r),r&&_(n)}}}function Zs(a){let e,t,l;var n=a[8];function s(i){return{props:{data:i[9].selected&&i[14](["residents","marital"])}}}return n&&(e=new n(s(a))),{c(){e&&F(e.$$.fragment),t=j()},l(i){e&&Z(e.$$.fragment,i),t=j()},m(i,o){e&&W(e,i,o),E(i,t,o),l=!0},p(i,o){const f={};if(o[0]&512&&(f.data=i[9].selected&&i[14](["residents","marital"])),n!==(n=i[8])){if(e){Q();const r=e;N(r.$$.fragment,1,0,()=>{G(r,1)}),X()}n?(e=new n(s(i)),F(e.$$.fragment),C(e.$$.fragment,1),W(e,t.parentNode,t)):e=null}else n&&e.$set(f)},i(i){l||(e&&C(e.$$.fragment,i),l=!0)},o(i){e&&N(e.$$.fragment,i),l=!1},d(i){i&&_(t),e&&G(e,i)}}}function Js(a){let e,t=me.nodata+"",l;return{c(){e=y("span"),l=T(t),this.h()},l(n){e=D(n,"SPAN",{class:!0});var s=S(e);l=V(s,t),s.forEach(_),this.h()},h(){w(e,"class","num-desc svelte-o8m547")},m(n,s){E(n,e,s),b(e,l)},p:O,i:O,o:O,d(n){n&&_(e)}}}function Ys(a){let e,t,l,n,s;const i=[Js,Zs],o=[];function f(r,c){return c[0]&512&&(e=null),e==null&&(e=!!pe(r[9].selected.residents.marital.values)),e?0:1}return t=f(a,[-1,-1]),l=o[t]=i[t](a),{c(){l.c(),n=j()},l(r){l.l(r),n=j()},m(r,c){o[t].m(r,c),E(r,n,c),s=!0},p(r,c){let u=t;t=f(r,c),t===u?o[t].p(r,c):(Q(),N(o[u],1,1,()=>{o[u]=null}),X(),l=o[t],l?l.p(r,c):(l=o[t]=i[t](r),l.c()),C(l,1),l.m(n.parentNode,n))},i(r){s||(C(l),s=!0)},o(r){N(l),s=!1},d(r){o[t].d(r),r&&_(n)}}}function Qs(a){let e,t,l;var n=a[8];function s(i){return{props:{data:i[9].selected&&i[14](["residents","grade"])}}}return n&&(e=new n(s(a))),{c(){e&&F(e.$$.fragment),t=j()},l(i){e&&Z(e.$$.fragment,i),t=j()},m(i,o){e&&W(e,i,o),E(i,t,o),l=!0},p(i,o){const f={};if(o[0]&512&&(f.data=i[9].selected&&i[14](["residents","grade"])),n!==(n=i[8])){if(e){Q();const r=e;N(r.$$.fragment,1,0,()=>{G(r,1)}),X()}n?(e=new n(s(i)),F(e.$$.fragment),C(e.$$.fragment,1),W(e,t.parentNode,t)):e=null}else n&&e.$set(f)},i(i){l||(e&&C(e.$$.fragment,i),l=!0)},o(i){e&&N(e.$$.fragment,i),l=!1},d(i){i&&_(t),e&&G(e,i)}}}function Xs(a){let e,t=me.nodata+"",l;return{c(){e=y("span"),l=T(t),this.h()},l(n){e=D(n,"SPAN",{class:!0});var s=S(e);l=V(s,t),s.forEach(_),this.h()},h(){w(e,"class","num-desc svelte-o8m547")},m(n,s){E(n,e,s),b(e,l)},p:O,i:O,o:O,d(n){n&&_(e)}}}function $s(a){let e,t,l,n,s;const i=[Xs,Qs],o=[];function f(r,c){return c[0]&512&&(e=null),e==null&&(e=!!pe(r[9].selected.residents.grade.values)),e?0:1}return t=f(a,[-1,-1]),l=o[t]=i[t](a),{c(){l.c(),n=j()},l(r){l.l(r),n=j()},m(r,c){o[t].m(r,c),E(r,n,c),s=!0},p(r,c){let u=t;t=f(r,c),t===u?o[t].p(r,c):(Q(),N(o[u],1,1,()=>{o[u]=null}),X(),l=o[t],l?l.p(r,c):(l=o[t]=i[t](r),l.c()),C(l,1),l.m(n.parentNode,n))},i(r){s||(C(l),s=!0)},o(r){N(l),s=!1},d(r){o[t].d(r),r&&_(n)}}}function xs(a){let e,t,l;var n=a[8];function s(i){return{props:{data:i[9].selected&&i[14](["residents","economic"])}}}return n&&(e=new n(s(a))),{c(){e&&F(e.$$.fragment),t=j()},l(i){e&&Z(e.$$.fragment,i),t=j()},m(i,o){e&&W(e,i,o),E(i,t,o),l=!0},p(i,o){const f={};if(o[0]&512&&(f.data=i[9].selected&&i[14](["residents","economic"])),n!==(n=i[8])){if(e){Q();const r=e;N(r.$$.fragment,1,0,()=>{G(r,1)}),X()}n?(e=new n(s(i)),F(e.$$.fragment),C(e.$$.fragment,1),W(e,t.parentNode,t)):e=null}else n&&e.$set(f)},i(i){l||(e&&C(e.$$.fragment,i),l=!0)},o(i){e&&N(e.$$.fragment,i),l=!1},d(i){i&&_(t),e&&G(e,i)}}}function ei(a){let e,t=me.nodata+"",l;return{c(){e=y("span"),l=T(t),this.h()},l(n){e=D(n,"SPAN",{class:!0});var s=S(e);l=V(s,t),s.forEach(_),this.h()},h(){w(e,"class","num-desc svelte-o8m547")},m(n,s){E(n,e,s),b(e,l)},p:O,i:O,o:O,d(n){n&&_(e)}}}function li(a){let e,t,l,n,s;const i=[ei,xs],o=[];function f(r,c){return c[0]&512&&(e=null),e==null&&(e=!!pe(r[9].selected.residents.economic.values)),e?0:1}return t=f(a,[-1,-1]),l=o[t]=i[t](a),{c(){l.c(),n=j()},l(r){l.l(r),n=j()},m(r,c){o[t].m(r,c),E(r,n,c),s=!0},p(r,c){let u=t;t=f(r,c),t===u?o[t].p(r,c):(Q(),N(o[u],1,1,()=>{o[u]=null}),X(),l=o[t],l?l.p(r,c):(l=o[t]=i[t](r),l.c()),C(l,1),l.m(n.parentNode,n))},i(r){s||(C(l),s=!0)},o(r){N(l),s=!1},d(r){o[t].d(r),r&&_(n)}}}function ti(a){let e,t,l;var n=a[8];function s(i){return{props:{data:i[9].selected&&i[14](["residents","distance"])}}}return n&&(e=new n(s(a))),{c(){e&&F(e.$$.fragment),t=j()},l(i){e&&Z(e.$$.fragment,i),t=j()},m(i,o){e&&W(e,i,o),E(i,t,o),l=!0},p(i,o){const f={};if(o[0]&512&&(f.data=i[9].selected&&i[14](["residents","distance"])),n!==(n=i[8])){if(e){Q();const r=e;N(r.$$.fragment,1,0,()=>{G(r,1)}),X()}n?(e=new n(s(i)),F(e.$$.fragment),C(e.$$.fragment,1),W(e,t.parentNode,t)):e=null}else n&&e.$set(f)},i(i){l||(e&&C(e.$$.fragment,i),l=!0)},o(i){e&&N(e.$$.fragment,i),l=!1},d(i){i&&_(t),e&&G(e,i)}}}function ni(a){let e,t=me.nodata+"",l;return{c(){e=y("span"),l=T(t),this.h()},l(n){e=D(n,"SPAN",{class:!0});var s=S(e);l=V(s,t),s.forEach(_),this.h()},h(){w(e,"class","num-desc svelte-o8m547")},m(n,s){E(n,e,s),b(e,l)},p:O,i:O,o:O,d(n){n&&_(e)}}}function si(a){let e,t,l,n,s;const i=[ni,ti],o=[];function f(r,c){return c[0]&512&&(e=null),e==null&&(e=!!pe(r[9].selected.residents.distance.values)),e?0:1}return t=f(a,[-1,-1]),l=o[t]=i[t](a),{c(){l.c(),n=j()},l(r){l.l(r),n=j()},m(r,c){o[t].m(r,c),E(r,n,c),s=!0},p(r,c){let u=t;t=f(r,c),t===u?o[t].p(r,c):(Q(),N(o[u],1,1,()=>{o[u]=null}),X(),l=o[t],l?l.p(r,c):(l=o[t]=i[t](r),l.c()),C(l,1),l.m(n.parentNode,n))},i(r){s||(C(l),s=!0)},o(r){N(l),s=!1},d(r){o[t].d(r),r&&_(n)}}}function ii(a){let e,t,l;var n=a[8];function s(i){return{props:{data:i[9].selected&&i[14](["residents","travel"])}}}return n&&(e=new n(s(a))),{c(){e&&F(e.$$.fragment),t=j()},l(i){e&&Z(e.$$.fragment,i),t=j()},m(i,o){e&&W(e,i,o),E(i,t,o),l=!0},p(i,o){const f={};if(o[0]&512&&(f.data=i[9].selected&&i[14](["residents","travel"])),n!==(n=i[8])){if(e){Q();const r=e;N(r.$$.fragment,1,0,()=>{G(r,1)}),X()}n?(e=new n(s(i)),F(e.$$.fragment),C(e.$$.fragment,1),W(e,t.parentNode,t)):e=null}else n&&e.$set(f)},i(i){l||(e&&C(e.$$.fragment,i),l=!0)},o(i){e&&N(e.$$.fragment,i),l=!1},d(i){i&&_(t),e&&G(e,i)}}}function ai(a){let e,t=me.nodata+"",l;return{c(){e=y("span"),l=T(t),this.h()},l(n){e=D(n,"SPAN",{class:!0});var s=S(e);l=V(s,t),s.forEach(_),this.h()},h(){w(e,"class","num-desc svelte-o8m547")},m(n,s){E(n,e,s),b(e,l)},p:O,i:O,o:O,d(n){n&&_(e)}}}function oi(a){let e,t,l,n,s;const i=[ai,ii],o=[];function f(r,c){return c[0]&512&&(e=null),e==null&&(e=!!pe(r[9].selected.residents.travel.values)),e?0:1}return t=f(a,[-1,-1]),l=o[t]=i[t](a),{c(){l.c(),n=j()},l(r){l.l(r),n=j()},m(r,c){o[t].m(r,c),E(r,n,c),s=!0},p(r,c){let u=t;t=f(r,c),t===u?o[t].p(r,c):(Q(),N(o[u],1,1,()=>{o[u]=null}),X(),l=o[t],l?l.p(r,c):(l=o[t]=i[t](r),l.c()),C(l,1),l.m(n.parentNode,n))},i(r){s||(C(l),s=!0)},o(r){N(l),s=!1},d(r){o[t].d(r),r&&_(n)}}}function fi(a){let e,t,l;var n=a[8];function s(i){return{props:{data:i[9].selected&&i[14](["households","housing"])}}}return n&&(e=new n(s(a))),{c(){e&&F(e.$$.fragment),t=j()},l(i){e&&Z(e.$$.fragment,i),t=j()},m(i,o){e&&W(e,i,o),E(i,t,o),l=!0},p(i,o){const f={};if(o[0]&512&&(f.data=i[9].selected&&i[14](["households","housing"])),n!==(n=i[8])){if(e){Q();const r=e;N(r.$$.fragment,1,0,()=>{G(r,1)}),X()}n?(e=new n(s(i)),F(e.$$.fragment),C(e.$$.fragment,1),W(e,t.parentNode,t)):e=null}else n&&e.$set(f)},i(i){l||(e&&C(e.$$.fragment,i),l=!0)},o(i){e&&N(e.$$.fragment,i),l=!1},d(i){i&&_(t),e&&G(e,i)}}}function ri(a){let e,t=me.nodata+"",l;return{c(){e=y("span"),l=T(t),this.h()},l(n){e=D(n,"SPAN",{class:!0});var s=S(e);l=V(s,t),s.forEach(_),this.h()},h(){w(e,"class","num-desc svelte-o8m547")},m(n,s){E(n,e,s),b(e,l)},p:O,i:O,o:O,d(n){n&&_(e)}}}function ci(a){let e,t,l,n,s;const i=[ri,fi],o=[];function f(r,c){return c[0]&512&&(e=null),e==null&&(e=!!pe(r[9].selected.households.housing.values)),e?0:1}return t=f(a,[-1,-1]),l=o[t]=i[t](a),{c(){l.c(),n=j()},l(r){l.l(r),n=j()},m(r,c){o[t].m(r,c),E(r,n,c),s=!0},p(r,c){let u=t;t=f(r,c),t===u?o[t].p(r,c):(Q(),N(o[u],1,1,()=>{o[u]=null}),X(),l=o[t],l?l.p(r,c):(l=o[t]=i[t](r),l.c()),C(l,1),l.m(n.parentNode,n))},i(r){s||(C(l),s=!0)},o(r){N(l),s=!1},d(r){o[t].d(r),r&&_(n)}}}function ui(a){let e,t,l;var n=a[8];function s(i){return{props:{data:i[9].selected&&i[14](["households","tenure"])}}}return n&&(e=new n(s(a))),{c(){e&&F(e.$$.fragment),t=j()},l(i){e&&Z(e.$$.fragment,i),t=j()},m(i,o){e&&W(e,i,o),E(i,t,o),l=!0},p(i,o){const f={};if(o[0]&512&&(f.data=i[9].selected&&i[14](["households","tenure"])),n!==(n=i[8])){if(e){Q();const r=e;N(r.$$.fragment,1,0,()=>{G(r,1)}),X()}n?(e=new n(s(i)),F(e.$$.fragment),C(e.$$.fragment,1),W(e,t.parentNode,t)):e=null}else n&&e.$set(f)},i(i){l||(e&&C(e.$$.fragment,i),l=!0)},o(i){e&&N(e.$$.fragment,i),l=!1},d(i){i&&_(t),e&&G(e,i)}}}function _i(a){let e,t=me.nodata+"",l;return{c(){e=y("span"),l=T(t),this.h()},l(n){e=D(n,"SPAN",{class:!0});var s=S(e);l=V(s,t),s.forEach(_),this.h()},h(){w(e,"class","num-desc svelte-o8m547")},m(n,s){E(n,e,s),b(e,l)},p:O,i:O,o:O,d(n){n&&_(e)}}}function hi(a){let e,t,l,n,s;const i=[_i,ui],o=[];function f(r,c){return c[0]&512&&(e=null),e==null&&(e=!!pe(r[9].selected.households.tenure.values)),e?0:1}return t=f(a,[-1,-1]),l=o[t]=i[t](a),{c(){l.c(),n=j()},l(r){l.l(r),n=j()},m(r,c){o[t].m(r,c),E(r,n,c),s=!0},p(r,c){let u=t;t=f(r,c),t===u?o[t].p(r,c):(Q(),N(o[u],1,1,()=>{o[u]=null}),X(),l=o[t],l?l.p(r,c):(l=o[t]=i[t](r),l.c()),C(l,1),l.m(n.parentNode,n))},i(r){s||(C(l),s=!0)},o(r){N(l),s=!1},d(r){o[t].d(r),r&&_(n)}}}function di(a){let e,t,l,n,s,i,o,f,r,c,u,h,m,v,g,p;return e=new ue({props:{title:"General health",$$slots:{default:[Rs]},$$scope:{ctx:a}}}),l=new ue({props:{title:"Marital status",$$slots:{default:[Ys]},$$scope:{ctx:a}}}),s=new ue({props:{title:"Social grade",$$slots:{default:[$s]},$$scope:{ctx:a}}}),o=new ue({props:{title:"Economic activity",$$slots:{default:[li]},$$scope:{ctx:a}}}),r=new ue({props:{title:"Distance to work (km)",$$slots:{default:[si]},$$scope:{ctx:a}}}),u=new ue({props:{title:"Mode of travel to work",$$slots:{default:[oi]},$$scope:{ctx:a}}}),m=new ue({props:{title:"Type of housing",$$slots:{default:[ci]},$$scope:{ctx:a}}}),g=new ue({props:{title:"Tenure of housing",$$slots:{default:[hi]},$$scope:{ctx:a}}}),{c(){F(e.$$.fragment),t=K(),F(l.$$.fragment),n=K(),F(s.$$.fragment),i=K(),F(o.$$.fragment),f=K(),F(r.$$.fragment),c=K(),F(u.$$.fragment),h=K(),F(m.$$.fragment),v=K(),F(g.$$.fragment)},l(d){Z(e.$$.fragment,d),t=L(d),Z(l.$$.fragment,d),n=L(d),Z(s.$$.fragment,d),i=L(d),Z(o.$$.fragment,d),f=L(d),Z(r.$$.fragment,d),c=L(d),Z(u.$$.fragment,d),h=L(d),Z(m.$$.fragment,d),v=L(d),Z(g.$$.fragment,d)},m(d,k){W(e,d,k),E(d,t,k),W(l,d,k),E(d,n,k),W(s,d,k),E(d,i,k),W(o,d,k),E(d,f,k),W(r,d,k),E(d,c,k),W(u,d,k),E(d,h,k),W(m,d,k),E(d,v,k),W(g,d,k),p=!0},p(d,k){const I={};k[0]&768|k[1]&262144&&(I.$$scope={dirty:k,ctx:d}),e.$set(I);const A={};k[0]&768|k[1]&262144&&(A.$$scope={dirty:k,ctx:d}),l.$set(A);const P={};k[0]&768|k[1]&262144&&(P.$$scope={dirty:k,ctx:d}),s.$set(P);const R={};k[0]&768|k[1]&262144&&(R.$$scope={dirty:k,ctx:d}),o.$set(R);const M={};k[0]&768|k[1]&262144&&(M.$$scope={dirty:k,ctx:d}),r.$set(M);const J={};k[0]&768|k[1]&262144&&(J.$$scope={dirty:k,ctx:d}),u.$set(J);const H={};k[0]&768|k[1]&262144&&(H.$$scope={dirty:k,ctx:d}),m.$set(H);const Y={};k[0]&768|k[1]&262144&&(Y.$$scope={dirty:k,ctx:d}),g.$set(Y)},i(d){p||(C(e.$$.fragment,d),C(l.$$.fragment,d),C(s.$$.fragment,d),C(o.$$.fragment,d),C(r.$$.fragment,d),C(u.$$.fragment,d),C(m.$$.fragment,d),C(g.$$.fragment,d),p=!0)},o(d){N(e.$$.fragment,d),N(l.$$.fragment,d),N(s.$$.fragment,d),N(o.$$.fragment,d),N(r.$$.fragment,d),N(u.$$.fragment,d),N(m.$$.fragment,d),N(g.$$.fragment,d),p=!1},d(d){G(e,d),d&&_(t),G(l,d),d&&_(n),G(s,d),d&&_(i),G(o,d),d&&_(f),G(r,d),d&&_(c),G(u,d),d&&_(h),G(m,d),d&&_(v),G(g,d)}}}function mi(a){let e,t,l,n,s,i,o,f,r,c,u,h,m,v,g,p,d;return{c(){e=y("span"),t=y("strong"),l=T("Chart type:"),n=K(),s=y("label"),i=y("input"),o=T("Comparison marker"),f=K(),r=y("label"),c=y("input"),u=T("Grouped bar"),h=K(),m=y("label"),v=y("input"),g=T("Stacked bar"),this.h()},l(k){e=D(k,"SPAN",{slot:!0});var I=S(e);t=D(I,"STRONG",{});var A=S(t);l=V(A,"Chart type:"),A.forEach(_),n=L(I),s=D(I,"LABEL",{});var P=S(s);i=D(P,"INPUT",{type:!0,name:!0}),o=V(P,"Comparison marker"),P.forEach(_),f=L(I),r=D(I,"LABEL",{});var R=S(r);c=D(R,"INPUT",{type:!0,name:!0}),u=V(R,"Grouped bar"),R.forEach(_),h=L(I),m=D(I,"LABEL",{});var M=S(m);v=D(M,"INPUT",{type:!0,name:!0}),g=V(M,"Stacked bar"),M.forEach(_),I.forEach(_),this.h()},h(){w(i,"type","radio"),w(i,"name","chart-type"),i.__value=Rl,i.value=i.__value,a[33][0].push(i),w(c,"type","radio"),w(c,"name","chart-type"),c.__value=Xn,c.value=c.__value,a[33][0].push(c),w(v,"type","radio"),w(v,"name","chart-type"),v.__value=ls,v.value=v.__value,a[33][0].push(v),w(e,"slot","meta"),z(e,"margin-left","10px",!1)},m(k,I){E(k,e,I),b(e,t),b(t,l),b(e,n),b(e,s),b(s,i),i.checked=i.__value===a[8],b(s,o),b(e,f),b(e,r),b(r,c),c.checked=c.__value===a[8],b(r,u),b(e,h),b(e,m),b(m,v),v.checked=v.__value===a[8],b(m,g),p||(d=[Ae(i,"change",a[32]),Ae(c,"change",a[34]),Ae(v,"change",a[35])],p=!0)},p(k,I){I[0]&256&&(i.checked=i.__value===k[8]),I[0]&256&&(c.checked=c.__value===k[8]),I[0]&256&&(v.checked=v.__value===k[8])},d(k){k&&_(e),a[33][0].splice(a[33][0].indexOf(i),1),a[33][0].splice(a[33][0].indexOf(c),1),a[33][0].splice(a[33][0].indexOf(v),1),p=!1,xe(d)}}}function gi(a){let e,t,l,n,s,i;return e=new Ze({props:{title:"Demographics",$$slots:{default:[Ps]},$$scope:{ctx:a}}}),l=new Ze({props:{title:"Population by area",$$slots:{default:[Ws]},$$scope:{ctx:a}}}),s=new Ze({props:{title:"Key indicators",$$slots:{meta:[mi],default:[di]},$$scope:{ctx:a}}}),{c(){F(e.$$.fragment),t=K(),F(l.$$.fragment),n=K(),F(s.$$.fragment)},l(o){Z(e.$$.fragment,o),t=L(o),Z(l.$$.fragment,o),n=L(o),Z(s.$$.fragment,o)},m(o,f){W(e,o,f),E(o,t,f),W(l,o,f),E(o,n,f),W(s,o,f),i=!0},p(o,f){const r={};f[0]&1536|f[1]&262144&&(r.$$scope={dirty:f,ctx:o}),e.$set(r);const c={};f[0]&531|f[1]&262144&&(c.$$scope={dirty:f,ctx:o}),l.$set(c);const u={};f[0]&768|f[1]&262144&&(u.$$scope={dirty:f,ctx:o}),s.$set(u)},i(o){i||(C(e.$$.fragment,o),C(l.$$.fragment,o),C(s.$$.fragment,o),i=!0)},o(o){N(e.$$.fragment,o),N(l.$$.fragment,o),N(s.$$.fragment,o),i=!1},d(o){G(e,o),o&&_(t),G(l,o),o&&_(n),G(s,o)}}}function vi(a){let e,t,l,n,s,i,o,f,r,c,u,h,m;return c=new Pn({props:{background:"none",breadcrumb:[{label:"Census",url:"/census"},{label:"Population Group Profiles"}],$$slots:{meta:[ys],default:[ks]},$$scope:{ctx:a}}}),h=new hs({props:{$$slots:{default:[gi]},$$scope:{ctx:a}}}),{c(){e=y("meta"),t=y("meta"),l=y("meta"),n=y("meta"),s=y("meta"),i=y("meta"),o=y("meta"),f=K(),r=y("main"),F(c.$$.fragment),u=K(),F(h.$$.fragment),this.h()},l(v){const g=Jt('[data-svelte="svelte-1z0vru4"]',document.head);e=D(g,"META",{name:!0,content:!0}),t=D(g,"META",{property:!0,content:!0}),l=D(g,"META",{property:!0,content:!0}),n=D(g,"META",{property:!0,content:!0}),s=D(g,"META",{property:!0,content:!0}),i=D(g,"META",{property:!0,content:!0}),o=D(g,"META",{name:!0,content:!0}),g.forEach(_),f=L(v),r=D(v,"MAIN",{id:!0,tabindex:!0});var p=S(r);Z(c.$$.fragment,p),u=L(p),Z(h.$$.fragment,p),p.forEach(_),this.h()},h(){document.title="Census Population Group Profiles",w(e,"name","description"),w(e,"content",""),w(t,"property","og:title"),w(t,"content","Census Population Group Profiles"),w(l,"property","og:type"),w(l,"content","website"),w(n,"property","og:url"),w(n,"content",""+(nn+"/")),w(s,"property","og:image:type"),w(s,"content","image/jpeg"),w(i,"property","og:description"),w(i,"content",""),w(o,"name","description"),w(o,"content",""),w(r,"id","main"),w(r,"tabindex","-1")},m(v,g){b(document.head,e),b(document.head,t),b(document.head,l),b(document.head,n),b(document.head,s),b(document.head,i),b(document.head,o),E(v,f,g),E(v,r,g),W(c,r,null),b(r,u),W(h,r,null),m=!0},p(v,g){const p={};g[0]&2285|g[1]&262144&&(p.$$scope={dirty:g,ctx:v}),c.$set(p);const d={};g[0]&1811|g[1]&262144&&(d.$$scope={dirty:g,ctx:v}),h.$set(d)},i(v){m||(C(c.$$.fragment,v),C(h.$$.fragment,v),m=!0)},o(v){N(c.$$.fragment,v),N(h.$$.fragment,v),m=!1},d(v){_(e),_(t),_(l),_(n),_(s),_(i),_(o),v&&_(f),v&&_(r),G(c),G(h)}}}const Ii=!1;async function Si({fetch:a}){let e=await fn(Le.url,Le.layer,a),t={};e.features.forEach(h=>t[h.properties[Le.code]]=h.properties[Le.name]);let l=await fl(nl,[],a),n=Re(l.data.residents.health.values),s=l.data,i=await rl([],a),o=[],r=i.data.dataset.table.dimensions[0].categories.map(h=>h.code.slice(-9)),c=i.data.dataset.table.values,u={};return r.forEach((h,m)=>{u[h]=c[m]}),r.forEach(h=>{o.push({code:h,name:t[h],value:100})}),o.forEach(h=>h.color=Se.seq[4]),{props:{geojson:e,geoLookup:t,sumAll:n,dataAll:s,geoAll:u,geoCodes:r,geoPerc:o}}}let bi="light";const Kt=(a,e)=>e.value-a.value,Lt=a=>a.value!=null,Mt=(a,e)=>e.value-a.value,jt=a=>a.value!=null;function pi(a,e,t){let l,n;Yt(a,cn,q=>t(37,n=q));let{geojson:s,geoLookup:i,sumAll:o,dataAll:f,geoAll:r,geoCodes:c,geoPerc:u}=e;Pe("theme",xt[bi]);let h=null,m=null,v={},g=[];Ge.forEach(q=>{t(3,v[q.label]=q.cats[0],v)});let p=null,d="success",k=!1,I=0,A=Rl,P={all:f,selected:f,geojson:s,geoLookup:i,geoCodes:c,geoAll:r,geoPerc:u,geoBreaks:[0,100]},R={all:o,selected:o};function M(q){t(0,g=[...g,Ce({topic:m.label,key:m.key},v[q])]),cl(`${il}?${g.map(ee=>`${ee.key}=${ee.code}`).join("&")}`,{noscroll:!0}),t(2,m=null)}function J(q){t(0,g=g.filter(ee=>ee.topic!=q)),cl(`${il}?${g.map(ee=>`${ee.key}=${ee.code}`).join("&")}`,{noscroll:!0})}function H(){t(5,d="loading"),g&&g.map(q=>q.code).includes("0-15")?t(6,k=!0):t(6,k=!1),fl(nl,g).then(q=>{q.data.residents.age.values?(t(10,R.selected=Re(q.data.residents.health.values),R),t(9,P.selected=q.data,P),rl(g).then(ee=>{let oe=[],re=null;if(ee.data.dataset.table.dimensions){let he=ee.data.dataset.table.dimensions[0].categories.map(fe=>fe.code.slice(-9)),Me=ee.data.dataset.table.values,Te={};he.forEach((fe,je)=>{Te[fe]=Me[je]}),P.geoCodes.forEach(fe=>{oe.push({code:fe,name:P.geoLookup[fe],value:Te[fe]?Te[fe]/P.geoAll[fe]*100:null})});let be=oe.map(fe=>fe.value).filter(fe=>fe!=null);re=be[4]?$t(be,5):null}else P.geoCodes.forEach(te=>{oe.push({code:te,name:P.geoLookup[te],value:null})});if(re==null)oe.forEach(te=>te.color=Se.nodata),t(9,P.geoBreaks=[0,100],P);else if(!re[1])oe.forEach(te=>te.color=Se.seq[4]),t(9,P.geoBreaks=[0,100],P);else{let te=[];re.forEach(he=>te.push(he[0])),te.push(re[re.length-1][re[re.length-1].length-1]),te[te.length-1]==te[te.length-2]&&te.pop(),oe.forEach(he=>he.color=he.value?on(he.value,te,Se.seq):Se.nodata),t(9,P.geoBreaks=te,P)}t(9,P.geoPerc=oe,P),t(7,I=g.length),t(5,d="success")})):t(5,d="failed")})}function Y(q){let ee=q[0],oe=q[1],re=P.all[ee][oe].values,te=P.selected[ee][oe].values,he=[],Me=0,Te=0;return en[oe].forEach(be=>{let fe=be.label,je=0,Je=0;be.cells.forEach(Be=>{je+=re[Be],Me+=re[Be],Je+=te[Be],Te+=te[Be]}),R.selected!=R.all&&he.push({group:"This group",category:fe,count:Je}),he.push({group:"Whole population",category:fe,count:je})}),he.forEach((be,fe)=>{R.selected!=R.all&&fe%2==0?be.value=be.count/Te*100:be.value=be.count/Me*100}),he}function ke(q){let ee=q.residents.age.values,oe=Re(ee),re=0,te=0;for(;te<oe/2;)te+=ee[re],re+=1;return re-1}un(()=>{t(0,g=[]);for(let q of n.url.searchParams.entries()){let ee=Ge.find(oe=>oe.key==q[0]);if(ee){let oe=ee.cats.find(re=>re.code==q[1]);oe&&g.push(Ce({topic:ee.label,key:ee.key},oe))}}H()});const ne=[[]];function x(){m=el(this),t(2,m),t(11,l),t(0,g)}const ge=q=>ln;function $(){v[m.label]=el(this),t(3,v),t(2,m)}const ve=()=>M(m.label),we=q=>J(q.topic);function Ne(q){p=q,t(4,p)}function ze(q){h=q,t(1,h)}const Fe=q=>q.code==p,B=q=>q.code==p;function ce(){A=this.__value,t(8,A)}function Bt(){A=this.__value,t(8,A)}function Ot(){A=this.__value,t(8,A)}return a.$$set=q=>{"geojson"in q&&t(16,s=q.geojson),"geoLookup"in q&&t(17,i=q.geoLookup),"sumAll"in q&&t(18,o=q.sumAll),"dataAll"in q&&t(19,f=q.dataAll),"geoAll"in q&&t(20,r=q.geoAll),"geoCodes"in q&&t(21,c=q.geoCodes),"geoPerc"in q&&t(22,u=q.geoPerc)},a.$$.update=()=>{a.$$.dirty[0]&1&&t(11,l=Ge.filter(q=>!g.map(ee=>ee.topic).includes(q.label)))},[g,h,m,v,p,d,k,I,A,P,R,l,M,J,Y,ke,s,i,o,f,r,c,u,x,ge,$,ve,we,Ne,ze,Fe,B,ce,ne,Bt,Ot]}class Ci extends se{constructor(e){super();ie(this,e,pi,vi,ae,{geojson:16,geoLookup:17,sumAll:18,dataAll:19,geoAll:20,geoCodes:21,geoPerc:22},null,[-1,-1])}}export{Ci as default,Si as load,Ii as prerender};
