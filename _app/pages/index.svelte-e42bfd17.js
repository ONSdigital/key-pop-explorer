var vt=Object.defineProperty,bt=Object.defineProperties;var pt=Object.getOwnPropertyDescriptors;var Ge=Object.getOwnPropertySymbols;var kt=Object.prototype.hasOwnProperty,Et=Object.prototype.propertyIsEnumerable;var Je=(n,e,t)=>e in n?vt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ee=(n,e)=>{for(var t in e||(e={}))kt.call(e,t)&&Je(n,t,e[t]);if(Ge)for(var t of Ge(e))Et.call(e,t)&&Je(n,t,e[t]);return n},Ye=(n,e)=>bt(n,pt(e));import{V as wt,W as Ne,S as ne,i as ie,s as oe,e as y,k as L,c as D,a as I,m as j,d as u,b as E,g as w,G as p,t as N,h as V,I as O,N as re,j as Z,l as q,K as _e,w as F,x as W,y as R,q as S,o as A,B as U,P as we,f as M,n as le,p as te,R as ye,T as De,U as Ie,r as Ve,X as Me,F as He,H as yt,v as Dt,Y as Ke,Z as Oe,_ as It,Q as St,$ as zt,a0 as Be,L as qe,a1 as Ct,a2 as At,O as Nt,a3 as Qe,a4 as Vt,a5 as Xe,a6 as $e}from"../chunks/vendor-4c2c0f6f.js";import{l as Pe,c as ke,d as xe,v as Fe,a as el,t as Pt,b as Tt,s as Lt,m as jt,e as he}from"../chunks/config-0755dcc8.js";import{a as Mt,b as ll}from"../chunks/paths-396f020f.js";import{r as We}from"../chunks/singletons-a6a7384f.js";const tl="https://ftb-api-ext.ons.sensiblecode.io/graphql",Kt=`
fragment tableDimensions on Table {
  dimensions {
    categories {
      code
    }
  }
}
`.replace(/\s+/g," "),Bt=btoa("ahmad.barclay:elope.puck.hails.explore"),sl=new Headers({"Content-Type":"application/json",Authorization:"Basic "+Bt});async function al(n,e=[],t=window.fetch){let l=e[0]?[...e].sort((v,h)=>v.topic.localeCompare(h.topic)):[...e],s=[],a=[],i=[],o=[];l[0]&&l.forEach(v=>{v.var&&(s.push(v.var),a.push(`{variable: "${v.var}", codes: ["${v.code}"]}`),v.topic!="age group"&&(i.push(v.var),o.push(`{variable: "${v.var}", codes: ["${v.code}"]}`)))}),s=s[0]?'"'+s.join('","')+'",':"",a=a[0]?"["+a.join(",")+"]":"[]",i=i[0]?'"'+i.join('","')+'",':"",o=o[0]?"["+o.join(",")+"]":"[]";let r=[];n.forEach(v=>{let h=[];v.tables.forEach(d=>{h.push(`
      ${d.key}: table(
        variables: [${d.key=="age"?i:s}"${d.code}"]
        filters: ${d.key=="age"?o:a}
      )
      {
        values
      }
      `)});let b=`
    ${v.key}: dataset(name:"${v.code}") {
      ${h.join(`
`)}
    }
    `;r.push(b)});const f=`
  query {
    ${r.join(`
`)}
  }
  `.replace(/\s+/g," "),c={body:JSON.stringify({query:f}),headers:sl,method:"POST",mode:"cors"};let m=await(await t(tl,c)).json(),g=l.filter(v=>v.topic=="age group");if(g[0]&&m.data.residents.age.values){let v=[...m.data.residents.age.values],h=g[0].code.split("-");h.forEach((b,d)=>h[d]=+b),v.forEach((b,d)=>v[d]=d>=h[0]&&d<=h[1]?b:0),m.data.residents.age.values=v}return m}async function nl(n=[],e=window.fetch){let t=n[0]?[...n].sort((c,_)=>c.topic.localeCompare(_.topic)):[...n],l=[],s=[];t[0]&&t.forEach(c=>{c.var&&(l.push(c.var),s.push(`{variable: "${c.var}", codes: ["${c.code}"]}`))});let a=l[0]?'"'+l.join('","')+'",':"";s=s[0]?"["+s.join(",")+"]":"[]";const i=`
  query {
    dataset(name:"Usual-Residents") {
      table(
        variables: ["LA"${a}]
        filters: ${s}
      )
      {
        ...tableDimensions
        values
      }
    }
  }
  `.replace(/\s+/g," "),o={body:JSON.stringify({query:i+Kt}),headers:sl,method:"POST",mode:"cors"};return await(await e(tl,o)).json()}function qt(n,e,t){for(let l=1;l<e.length;l++)if(n<=e[l])return t[l-1]}async function Ht(n,e,t=window.fetch){let s=await(await t(n)).json();return await wt(s,e)}function ue(n){return n.charAt(0).toUpperCase()+n.slice(1)}function Re(n){return n?n.reduce((e,t)=>e+t):0}function ve(n){return(n?n.slice(0,-1).reduce((t,l)=>t+l):0)==0}const Ot=()=>{const n=Ne("__svelte__");return{page:{subscribe:n.page.subscribe},navigating:{subscribe:n.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:n.navigating.subscribe}},session:n.session}},Ft={subscribe(n){return Ot().page.subscribe(n)}},il=Rt,Wt=Ut;async function Rt(n,e){return We.goto(n,e,[])}function Ut(n){We&&We.after_navigate(n)}function ol(n,e,t){const l=n.slice();return l[2]=e[t],l}function Zt(n){let e=n[2].label+"",t;return{c(){t=N(e)},l(l){t=V(l,e)},m(l,s){w(l,t,s)},p(l,s){s&1&&e!==(e=l[2].label+"")&&Z(t,e)},d(l){l&&u(t)}}}function Gt(n){let e,t=n[2].label+"",l,s;return{c(){e=y("a"),l=N(t),this.h()},l(a){e=D(a,"A",{class:!0,href:!0});var i=I(e);l=V(i,t),i.forEach(u),this.h()},h(){E(e,"class","breadcrumb__link"),E(e,"href",s=n[2].url)},m(a,i){w(a,e,i),p(e,l)},p(a,i){i&1&&t!==(t=a[2].label+"")&&Z(l,t),i&1&&s!==(s=a[2].url)&&E(e,"href",s)},d(a){a&&u(e)}}}function rl(n){let e,t;function l(i,o){return i[2].url?Gt:Zt}let s=l(n),a=s(n);return{c(){e=y("li"),a.c(),t=L(),this.h()},l(i){e=D(i,"LI",{class:!0});var o=I(e);a.l(o),t=j(o),o.forEach(u),this.h()},h(){E(e,"class","breadcrumb__item")},m(i,o){w(i,e,o),a.m(e,null),p(e,t)},p(i,o){s===(s=l(i))&&a?a.p(i,o):(a.d(1),a=s(i),a&&(a.c(),a.m(e,t)))},d(i){i&&u(e),a.d()}}}function Jt(n){let e,t,l,s,a,i,o,r,f=n[0],c=[];for(let _=0;_<f.length;_+=1)c[_]=rl(ol(n,f,_));return{c(){e=y("nav"),t=y("div"),l=y("ol"),s=y("li"),a=y("a"),i=N("Home"),o=L();for(let _=0;_<c.length;_+=1)c[_].c();this.h()},l(_){e=D(_,"NAV",{"aria-label":!0});var m=I(e);t=D(m,"DIV",{class:!0});var g=I(t);l=D(g,"OL",{class:!0});var v=I(l);s=D(v,"LI",{class:!0});var h=I(s);a=D(h,"A",{class:!0,href:!0});var b=I(a);i=V(b,"Home"),b.forEach(u),h.forEach(u),o=j(v);for(let d=0;d<c.length;d+=1)c[d].l(v);v.forEach(u),g.forEach(u),m.forEach(u),this.h()},h(){E(a,"class","breadcrumb__link"),E(a,"href","/"),E(s,"class","breadcrumb__item"),E(l,"class","breadcrumb__list"),E(t,"class",r=""+((n[1]=="neutral"?"breadcrumb-neutral":"breadcrumb")+" print--hide")),E(e,"aria-label","Breadcrumbs")},m(_,m){w(_,e,m),p(e,t),p(t,l),p(l,s),p(s,a),p(a,i),p(l,o);for(let g=0;g<c.length;g+=1)c[g].m(l,null)},p(_,[m]){if(m&1){f=_[0];let g;for(g=0;g<f.length;g+=1){const v=ol(_,f,g);c[g]?c[g].p(v,m):(c[g]=rl(v),c[g].c(),c[g].m(l,null))}for(;g<c.length;g+=1)c[g].d(1);c.length=f.length}m&2&&r!==(r=""+((_[1]=="neutral"?"breadcrumb-neutral":"breadcrumb")+" print--hide"))&&E(t,"class",r)},i:O,o:O,d(_){_&&u(e),re(c,_)}}}function Yt(n,e,t){let{links:l=[]}=e,{mode:s="neutral"}=e;return n.$$set=a=>{"links"in a&&t(0,l=a.links),"mode"in a&&t(1,s=a.mode)},[l,s]}class Qt extends ne{constructor(e){super();ie(this,e,Yt,Jt,oe,{links:0,mode:1})}}function fl(n,e,t){const l=n.slice();return l[2]=e[t],l}function cl(n){let e,t,l=n[2].label+"",s,a,i,o;return{c(){e=y("li"),t=y("a"),s=N(l),o=L(),this.h()},l(r){e=D(r,"LI",{});var f=I(e);t=D(f,"A",{href:!0,"data-gtm-title":!0,"data-gtm-type":!0});var c=I(t);s=V(c,l),c.forEach(u),o=j(f),f.forEach(u),this.h()},h(){E(t,"href",a=n[2].url),E(t,"data-gtm-title",i=n[2].label),E(t,"data-gtm-type","highlighted-links")},m(r,f){w(r,e,f),p(e,t),p(t,s),p(e,o)},p(r,f){f&2&&l!==(l=r[2].label+"")&&Z(s,l),f&2&&a!==(a=r[2].url)&&E(t,"href",a),f&2&&i!==(i=r[2].label)&&E(t,"data-gtm-title",i)},d(r){r&&u(e)}}}function Xt(n){let e,t,l,s,a,i=n[1],o=[];for(let r=0;r<i.length;r+=1)o[r]=cl(fl(n,i,r));return{c(){e=y("div"),t=y("h2"),l=N(n[0]),s=L(),a=y("ul");for(let r=0;r<o.length;r+=1)o[r].c();this.h()},l(r){e=D(r,"DIV",{class:!0});var f=I(e);t=D(f,"H2",{class:!0});var c=I(t);l=V(c,n[0]),c.forEach(u),s=j(f),a=D(f,"UL",{class:!0});var _=I(a);for(let m=0;m<o.length;m+=1)o[m].l(_);_.forEach(u),f.forEach(u),this.h()},h(){E(t,"class","margin-top-lg--1"),E(a,"class","list--neutral margin-top--negative-one-fix"),E(e,"class","nav-secondary--border-left-lg col col--md-47 col--lg-19 col--lg-offset-2 padding-left margin-top-lg--3")},m(r,f){w(r,e,f),p(e,t),p(t,l),p(e,s),p(e,a);for(let c=0;c<o.length;c+=1)o[c].m(a,null)},p(r,[f]){if(f&1&&Z(l,r[0]),f&2){i=r[1];let c;for(c=0;c<i.length;c+=1){const _=fl(r,i,c);o[c]?o[c].p(_,f):(o[c]=cl(_),o[c].c(),o[c].m(a,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=i.length}},i:O,o:O,d(r){r&&u(e),re(o,r)}}}function $t(n,e,t){let{title:l="Highlighted content"}=e,{links:s=[]}=e;return n.$$set=a=>{"title"in a&&t(0,l=a.title),"links"in a&&t(1,s=a.links)},[l,s]}class xt extends ne{constructor(e){super();ie(this,e,$t,Xt,oe,{title:0,links:1})}}function ul(n,e,t){const l=n.slice();return l[2]=e[t],l}function es(n){let e,t=n[2].label+"",l;return{c(){e=y("li"),l=N(t),this.h()},l(s){e=D(s,"LI",{class:!0,"aria-current":!0});var a=I(e);l=V(a,t),a.forEach(u),this.h()},h(){E(e,"class","ons-list__item svelte-1dyzlhu"),E(e,"aria-current","true")},m(s,a){w(s,e,a),p(e,l)},p(s,a){a&2&&t!==(t=s[2].label+"")&&Z(l,t)},d(s){s&&u(e)}}}function ls(n){let e,t,l=n[2].label+"",s,a,i;return{c(){e=y("li"),t=y("a"),s=N(l),i=L(),this.h()},l(o){e=D(o,"LI",{class:!0});var r=I(e);t=D(r,"A",{href:!0,class:!0});var f=I(t);s=V(f,l),f.forEach(u),i=j(r),r.forEach(u),this.h()},h(){E(t,"href",a=n[2].url),E(t,"class","ons-list__link"),E(e,"class","ons-list__item svelte-1dyzlhu")},m(o,r){w(o,e,r),p(e,t),p(t,s),p(e,i)},p(o,r){r&2&&l!==(l=o[2].label+"")&&Z(s,l),r&2&&a!==(a=o[2].url)&&E(t,"href",a)},d(o){o&&u(e)}}}function _l(n){let e;function t(a,i){return a[2].url?ls:es}let l=t(n),s=l(n);return{c(){s.c(),e=q()},l(a){s.l(a),e=q()},m(a,i){s.m(a,i),w(a,e,i)},p(a,i){l===(l=t(a))&&s?s.p(a,i):(s.d(1),s=l(a),s&&(s.c(),s.m(e.parentNode,e)))},d(a){s.d(a),a&&u(e)}}}function ts(n){let e,t,l,s,a,i=n[1],o=[];for(let r=0;r<i.length;r+=1)o[r]=_l(ul(n,i,r));return{c(){e=y("nav"),t=y("h2"),l=N(n[0]),s=L(),a=y("ol");for(let r=0;r<o.length;r+=1)o[r].c();this.h()},l(r){e=D(r,"NAV",{class:!0,"aria-label":!0});var f=I(e);t=D(f,"H2",{class:!0});var c=I(t);l=V(c,n[0]),c.forEach(u),s=j(f),a=D(f,"OL",{class:!0});var _=I(a);for(let m=0;m<o.length;m+=1)o[m].l(_);_.forEach(u),f.forEach(u),this.h()},h(){E(t,"class","ons-toc__title ons-u-fs-r--b ons-u-mb-s svelte-1dyzlhu"),E(a,"class","ons-list ons-u-mb-m ons-list--dashed svelte-1dyzlhu"),E(e,"class","ons-toc svelte-1dyzlhu"),E(e,"aria-label","Pages in this guide")},m(r,f){w(r,e,f),p(e,t),p(t,l),p(e,s),p(e,a);for(let c=0;c<o.length;c+=1)o[c].m(a,null)},p(r,[f]){if(f&1&&Z(l,r[0]),f&2){i=r[1];let c;for(c=0;c<i.length;c+=1){const _=ul(r,i,c);o[c]?o[c].p(_,f):(o[c]=_l(_),o[c].c(),o[c].m(a,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=i.length}},i:O,o:O,d(r){r&&u(e),re(o,r)}}}function ss(n,e,t){let{label:l="Contents"}=e,{links:s=[]}=e;return n.$$set=a=>{"label"in a&&t(0,l=a.label),"links"in a&&t(1,s=a.links)},[l,s]}class as extends ne{constructor(e){super();ie(this,e,ss,ts,oe,{label:0,links:1})}}function ns(n){let e,t,l,s,a,i,o,r,f;return{c(){e=y("div"),t=y("div"),l=y("dl"),s=y("div"),a=y("dt"),i=N(n[1]),o=N(":"),r=L(),f=y("dd"),this.h()},l(c){e=D(c,"DIV",{class:!0});var _=I(e);t=D(_,"DIV",{class:!0});var m=I(t);l=D(m,"DL",{class:!0});var g=I(l);s=D(g,"DIV",{class:!0});var v=I(s);a=D(v,"DT",{class:!0});var h=I(a);i=V(h,n[1]),o=V(h,":"),h.forEach(u),r=j(v),f=D(v,"DD",{class:!0});var b=I(f);b.forEach(u),v.forEach(u),g.forEach(u),m.forEach(u),_.forEach(u),this.h()},h(){E(a,"class","meta__term inline"),E(f,"class","inline"),E(s,"class","col padding-left--0 meta__item meta__item--no-border"),E(l,"class","col-wrap"),E(t,"class","wrapper"),E(e,"class","meta-wrap--thin"),_e(e,"meta-wrap",n[0]=="grey")},m(c,_){w(c,e,_),p(e,t),p(t,l),p(l,s),p(s,a),p(a,i),p(a,o),p(s,r),p(s,f),f.innerHTML=n[2]},p(c,[_]){_&2&&Z(i,c[1]),_&4&&(f.innerHTML=c[2]),_&1&&_e(e,"meta-wrap",c[0]=="grey")},i:O,o:O,d(c){c&&u(e)}}}function is(n,e,t){let{background:l="grey"}=e,{label:s="Last updated"}=e,{value:a="date"}=e;return n.$$set=i=>{"background"in i&&t(0,l=i.background),"label"in i&&t(1,s=i.label),"value"in i&&t(2,a=i.value)},[l,s,a]}class os extends ne{constructor(e){super();ie(this,e,is,ns,oe,{background:0,label:1,value:2})}}const rs=n=>({}),hl=n=>({});function dl(n){let e,t;return e=new Qt({props:{links:n[2],mode:n[0]}}),{c(){F(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,s){R(e,l,s),t=!0},p(l,s){const a={};s&4&&(a.links=l[2]),s&1&&(a.mode=l[0]),e.$set(a)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){U(e,l)}}}function ml(n){let e,t;return{c(){e=y("p"),t=N(n[6]),this.h()},l(l){e=D(l,"P",{class:!0});var s=I(e);t=V(s,n[6]),s.forEach(u),this.h()},h(){E(e,"class","page-neutral-intro__meta margin-top--0 margin-bottom--3")},m(l,s){w(l,e,s),p(e,t)},p(l,s){s&64&&Z(t,l[6])},d(l){l&&u(e)}}}function gl(n){let e,t;return e=new as({props:{links:n[3],label:"Contents"}}),{c(){F(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,s){R(e,l,s),t=!0},p(l,s){const a={};s&8&&(a.links=l[3]),e.$set(a)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){U(e,l)}}}function vl(n){let e,t;return e=new xt({props:{links:n[4]}}),{c(){F(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,s){R(e,l,s),t=!0},p(l,s){const a={};s&16&&(a.links=l[4]),e.$set(a)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){U(e,l)}}}function bl(n){let e,t;return e=new os({props:{label:"Last updated",value:n[5],background:n[1]}}),{c(){F(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,s){R(e,l,s),t=!0},p(l,s){const a={};s&32&&(a.value=l[5]),s&2&&(a.background=l[1]),e.$set(a)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){U(e,l)}}}function pl(n){let e,t,l,s;return{c(){e=y("div"),t=y("div"),l=y("div"),s=y("hr"),this.h()},l(a){e=D(a,"DIV",{class:!0});var i=I(e);t=D(i,"DIV",{class:!0});var o=I(t);l=D(o,"DIV",{class:!0});var r=I(l);s=D(r,"HR",{style:!0}),r.forEach(u),o.forEach(u),i.forEach(u),this.h()},h(){M(s,"border","0"),M(s,"height","0"),M(s,"border-top","1px solid #808080"),E(l,"class","col"),E(t,"class","col-wrap"),E(e,"class","wrapper")},m(a,i){w(a,e,i),p(e,t),p(t,l),p(l,s)},d(a){a&&u(e)}}}function fs(n){let e,t,l,s,a,i,o,r,f,c,_,m,g,v,h=n[2]&&dl(n);const b=n[8].default,d=we(b,n,n[7],null);let k=n[6]&&ml(n),P=n[3]&&gl(n),z=n[4]&&vl(n);const K=n[8].meta,Y=we(K,n,n[7],hl);let T=n[5]&&bl(n),X=n[1]=="none"&&pl();return{c(){e=y("div"),t=y("div"),l=y("div"),s=y("div"),h&&h.c(),a=L(),i=y("div"),d&&d.c(),o=L(),k&&k.c(),r=L(),P&&P.c(),f=L(),z&&z.c(),c=L(),Y&&Y.c(),_=L(),T&&T.c(),m=L(),X&&X.c(),this.h()},l(H){e=D(H,"DIV",{class:!0});var G=I(e);t=D(G,"DIV",{class:!0});var be=I(t);l=D(be,"DIV",{class:!0});var ee=I(l);s=D(ee,"DIV",{class:!0});var $=I(s);h&&h.l($),a=j($),i=D($,"DIV",{class:!0});var de=I(i);d&&d.l(de),o=j(de),k&&k.l(de),r=j(de),P&&P.l(de),de.forEach(u),f=j($),z&&z.l($),$.forEach(u),ee.forEach(u),be.forEach(u),c=j(G),Y&&Y.l(G),_=j(G),T&&T.l(G),m=j(G),X&&X.l(G),G.forEach(u),this.h()},h(){E(i,"class","col col--md-47"),_e(i,"col--lg-38",n[4]),_e(i,"col--lg-48",!n[4]),E(s,"class","col"),E(l,"class","col-wrap"),E(t,"class","wrapper"),E(e,"class",g="page-neutral-intro "+(n[1]=="grey"?"background--gallery":""))},m(H,G){w(H,e,G),p(e,t),p(t,l),p(l,s),h&&h.m(s,null),p(s,a),p(s,i),d&&d.m(i,null),p(i,o),k&&k.m(i,null),p(i,r),P&&P.m(i,null),p(s,f),z&&z.m(s,null),p(e,c),Y&&Y.m(e,null),p(e,_),T&&T.m(e,null),p(e,m),X&&X.m(e,null),v=!0},p(H,[G]){H[2]?h?(h.p(H,G),G&4&&S(h,1)):(h=dl(H),h.c(),S(h,1),h.m(s,a)):h&&(le(),A(h,1,1,()=>{h=null}),te()),d&&d.p&&(!v||G&128)&&ye(d,b,H,H[7],v?Ie(b,H[7],G,null):De(H[7]),null),H[6]?k?k.p(H,G):(k=ml(H),k.c(),k.m(i,r)):k&&(k.d(1),k=null),H[3]?P?(P.p(H,G),G&8&&S(P,1)):(P=gl(H),P.c(),S(P,1),P.m(i,null)):P&&(le(),A(P,1,1,()=>{P=null}),te()),G&16&&_e(i,"col--lg-38",H[4]),G&16&&_e(i,"col--lg-48",!H[4]),H[4]?z?(z.p(H,G),G&16&&S(z,1)):(z=vl(H),z.c(),S(z,1),z.m(s,null)):z&&(le(),A(z,1,1,()=>{z=null}),te()),Y&&Y.p&&(!v||G&128)&&ye(Y,K,H,H[7],v?Ie(K,H[7],G,rs):De(H[7]),hl),H[5]?T?(T.p(H,G),G&32&&S(T,1)):(T=bl(H),T.c(),S(T,1),T.m(e,m)):T&&(le(),A(T,1,1,()=>{T=null}),te()),H[1]=="none"?X||(X=pl(),X.c(),X.m(e,null)):X&&(X.d(1),X=null),(!v||G&2&&g!==(g="page-neutral-intro "+(H[1]=="grey"?"background--gallery":"")))&&E(e,"class",g)},i(H){v||(S(h),S(d,H),S(P),S(z),S(Y,H),S(T),v=!0)},o(H){A(h),A(d,H),A(P),A(z),A(Y,H),A(T),v=!1},d(H){H&&u(e),h&&h.d(),d&&d.d(H),k&&k.d(),P&&P.d(),z&&z.d(),Y&&Y.d(H),T&&T.d(),X&&X.d()}}}function cs(n,e,t){let{$$slots:l={},$$scope:s}=e,{mode:a="neutral"}=e,{background:i="grey"}=e,{breadcrumb:o=null}=e,{contents:r=null}=e,{highlighted:f=null}=e,{updated:c=null}=e,{date:_=null}=e;return Ve("mode",a),Ve("background",i),n.$$set=m=>{"mode"in m&&t(0,a=m.mode),"background"in m&&t(1,i=m.background),"breadcrumb"in m&&t(2,o=m.breadcrumb),"contents"in m&&t(3,r=m.contents),"highlighted"in m&&t(4,f=m.highlighted),"updated"in m&&t(5,c=m.updated),"date"in m&&t(6,_=m.date),"$$scope"in m&&t(7,s=m.$$scope)},[a,i,o,r,f,c,_,s,l]}class us extends ne{constructor(e){super();ie(this,e,cs,fs,oe,{mode:0,background:1,breadcrumb:2,contents:3,highlighted:4,updated:5,date:6})}}function _s(n){let e,t,l;const s=n[2].default,a=we(s,n,n[1],null);return{c(){e=y("h1"),a&&a.c(),this.h()},l(i){e=D(i,"H1",{class:!0});var o=I(e);a&&a.l(o),o.forEach(u),this.h()},h(){E(e,"class",t=n[0]=="neutral"?"page-neutral-intro__title":"page-intro__title")},m(i,o){w(i,e,o),a&&a.m(e,null),l=!0},p(i,[o]){a&&a.p&&(!l||o&2)&&ye(a,s,i,i[1],l?Ie(s,i[1],o,null):De(i[1]),null),(!l||o&1&&t!==(t=i[0]=="neutral"?"page-neutral-intro__title":"page-intro__title"))&&E(e,"class",t)},i(i){l||(S(a,i),l=!0)},o(i){A(a,i),l=!1},d(i){i&&u(e),a&&a.d(i)}}}function hs(n,e,t){let{$$slots:l={},$$scope:s}=e,{mode:a=Ne("mode")}=e;return n.$$set=i=>{"mode"in i&&t(0,a=i.mode),"$$scope"in i&&t(1,s=i.$$scope)},[a,s,l]}class ds extends ne{constructor(e){super();ie(this,e,hs,_s,oe,{mode:0})}}function kl(n,e,t){const l=n.slice();return l[14]=e[t],l}function El(n,e,t){const l=n.slice();return l[17]=e[t],l[19]=t,l}function wl(n,e,t){const l=n.slice();return l[17]=e[t],l[19]=t,l}function yl(n,e,t){const l=n.slice();return l[14]=e[t],l[19]=t,l}function Dl(n){let e,t=n[7],l=[];for(let s=0;s<t.length;s+=1)l[s]=Il(yl(n,t,s));return{c(){e=y("ul");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=D(s,"UL",{class:!0});var a=I(e);for(let i=0;i<l.length;i+=1)l[i].l(a);a.forEach(u),this.h()},h(){E(e,"class","legend-block svelte-1ri9pb8")},m(s,a){w(s,e,a);for(let i=0;i<l.length;i+=1)l[i].m(e,null)},p(s,a){if(a&144){t=s[7];let i;for(i=0;i<t.length;i+=1){const o=yl(s,t,i);l[i]?l[i].p(o,a):(l[i]=Il(o),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(s){s&&u(e),re(l,s)}}}function Il(n){let e,t,l,s,a=n[14]+"",i,o,r;return{c(){e=y("li"),t=y("div"),l=L(),s=y("span"),i=N(a),r=L(),this.h()},l(f){e=D(f,"LI",{class:!0});var c=I(e);t=D(c,"DIV",{class:!0}),I(t).forEach(u),l=j(c),s=D(c,"SPAN",{class:!0});var _=I(s);i=V(_,a),_.forEach(u),r=j(c),c.forEach(u),this.h()},h(){E(t,"class","legend-vis "+(n[19]==0?"bar":"marker")+" svelte-1ri9pb8"),M(t,"height","1rem",!1),M(t,"width",n[19]==0?"1rem":n[4]+"px",!1),E(s,"class",o=""+(Me(n[19]==0?"bold":"brackets")+" svelte-1ri9pb8")),E(e,"class","svelte-1ri9pb8")},m(f,c){w(f,e,c),p(e,t),p(e,l),p(e,s),p(s,i),p(e,r)},p(f,c){c&16&&M(t,"width",f[19]==0?"1rem":f[4]+"px",!1),c&128&&a!==(a=f[14]+"")&&Z(i,a)},d(f){f&&u(e)}}}function Sl(n){let e,t=n[1](n[17].value)+"",l,s,a;return{c(){e=y("span"),l=N(t),s=N(n[2]),this.h()},l(i){e=D(i,"SPAN",{class:!0});var o=I(e);l=V(o,t),s=V(o,n[2]),o.forEach(u),this.h()},h(){E(e,"class",a="label "+(n[19]==0?"bold":"sml brackets")+" svelte-1ri9pb8")},m(i,o){w(i,e,o),p(e,l),p(e,s)},p(i,o){o&34&&t!==(t=i[1](i[17].value)+"")&&Z(l,t),o&4&&Z(s,i[2])},d(i){i&&u(e)}}}function ms(n){let e,t=`calc(${n[6](n[17][n[0]])}% - ${n[4]/2}px)`,l=`${n[4]}px`;return{c(){e=y("div"),this.h()},l(s){e=D(s,"DIV",{class:!0}),I(e).forEach(u),this.h()},h(){E(e,"class","marker svelte-1ri9pb8"),M(e,"left",t,!1),M(e,"border-left-width",l,!1)},m(s,a){w(s,e,a)},p(s,a){a&113&&t!==(t=`calc(${s[6](s[17][s[0]])}% - ${s[4]/2}px)`)&&M(e,"left",t,!1),a&16&&l!==(l=`${s[4]}px`)&&M(e,"border-left-width",l,!1)},d(s){s&&u(e)}}}function gs(n){let e,t=`${n[6](n[17][n[0]])}%`;return{c(){e=y("div"),this.h()},l(l){e=D(l,"DIV",{class:!0}),I(e).forEach(u),this.h()},h(){E(e,"class","bar svelte-1ri9pb8"),M(e,"left","0",!1),M(e,"width",t,!1)},m(l,s){w(l,e,s)},p(l,s){s&97&&t!==(t=`${l[6](l[17][l[0]])}%`)&&M(e,"width",t,!1)},d(l){l&&u(e)}}}function zl(n){let e;function t(a,i){return a[19]==0?gs:ms}let s=t(n)(n);return{c(){s.c(),e=q()},l(a){s.l(a),e=q()},m(a,i){s.m(a,i),w(a,e,i)},p(a,i){s.p(a,i)},d(a){s.d(a),a&&u(e)}}}function Cl(n){let e,t=n[14].label+"",l,s,a,i,o,r=`${n[3]}px`,f=n[14].values,c=[];for(let g=0;g<f.length;g+=1)c[g]=Sl(wl(n,f,g));let _=n[14].values,m=[];for(let g=0;g<_.length;g+=1)m[g]=zl(El(n,_,g));return{c(){e=y("div"),l=N(t),s=L();for(let g=0;g<c.length;g+=1)c[g].c();a=L(),i=y("div");for(let g=0;g<m.length;g+=1)m[g].c();o=L(),this.h()},l(g){e=D(g,"DIV",{class:!0});var v=I(e);l=V(v,t),s=j(v);for(let b=0;b<c.length;b+=1)c[b].l(v);v.forEach(u),a=j(g),i=D(g,"DIV",{class:!0});var h=I(i);for(let b=0;b<m.length;b+=1)m[b].l(h);o=j(h),h.forEach(u),this.h()},h(){E(e,"class","label-group svelte-1ri9pb8"),E(i,"class","bar-group svelte-1ri9pb8"),M(i,"height",r,!1)},m(g,v){w(g,e,v),p(e,l),p(e,s);for(let h=0;h<c.length;h+=1)c[h].m(e,null);w(g,a,v),w(g,i,v);for(let h=0;h<m.length;h+=1)m[h].m(i,null);p(i,o)},p(g,v){if(v&32&&t!==(t=g[14].label+"")&&Z(l,t),v&38){f=g[14].values;let h;for(h=0;h<f.length;h+=1){const b=wl(g,f,h);c[h]?c[h].p(b,v):(c[h]=Sl(b),c[h].c(),c[h].m(e,null))}for(;h<c.length;h+=1)c[h].d(1);c.length=f.length}if(v&113){_=g[14].values;let h;for(h=0;h<_.length;h+=1){const b=El(g,_,h);m[h]?m[h].p(b,v):(m[h]=zl(b),m[h].c(),m[h].m(i,o))}for(;h<m.length;h+=1)m[h].d(1);m.length=_.length}v&8&&r!==(r=`${g[3]}px`)&&M(i,"height",r,!1)},d(g){g&&u(e),re(c,g),g&&u(a),g&&u(i),re(m,g)}}}function vs(n){let e,t,l=n[7][1]&&Dl(n),s=n[5],a=[];for(let i=0;i<s.length;i+=1)a[i]=Cl(kl(n,s,i));return{c(){l&&l.c(),e=L();for(let i=0;i<a.length;i+=1)a[i].c();t=q()},l(i){l&&l.l(i),e=j(i);for(let o=0;o<a.length;o+=1)a[o].l(i);t=q()},m(i,o){l&&l.m(i,o),w(i,e,o);for(let r=0;r<a.length;r+=1)a[r].m(i,o);w(i,t,o)},p(i,[o]){if(i[7][1]?l?l.p(i,o):(l=Dl(i),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),o&127){s=i[5];let r;for(r=0;r<s.length;r+=1){const f=kl(i,s,r);a[r]?a[r].p(f,o):(a[r]=Cl(f),a[r].c(),a[r].m(t.parentNode,t))}for(;r<a.length;r+=1)a[r].d(1);a.length=s.length}},i:O,o:O,d(i){l&&l.d(i),i&&u(e),re(a,i),i&&u(t)}}}function bs(n,e,t){let l,s,a,i,{data:o}=e,{xKey:r="value"}=e,{yKey:f="category"}=e,{zKey:c="group"}=e,{formatTick:_=b=>Math.round(b)}=e,{suffix:m="%"}=e,{barHeight:g=25}=e,{markerWidth:v=3}=e;function h(b,d){let k={};for(const z of b)k[z[d]]||(k[z[d]]={label:z[d],values:[]}),k[z[d]].values.push(z);let P=[];for(const z in k)P.push(k[z]);return P}return n.$$set=b=>{"data"in b&&t(8,o=b.data),"xKey"in b&&t(0,r=b.xKey),"yKey"in b&&t(9,f=b.yKey),"zKey"in b&&t(10,c=b.zKey),"formatTick"in b&&t(1,_=b.formatTick),"suffix"in b&&t(2,m=b.suffix),"barHeight"in b&&t(3,g=b.barHeight),"markerWidth"in b&&t(4,v=b.markerWidth)},n.$$.update=()=>{n.$$.dirty&257&&t(11,l=[0,Math.max(...o.map(b=>b[r]))]),n.$$.dirty&768&&o.map(b=>b[f]).filter((b,d,k)=>k.indexOf(b)===d),n.$$.dirty&1280&&t(7,s=o.map(b=>b[c]).filter((b,d,k)=>k.indexOf(b)===d)),n.$$.dirty&2048&&t(6,a=b=>b/l[1]*100),n.$$.dirty&768&&t(5,i=h(o,f))},[r,_,m,g,v,i,a,s,o,f,c,l]}class Se extends ne{constructor(e){super();ie(this,e,bs,vs,oe,{data:8,xKey:0,yKey:9,zKey:10,formatTick:1,suffix:2,barHeight:3,markerWidth:4})}}function Al(n,e,t){const l=n.slice();return l[11]=e[t],l[13]=t,l}function Nl(n,e,t){const l=n.slice();return l[14]=e[t],l[16]=t,l}function Vl(n,e,t){const l=n.slice();return l[14]=e[t],l[16]=t,l}function Pl(n,e,t){const l=n.slice();return l[18]=e[t],l[13]=t,l}function Tl(n){let e,t=n[4],l=[];for(let s=0;s<t.length;s+=1)l[s]=Ll(Pl(n,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=q()},l(s){for(let a=0;a<l.length;a+=1)l[a].l(s);e=q()},m(s,a){for(let i=0;i<l.length;i+=1)l[i].m(s,a);w(s,e,a)},p(s,a){if(a&16){t=s[4];let i;for(i=0;i<t.length;i+=1){const o=Pl(s,t,i);l[i]?l[i].p(o,a):(l[i]=Ll(o),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(s){re(l,s),s&&u(e)}}}function Ll(n){let e,t,l,s,a=n[18]+"",i,o,r;return{c(){e=y("li"),t=y("div"),l=L(),s=y("span"),i=N(a),r=L(),this.h()},l(f){e=D(f,"LI",{class:!0});var c=I(e);t=D(c,"DIV",{class:!0}),I(t).forEach(u),l=j(c),s=D(c,"SPAN",{class:!0});var _=I(s);i=V(_,a),_.forEach(u),r=j(c),c.forEach(u),this.h()},h(){E(t,"class","legend-vis "+(n[13]==0?"bar":"marker-vis")+" svelte-neen7z"),E(s,"class",o=""+(Me(n[13]==0?"bold":"brackets")+" svelte-neen7z")),E(e,"class","svelte-neen7z")},m(f,c){w(f,e,c),p(e,t),p(e,l),p(e,s),p(s,i),p(e,r)},p(f,c){c&16&&a!==(a=f[18]+"")&&Z(i,a)},d(f){f&&u(e)}}}function ps(n){let e,t=n[11].values,l=[];for(let s=0;s<t.length;s+=1)l[s]=jl(Nl(n,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=q()},l(s){for(let a=0;a<l.length;a+=1)l[a].l(s);e=q()},m(s,a){for(let i=0;i<l.length;i+=1)l[i].m(s,a);w(s,e,a)},p(s,a){if(a&45){t=s[11].values;let i;for(i=0;i<t.length;i+=1){const o=Nl(s,t,i);l[i]?l[i].p(o,a):(l[i]=jl(o),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(s){re(l,s),s&&u(e)}}}function ks(n){let e,t=n[11].values,l=[];for(let s=0;s<t.length;s+=1)l[s]=Ml(Vl(n,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=q()},l(s){for(let a=0;a<l.length;a+=1)l[a].l(s);e=q()},m(s,a){for(let i=0;i<l.length;i+=1)l[i].m(s,a);w(s,e,a)},p(s,a){if(a&45){t=s[11].values;let i;for(i=0;i<t.length;i+=1){const o=Vl(s,t,i);l[i]?l[i].p(o,a):(l[i]=Ml(o),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(s){re(l,s),s&&u(e)}}}function jl(n){let e,t,l=`calc(100% - ${n[14].offset<0?n[3](n[14][n[0]]-n[14].offset):n[3](n[14][n[0]])}%)`,s=`${n[3](n[14].offset)}%`,a=`${n[16]/n[5].length*100}%`,i=`${1/n[5].length*100}%`;return{c(){e=y("div"),this.h()},l(o){e=D(o,"DIV",{class:!0,style:!0}),I(e).forEach(u),this.h()},h(){E(e,"class","marker svelte-neen7z"),E(e,"style",t="border-"+(n[14].offset<0?"top":"bottom")+": none"),M(e,"top",l,!1),M(e,"height",s,!1),M(e,"left",a,!1),M(e,"width",i,!1)},m(o,r){w(o,e,r)},p(o,r){r&4&&t!==(t="border-"+(o[14].offset<0?"top":"bottom")+": none")&&E(e,"style",t),r&13&&l!==(l=`calc(100% - ${o[14].offset<0?o[3](o[14][o[0]]-o[14].offset):o[3](o[14][o[0]])}%)`)&&M(e,"top",l,!1),r&12&&s!==(s=`${o[3](o[14].offset)}%`)&&M(e,"height",s,!1),r&32&&a!==(a=`${o[16]/o[5].length*100}%`)&&M(e,"left",a,!1),r&32&&i!==(i=`${1/o[5].length*100}%`)&&M(e,"width",i,!1)},d(o){o&&u(e)}}}function Ml(n){let e,t=`${100-n[3](n[14][n[0]])}%`,l=`${n[3](n[14][n[0]])}%`,s=`${n[16]/n[5].length*100}%`,a=`${1/n[5].length*100}%`;return{c(){e=y("div"),this.h()},l(i){e=D(i,"DIV",{class:!0}),I(e).forEach(u),this.h()},h(){E(e,"class","bar svelte-neen7z"),M(e,"top",t,!1),M(e,"height",l,!1),M(e,"left",s,!1),M(e,"width",a,!1)},m(i,o){w(i,e,o)},p(i,o){o&13&&t!==(t=`${100-i[3](i[14][i[0]])}%`)&&M(e,"top",t,!1),o&13&&l!==(l=`${i[3](i[14][i[0]])}%`)&&M(e,"height",l,!1),o&32&&s!==(s=`${i[16]/i[5].length*100}%`)&&M(e,"left",s,!1),o&32&&a!==(a=`${1/i[5].length*100}%`)&&M(e,"width",a,!1)},d(i){i&&u(e)}}}function Kl(n){let e;function t(a,i){return a[13]==0?ks:ps}let s=t(n)(n);return{c(){s.c(),e=q()},l(a){s.l(a),e=q()},m(a,i){s.m(a,i),w(a,e,i)},p(a,i){s.p(a,i)},d(a){s.d(a),a&&u(e)}}}function Es(n){let e,t,l,s=`${n[1]}px`,a,i,o,r,f,c,_,m=n[4][1]&&Tl(n),g=n[2],v=[];for(let h=0;h<g.length;h+=1)v[h]=Kl(Al(n,g,h));return{c(){e=y("ul"),m&&m.c(),t=L(),l=y("div");for(let h=0;h<v.length;h+=1)v[h].c();a=L(),i=y("div"),o=y("div"),r=N("0 years"),f=L(),c=y("div"),_=N("90+"),this.h()},l(h){e=D(h,"UL",{class:!0});var b=I(e);m&&m.l(b),b.forEach(u),t=j(h),l=D(h,"DIV",{class:!0});var d=I(l);for(let K=0;K<v.length;K+=1)v[K].l(d);d.forEach(u),a=j(h),i=D(h,"DIV",{class:!0});var k=I(i);o=D(k,"DIV",{class:!0});var P=I(o);r=V(P,"0 years"),P.forEach(u),f=j(k),c=D(k,"DIV",{class:!0});var z=I(c);_=V(z,"90+"),z.forEach(u),k.forEach(u),this.h()},h(){E(e,"class","legend-block svelte-neen7z"),E(l,"class","bar-group svelte-neen7z"),M(l,"height",s,!1),E(o,"class","svelte-neen7z"),M(o,"left",0,!1),E(c,"class","svelte-neen7z"),M(c,"right",0,!1),E(i,"class","x-scale svelte-neen7z"),M(i,"height","1rem",!1)},m(h,b){w(h,e,b),m&&m.m(e,null),w(h,t,b),w(h,l,b);for(let d=0;d<v.length;d+=1)v[d].m(l,null);w(h,a,b),w(h,i,b),p(i,o),p(o,r),p(i,f),p(i,c),p(c,_)},p(h,[b]){if(h[4][1]?m?m.p(h,b):(m=Tl(h),m.c(),m.m(e,null)):m&&(m.d(1),m=null),b&45){g=h[2];let d;for(d=0;d<g.length;d+=1){const k=Al(h,g,d);v[d]?v[d].p(k,b):(v[d]=Kl(k),v[d].c(),v[d].m(l,null))}for(;d<v.length;d+=1)v[d].d(1);v.length=g.length}b&2&&s!==(s=`${h[1]}px`)&&M(l,"height",s,!1)},i:O,o:O,d(h){h&&u(e),m&&m.d(),h&&u(t),h&&u(l),re(v,h),h&&u(a),h&&u(i)}}}function ws(n,e,t){let l,s,a,i,o,{data:r}=e,{xKey:f="category"}=e,{yKey:c="value"}=e,{zKey:_="group"}=e,{height:m=65}=e;function g(v,h){let b={};for(const k of v){b[k[h]]||(b[k[h]]={label:k[h],values:[]});let P=b[k[h]].values.length,z=P==0?0:k[c]-b[k[h]].values[P-1][c];b[k[h]].values.push(Ye(Ee({},k),{offset:z}))}let d=[];for(const k in b)d.push(b[k]);return d}return n.$$set=v=>{"data"in v&&t(6,r=v.data),"xKey"in v&&t(7,f=v.xKey),"yKey"in v&&t(0,c=v.yKey),"zKey"in v&&t(8,_=v.zKey),"height"in v&&t(1,m=v.height)},n.$$.update=()=>{n.$$.dirty&192&&t(5,l=r.map(v=>v[f]).filter((v,h,b)=>b.indexOf(v)===h)),n.$$.dirty&65&&t(9,s=[0,Math.max(...r.map(v=>v[c]))]),n.$$.dirty&320&&t(4,a=r.map(v=>v[_]).filter((v,h,b)=>b.indexOf(v)===h)),n.$$.dirty&512&&t(3,i=v=>Math.abs(v/s[1])*100),n.$$.dirty&320&&t(2,o=g(r,_))},[c,m,o,i,a,l,r,f,_,s]}class ys extends ne{constructor(e){super();ie(this,e,ws,Es,oe,{data:6,xKey:7,yKey:0,zKey:8,height:1})}}function Bl(n,e,t){const l=n.slice();return l[10]=e[t],l[12]=t,l}function ql(n){let e,t,l,s,a,i=n[6](n[4][n[12]])+"",o;return{c(){e=y("div"),t=L(),l=y("div"),s=L(),a=y("div"),o=N(i),this.h()},l(r){e=D(r,"DIV",{class:!0,style:!0}),I(e).forEach(u),t=j(r),l=D(r,"DIV",{class:!0,style:!0}),I(l).forEach(u),s=j(r),a=D(r,"DIV",{class:!0,style:!0});var f=I(a);o=V(f,i),f.forEach(u),this.h()},h(){E(e,"class","block svelte-1a3ut6y"),M(e,"width",100/(n[4].length-1)+"%"),M(e,"left",n[12]*(100/(n[4].length-1))+"%"),M(e,"background-color",n[5][n[12]]),E(l,"class","line svelte-1a3ut6y"),M(l,"left",n[12]*(100/(n[4].length-1))+"%"),E(a,"class","tick svelte-1a3ut6y"),M(a,"left",n[12]*(100/(n[4].length-1))+"%"),_e(a,"tick-start",n[12]==0)},m(r,f){w(r,e,f),w(r,t,f),w(r,l,f),w(r,s,f),w(r,a,f),p(a,o)},p(r,f){f&16&&M(e,"width",100/(r[4].length-1)+"%"),f&16&&M(e,"left",r[12]*(100/(r[4].length-1))+"%"),f&32&&M(e,"background-color",r[5][r[12]]),f&16&&M(l,"left",r[12]*(100/(r[4].length-1))+"%"),f&80&&i!==(i=r[6](r[4][r[12]])+"")&&Z(o,i),f&16&&M(a,"left",r[12]*(100/(r[4].length-1))+"%")},d(r){r&&u(e),r&&u(t),r&&u(l),r&&u(s),r&&u(a)}}}function Hl(n){let e,t,l,s=n[7](n[1])+"",a,i;return{c(){e=y("div"),t=L(),l=y("div"),a=N(s),i=N(n[8]),this.h()},l(o){e=D(o,"DIV",{class:!0,style:!0}),I(e).forEach(u),t=j(o),l=D(o,"DIV",{class:!0,style:!0});var r=I(l);a=V(r,s),i=V(r,n[8]),r.forEach(u),this.h()},h(){E(e,"class","marker svelte-1a3ut6y"),M(e,"width",n[2]+"px"),M(e,"left","calc("+n[9](n[1],n[4])+"% - "+n[2]/2+"px)"),E(l,"class","value svelte-1a3ut6y"),M(l,"left",n[9](n[1],n[4])+"%")},m(o,r){w(o,e,r),w(o,t,r),w(o,l,r),p(l,a),p(l,i)},p(o,r){r&4&&M(e,"width",o[2]+"px"),r&22&&M(e,"left","calc("+o[9](o[1],o[4])+"% - "+o[2]/2+"px)"),r&130&&s!==(s=o[7](o[1])+"")&&Z(a,s),r&256&&Z(i,o[8]),r&18&&M(l,"left",o[9](o[1],o[4])+"%")},d(o){o&&u(e),o&&u(t),o&&u(l)}}}function Ol(n){let e,t,l,s=n[7](n[0])+"",a,i;return{c(){e=y("div"),t=L(),l=y("div"),a=N(s),i=N(n[8]),this.h()},l(o){e=D(o,"DIV",{class:!0,style:!0}),I(e).forEach(u),t=j(o),l=D(o,"DIV",{class:!0,style:!0});var r=I(l);a=V(r,s),i=V(r,n[8]),r.forEach(u),this.h()},h(){E(e,"class","marker marker-hovered svelte-1a3ut6y"),M(e,"width",n[2]+"px"),M(e,"left","calc("+n[9](n[0],n[4])+"% - "+n[2]/2+"px)"),E(l,"class","value svelte-1a3ut6y"),M(l,"left",n[9](n[0],n[4])+"%")},m(o,r){w(o,e,r),w(o,t,r),w(o,l,r),p(l,a),p(l,i)},p(o,r){r&4&&M(e,"width",o[2]+"px"),r&21&&M(e,"left","calc("+o[9](o[0],o[4])+"% - "+o[2]/2+"px)"),r&129&&s!==(s=o[7](o[0])+"")&&Z(a,s),r&256&&Z(i,o[8]),r&17&&M(l,"left",o[9](o[0],o[4])+"%")},d(o){o&&u(e),o&&u(t),o&&u(l)}}}function Ds(n){let e,t,l,s,a,i=n[6](n[4][n[4].length-1])+"",o,r,f,c,_=n[4].slice(1),m=[];for(let h=0;h<_.length;h+=1)m[h]=ql(Bl(n,_,h));let g=n[1]&&Hl(n),v=n[0]&&Ol(n);return{c(){e=y("div");for(let h=0;h<m.length;h+=1)m[h].c();t=L(),l=y("div"),s=L(),a=y("div"),o=N(i),r=N(n[8]),f=L(),g&&g.c(),c=L(),v&&v.c(),this.h()},l(h){e=D(h,"DIV",{class:!0,style:!0});var b=I(e);for(let k=0;k<m.length;k+=1)m[k].l(b);t=j(b),l=D(b,"DIV",{class:!0,style:!0}),I(l).forEach(u),s=j(b),a=D(b,"DIV",{class:!0,style:!0});var d=I(a);o=V(d,i),r=V(d,n[8]),d.forEach(u),f=j(b),g&&g.l(b),c=j(b),v&&v.l(b),b.forEach(u),this.h()},h(){E(l,"class","line svelte-1a3ut6y"),M(l,"left","100%"),E(a,"class","tick tick-end svelte-1a3ut6y"),M(a,"left","100%"),E(e,"class","container svelte-1a3ut6y"),M(e,"height",n[3]+"px")},m(h,b){w(h,e,b);for(let d=0;d<m.length;d+=1)m[d].m(e,null);p(e,t),p(e,l),p(e,s),p(e,a),p(a,o),p(a,r),p(e,f),g&&g.m(e,null),p(e,c),v&&v.m(e,null)},p(h,[b]){if(b&112){_=h[4].slice(1);let d;for(d=0;d<_.length;d+=1){const k=Bl(h,_,d);m[d]?m[d].p(k,b):(m[d]=ql(k),m[d].c(),m[d].m(e,t))}for(;d<m.length;d+=1)m[d].d(1);m.length=_.length}b&80&&i!==(i=h[6](h[4][h[4].length-1])+"")&&Z(o,i),b&256&&Z(r,h[8]),h[1]?g?g.p(h,b):(g=Hl(h),g.c(),g.m(e,c)):g&&(g.d(1),g=null),h[0]?v?v.p(h,b):(v=Ol(h),v.c(),v.m(e,null)):v&&(v.d(1),v=null),b&8&&M(e,"height",h[3]+"px")},i:O,o:O,d(h){h&&u(e),re(m,h),g&&g.d(),v&&v.d()}}}function Is(n,e,t){let{hovered:l=null}=e,{selected:s=null}=e,{lineWidth:a=3}=e,{height:i=15}=e,{breaks:o=[0,20,40,60,80,100]}=e,{colors:r=["rgba(234,236,177,.8)","rgba(169,216,145,.8)","rgba(0,167,186,.8)","rgba(0,78,166,.8)","rgba(0,13,84,.8)"]}=e,{formatTick:f=g=>g.toFixed(0)}=e,{formatVal:c=g=>g.toFixed(1)}=e,{suffix:_="%"}=e;const m=(g,v)=>{let h=0;for(;g>v[h+1];)h+=1;let b=100/(v.length-1),d=(g-v[h])/(v[h+1]-v[h]);return(h+d)*b};return n.$$set=g=>{"hovered"in g&&t(0,l=g.hovered),"selected"in g&&t(1,s=g.selected),"lineWidth"in g&&t(2,a=g.lineWidth),"height"in g&&t(3,i=g.height),"breaks"in g&&t(4,o=g.breaks),"colors"in g&&t(5,r=g.colors),"formatTick"in g&&t(6,f=g.formatTick),"formatVal"in g&&t(7,c=g.formatVal),"suffix"in g&&t(8,_=g.suffix)},[l,s,a,i,o,r,f,c,_,m]}class Ss extends ne{constructor(e){super();ie(this,e,Is,Ds,oe,{hovered:0,selected:1,lineWidth:2,height:3,breaks:4,colors:5,formatTick:6,formatVal:7,suffix:8})}}function Fl(n,e,t){const l=n.slice();return l[2]=e[t],l[4]=t,l}function Wl(n){let e,t,l=n[4]+n[1]+"",s,a,i,o,r,f=n[2].name+"",c,_,m,g=n[2].value.toFixed(1)+"",v,h,b;return{c(){e=y("tr"),t=y("td"),s=N(l),a=N("."),i=L(),o=y("td"),r=y("strong"),c=N(f),_=L(),m=y("td"),v=N(g),h=N("%"),b=L(),this.h()},l(d){e=D(d,"TR",{});var k=I(e);t=D(k,"TD",{class:!0});var P=I(t);s=V(P,l),a=V(P,"."),P.forEach(u),i=j(k),o=D(k,"TD",{});var z=I(o);r=D(z,"STRONG",{});var K=I(r);c=V(K,f),K.forEach(u),z.forEach(u),_=j(k),m=D(k,"TD",{class:!0});var Y=I(m);v=V(Y,g),h=V(Y,"%"),Y.forEach(u),b=j(k),k.forEach(u),this.h()},h(){E(t,"class","w35 svelte-k5j86q"),E(m,"class","text-right svelte-k5j86q")},m(d,k){w(d,e,k),p(e,t),p(t,s),p(t,a),p(e,i),p(e,o),p(o,r),p(r,c),p(e,_),p(e,m),p(m,v),p(m,h),p(e,b)},p(d,k){k&2&&l!==(l=d[4]+d[1]+"")&&Z(s,l),k&1&&f!==(f=d[2].name+"")&&Z(c,f),k&1&&g!==(g=d[2].value.toFixed(1)+"")&&Z(v,g)},d(d){d&&u(e)}}}function zs(n){let e,t,l=n[0],s=[];for(let a=0;a<l.length;a+=1)s[a]=Wl(Fl(n,l,a));return{c(){e=y("table"),t=y("tbody");for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l(a){e=D(a,"TABLE",{class:!0});var i=I(e);t=D(i,"TBODY",{});var o=I(t);for(let r=0;r<s.length;r+=1)s[r].l(o);o.forEach(u),i.forEach(u),this.h()},h(){E(e,"class","table-rank text-small svelte-k5j86q")},m(a,i){w(a,e,i),p(e,t);for(let o=0;o<s.length;o+=1)s[o].m(t,null)},p(a,[i]){if(i&3){l=a[0];let o;for(o=0;o<l.length;o+=1){const r=Fl(a,l,o);s[o]?s[o].p(r,i):(s[o]=Wl(r),s[o].c(),s[o].m(t,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=l.length}},i:O,o:O,d(a){a&&u(e),re(s,a)}}}function Cs(n,e,t){let{data:l}=e,{offset:s=1}=e;return n.$$set=a=>{"data"in a&&t(0,l=a.data),"offset"in a&&t(1,s=a.offset)},[l,s]}class Rl extends ne{constructor(e){super();ie(this,e,Cs,zs,oe,{data:0,offset:1})}}function Ul(n){let e;const t=n[15].default,l=we(t,n,n[14],null);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,a){l&&l.m(s,a),e=!0},p(s,a){l&&l.p&&(!e||a&16384)&&ye(l,t,s,s[14],e?Ie(t,s[14],a,null):De(s[14]),null)},i(s){e||(S(l,s),e=!0)},o(s){A(l,s),e=!1},d(s){l&&l.d(s)}}}function As(n){let e,t,l,s=n[0]&&Ul(n);return{c(){e=y("div"),s&&s.c(),this.h()},l(a){e=D(a,"DIV",{class:!0,id:!0});var i=I(e);s&&s.l(i),i.forEach(u),this.h()},h(){E(e,"class","absolute top-0 bg-grey4 w-full h-full svelte-a65d1y"),E(e,"id",n[1]),He(()=>n[16].call(e))},m(a,i){w(a,e,i),s&&s.m(e,null),t=yt(e,n[16].bind(e)),n[17](e),l=!0},p(a,[i]){a[0]?s?(s.p(a,i),i&1&&S(s,1)):(s=Ul(a),s.c(),S(s,1),s.m(e,null)):s&&(le(),A(s,1,1,()=>{s=null}),te()),(!l||i&2)&&E(e,"id",a[1])},i(a){l||(S(s),l=!0)},o(a){A(s),l=!1},d(a){a&&u(e),s&&s.d(),t(),n[17](null)}}}function Ns(n,e,t){let{$$slots:l={},$$scope:s}=e,{map:a}=e,{id:i="map"}=e,{location:o={bounds:[[-5.816,49.864],[1.863,55.872]]}}=e,{maxbounds:r=[[-13,48],[5,60]]}=e,{style:f="https://bothness.github.io/ons-basemaps/data/style-omt.json"}=e,{interactive:c=!0}=e,{minzoom:_=0}=e,{maxzoom:m=14}=e,{zoom:g=null}=e,{scrollzoom:v=!0}=e,{geolocate:h=!0}=e,{zoomcontrol:b=!0}=e,d,k,P;Ve("map",{getMap:()=>a}),o.bounds?P={bounds:o.bounds}:o.lon&&o.lat&&(P={center:[o.lon,o.lat]},o.zoom&&(P.zoom=o.zoom)),r&&(P.maxBounds=r),Dt(()=>{const T=document.createElement("link");return T.rel="stylesheet",T.href="https://unpkg.com/mapbox-gl@1.13.0/dist/mapbox-gl.css",T.onload=()=>{t(0,a=new Ke.Map(Ee({container:d,style:f,minZoom:_,maxZoom:m,interactive:c},P))),b&&a.addControl(new Ke.NavigationControl({showCompass:!1})),v||a.scrollZoom.disable(),h&&a.addControl(new Ke.GeolocateControl),a.on("load",()=>{t(4,g=a.getZoom())}),a.on("zoom",()=>{t(4,g=a.getZoom())})},document.head.appendChild(T),()=>{a.remove(),T.parentNode.removeChild(T)}});function z(){let T=document.getElementsByClassName("mapboxgl-canvas");T[0]&&(T[0].style.width="100%",a.resize())}function K(){k=this.clientWidth,t(2,k)}function Y(T){Oe[T?"unshift":"push"](()=>{d=T,t(3,d)})}return n.$$set=T=>{"map"in T&&t(0,a=T.map),"id"in T&&t(1,i=T.id),"location"in T&&t(5,o=T.location),"maxbounds"in T&&t(6,r=T.maxbounds),"style"in T&&t(7,f=T.style),"interactive"in T&&t(8,c=T.interactive),"minzoom"in T&&t(9,_=T.minzoom),"maxzoom"in T&&t(10,m=T.maxzoom),"zoom"in T&&t(4,g=T.zoom),"scrollzoom"in T&&t(11,v=T.scrollzoom),"geolocate"in T&&t(12,h=T.geolocate),"zoomcontrol"in T&&t(13,b=T.zoomcontrol),"$$scope"in T&&t(14,s=T.$$scope)},n.$$.update=()=>{n.$$.dirty&4&&k&&z()},[a,i,k,d,g,o,r,f,c,_,m,v,h,b,s,l,K,Y]}class Vs extends ne{constructor(e){super();ie(this,e,Ns,As,oe,{map:0,id:1,location:5,maxbounds:6,style:7,interactive:8,minzoom:9,maxzoom:10,zoom:4,scrollzoom:11,geolocate:12,zoomcontrol:13})}}function Zl(n){let e;const t=n[11].default,l=we(t,n,n[10],null);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,a){l&&l.m(s,a),e=!0},p(s,a){l&&l.p&&(!e||a&1024)&&ye(l,t,s,s[10],e?Ie(t,s[10],a,null):De(s[10]),null)},i(s){e||(S(l,s),e=!0)},o(s){A(l,s),e=!1},d(s){l&&l.d(s)}}}function Ps(n){let e,t,l=n[0]&&Zl(n);return{c(){l&&l.c(),e=q()},l(s){l&&l.l(s),e=q()},m(s,a){l&&l.m(s,a),w(s,e,a),t=!0},p(s,[a]){s[0]?l?(l.p(s,a),a&1&&S(l,1)):(l=Zl(s),l.c(),S(l,1),l.m(e.parentNode,e)):l&&(le(),A(l,1,1,()=>{l=null}),te())},i(s){t||(S(l),t=!0)},o(s){A(l),t=!1},d(s){l&&l.d(s),s&&u(e)}}}function Ts(n,e,t){let{$$slots:l={},$$scope:s}=e,{id:a}=e,{type:i}=e,{url:o=null}=e,{props:r={}}=e,{data:f=null}=e,{layer:c=null}=e,{promoteId:_=null}=e,{minzoom:m=null}=e,{maxzoom:g=null}=e,v=!1;const{getMap:h}=Ne("map"),b=h();Ve("source",{source:a,sourceLayer:c}),b.getSource(a)&&b.removeSource(a);function d(){b.isSourceLoaded(a)?(t(0,v=!0),console.log(a+" loaded!")):setTimeout(()=>{console.log("..."),d()},500)}function k(){b.isStyleLoaded(a)?(P(),document.querySelector("#map canvas")&&document.querySelector("#map canvas").tabIndex=="0"&&(document.querySelector("#map canvas").tabIndex="-1")):setTimeout(()=>{console.log("..."),k()},500)}m&&(r.minzoom=m),g&&(r.maxzoom=g),c&&_?(r.promoteId={},r.promoteId[c]=_):_&&(r.promoteId=_);function P(){console.log(a+" map source loading..."),i=="geojson"?f?(b.addSource(a,Ee({type:i,data:f},r)),d()):o&&(b.addSource(a,Ee({type:i,data:o},r)),d()):i=="vector"&&(b.addSource(a,Ee({type:i,tiles:[o]},r)),d())}k();function z(){b.getSource(a).setData(f)}return n.$$set=K=>{"id"in K&&t(2,a=K.id),"type"in K&&t(3,i=K.type),"url"in K&&t(4,o=K.url),"props"in K&&t(1,r=K.props),"data"in K&&t(5,f=K.data),"layer"in K&&t(6,c=K.layer),"promoteId"in K&&t(7,_=K.promoteId),"minzoom"in K&&t(8,m=K.minzoom),"maxzoom"in K&&t(9,g=K.maxzoom),"$$scope"in K&&t(10,s=K.$$scope)},n.$$.update=()=>{n.$$.dirty&33&&v&&f&&z()},[v,r,a,i,o,f,c,_,m,g,s,l]}class Ls extends ne{constructor(e){super();ie(this,e,Ts,Ps,oe,{id:2,type:3,url:4,props:1,data:5,layer:6,promoteId:7,minzoom:8,maxzoom:9})}}function js(n,e,t){const l=It(),s=new Ke.Popup({closeButton:!1,closeOnClick:!1});let{id:a}=e,{type:i}=e,{filter:o=null}=e,{layout:r={}}=e,{paint:f={}}=e,{data:c=null}=e,{geoCode:_=null}=e,{colorCode:m=null}=e,{nameCode:g=null}=e,{valueCode:v=null}=e,{click:h=!1}=e,{ignoreClick:b=!1}=e,{clickCenter:d=!1}=e,{selected:k=null}=e,{hover:P=!1}=e,{hovered:z=null}=e,{highlight:K=!1}=e,{highlightKey:Y="highlighted"}=e,{highlighted:T=[]}=e,{order:X=null}=e,{maxzoom:H=null}=e,{minzoom:G=null}=e,{tooltip:be=!1}=e;const{source:ee,sourceLayer:$}=Ne("source"),{getMap:de}=Ne("map"),Q=de();let me=null,pe=null,ze=[];Q.getLayer(a)&&Q.removeLayer(a);let Ce={id:a,type:i,source:ee,paint:f,layout:r};o&&(Ce.filter=o),$&&(Ce["source-layer"]=$),H&&(Ce.maxzoom=H),G&&(Ce.minzoom=G),Q.addLayer(Ce,X);function B(){c.forEach(C=>{Q.setFeatureState({source:ee,sourceLayer:$,id:C[_]},{color:m?C[m]:null,name:g?C[g]:null,value:v?C[v]:null})})}return h&&Q.on("click",a,C=>{if(C.features.length>0&&!b){if(t(0,k=C.features[0].id),l("select",{code:k}),me&&Q.setFeatureState({source:ee,sourceLayer:$,id:me},{selected:!1}),Q.setFeatureState({source:ee,sourceLayer:$,id:k},{selected:!0}),d){let J=centroid(C.features[0].toJSON().geometry);Q.flyTo({center:J.geometry.coordinates})}t(23,me=k)}}),P&&(Q.on("mousemove",a,C=>{if(C.features.length>0){z&&Q.setFeatureState({source:ee,sourceLayer:$,id:z},{hovered:!1}),t(1,z=t(24,pe=C.features[0].id)),Q.setFeatureState({source:ee,sourceLayer:$,id:z},{hovered:!0}),Q.getCanvas().style.cursor="pointer";let J=Q.getFeatureState({source:ee,sourceLayer:$,id:z});be&&J.name&&s.setLngLat(C.lngLat).setHTML(`<strong>${J.name}</strong>${J.value?"<br/>"+J.value.toFixed(1)+"%":"<br/>Data not available"}`).addTo(Q)}}),Q.on("mouseleave",a,C=>{z&&Q.setFeatureState({source:ee,sourceLayer:$,id:z},{hovered:!1}),t(1,z=t(24,pe=null)),Q.getCanvas().style.cursor="",be&&s.remove()})),n.$$set=C=>{"id"in C&&t(2,a=C.id),"type"in C&&t(3,i=C.type),"filter"in C&&t(4,o=C.filter),"layout"in C&&t(5,r=C.layout),"paint"in C&&t(6,f=C.paint),"data"in C&&t(7,c=C.data),"geoCode"in C&&t(8,_=C.geoCode),"colorCode"in C&&t(9,m=C.colorCode),"nameCode"in C&&t(10,g=C.nameCode),"valueCode"in C&&t(11,v=C.valueCode),"click"in C&&t(12,h=C.click),"ignoreClick"in C&&t(13,b=C.ignoreClick),"clickCenter"in C&&t(14,d=C.clickCenter),"selected"in C&&t(0,k=C.selected),"hover"in C&&t(15,P=C.hover),"hovered"in C&&t(1,z=C.hovered),"highlight"in C&&t(16,K=C.highlight),"highlightKey"in C&&t(17,Y=C.highlightKey),"highlighted"in C&&t(18,T=C.highlighted),"order"in C&&t(19,X=C.order),"maxzoom"in C&&t(20,H=C.maxzoom),"minzoom"in C&&t(21,G=C.minzoom),"tooltip"in C&&t(22,be=C.tooltip)},n.$$.update=()=>{n.$$.dirty[0]&640&&(c||m)&&B(),n.$$.dirty[0]&34013184&&K&&T!=ze&&(ze[0]&&ze.forEach(C=>{let J={};J[Y]=!1,Q.setFeatureState({source:ee,sourceLayer:$,id:C},J)}),t(25,ze=T),T[0]&&T.forEach(C=>{let J={};J[Y]=!0,Q.setFeatureState({source:ee,sourceLayer:$,id:C},J)})),n.$$.dirty[0]&8392705&&h&&k!=me&&(me&&Q.setFeatureState({source:ee,sourceLayer:$,id:me},{selected:!1}),k&&Q.setFeatureState({source:ee,sourceLayer:$,id:k},{selected:!0}),t(23,me=k)),n.$$.dirty[0]&16809986&&P&&z!=pe&&(pe&&Q.setFeatureState({source:ee,sourceLayer:$,id:pe},{hovered:!1}),z&&Q.setFeatureState({source:ee,sourceLayer:$,id:z},{hovered:!0}),t(24,pe=z))},[k,z,a,i,o,r,f,c,_,m,g,v,h,b,d,P,K,Y,T,X,H,G,be,me,pe,ze]}class Gl extends ne{constructor(e){super();ie(this,e,js,null,oe,{id:2,type:3,filter:4,layout:5,paint:6,data:7,geoCode:8,colorCode:9,nameCode:10,valueCode:11,click:12,ignoreClick:13,clickCenter:14,selected:0,hover:15,hovered:1,highlight:16,highlightKey:17,highlighted:18,order:19,maxzoom:20,minzoom:21,tooltip:22},null,[-1,-1])}}function Ms(n){let e,t,l;const s=n[1].default,a=we(s,n,n[0],null);return{c(){e=y("div"),t=y("div"),a&&a.c(),this.h()},l(i){e=D(i,"DIV",{class:!0});var o=I(e);t=D(o,"DIV",{class:!0});var r=I(t);a&&a.l(r),r.forEach(u),o.forEach(u),this.h()},h(){E(t,"class","wrapper"),E(e,"class","page-content")},m(i,o){w(i,e,o),p(e,t),a&&a.m(t,null),l=!0},p(i,[o]){a&&a.p&&(!l||o&1)&&ye(a,s,i,i[0],l?Ie(s,i[0],o,null):De(i[0]),null)},i(i){l||(S(a,i),l=!0)},o(i){A(a,i),l=!1},d(i){i&&u(e),a&&a.d(i)}}}function Ks(n,e,t){let{$$slots:l={},$$scope:s}=e;return n.$$set=a=>{"$$scope"in a&&t(0,s=a.$$scope)},[s,l]}class Bs extends ne{constructor(e){super();ie(this,e,Ks,Ms,oe,{})}}function Jl(n){let e,t;return{c(){e=y("h2"),t=N(n[0]),this.h()},l(l){e=D(l,"H2",{id:!0});var s=I(e);t=V(s,n[0]),s.forEach(u),this.h()},h(){E(e,"id","topics")},m(l,s){w(l,e,s),p(e,t)},p(l,s){s&1&&Z(t,l[0])},d(l){l&&u(e)}}}function qs(n){let e,t,l,s,a=n[0]&&Jl(n);const i=n[2].default,o=we(i,n,n[1],null);return{c(){e=y("div"),a&&a.c(),t=L(),l=y("div"),o&&o.c(),this.h()},l(r){e=D(r,"DIV",{class:!0});var f=I(e);a&&a.l(f),t=j(f),l=D(f,"DIV",{class:!0});var c=I(l);o&&o.l(c),c.forEach(u),f.forEach(u),this.h()},h(){E(l,"class","tiles-grid margin-bottom svelte-wqvwdf"),E(e,"class","tiles")},m(r,f){w(r,e,f),a&&a.m(e,null),p(e,t),p(e,l),o&&o.m(l,null),s=!0},p(r,[f]){r[0]?a?a.p(r,f):(a=Jl(r),a.c(),a.m(e,t)):a&&(a.d(1),a=null),o&&o.p&&(!s||f&2)&&ye(o,i,r,r[1],s?Ie(i,r[1],f,null):De(r[1]),null)},i(r){s||(S(o,r),s=!0)},o(r){A(o,r),s=!1},d(r){r&&u(e),a&&a.d(),o&&o.d(r)}}}function Hs(n,e,t){let{$$slots:l={},$$scope:s}=e,{title:a=null}=e;return n.$$set=i=>{"title"in i&&t(0,a=i.title),"$$scope"in i&&t(1,s=i.$$scope)},[a,s,l]}class Ue extends ne{constructor(e){super();ie(this,e,Hs,qs,oe,{title:0})}}function Yl(n,e,t){const l=n.slice();return l[7]=e[t],l}function Ql(n){let e,t,l;return{c(){e=y("header"),t=y("h3"),l=N(n[2]),this.h()},l(s){e=D(s,"HEADER",{class:!0});var a=I(e);t=D(a,"H3",{class:!0});var i=I(t);l=V(i,n[2]),i.forEach(u),a.forEach(u),this.h()},h(){E(t,"class","margin-top--0 margin-right--0 margin-bottom--0 margin-left--0 svelte-xlic7g"),E(e,"class","margin-top--1")},m(s,a){w(s,e,a),p(e,t),p(t,l)},p(s,a){a&4&&Z(l,s[2])},d(s){s&&u(e)}}}function Xl(n){let e,t=n[3],l=[];for(let s=0;s<t.length;s+=1)l[s]=$l(Yl(n,t,s));return{c(){e=y("div");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=D(s,"DIV",{class:!0});var a=I(e);for(let i=0;i<l.length;i+=1)l[i].l(a);a.forEach(u),this.h()},h(){E(e,"class","margin-top--2")},m(s,a){w(s,e,a);for(let i=0;i<l.length;i+=1)l[i].m(e,null)},p(s,a){if(a&8){t=s[3];let i;for(i=0;i<t.length;i+=1){const o=Yl(s,t,i);l[i]?l[i].p(o,a):(l[i]=$l(o),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(s){s&&u(e),re(l,s)}}}function $l(n){let e,t=n[7].label+"",l,s,a,i,o;return{c(){e=y("a"),l=N(t),s=L(),this.h()},l(r){e=D(r,"A",{href:!0,class:!0,"aria-label":!0,"data-gtm-label":!0});var f=I(e);l=V(f,t),s=j(f),f.forEach(u),this.h()},h(){E(e,"href",a=n[7].url),E(e,"class","tile__link"),E(e,"aria-label",i=n[7].label),E(e,"data-gtm-label",o=n[7].label)},m(r,f){w(r,e,f),p(e,l),p(e,s)},p(r,f){f&8&&t!==(t=r[7].label+"")&&Z(l,t),f&8&&a!==(a=r[7].url)&&E(e,"href",a),f&8&&i!==(i=r[7].label)&&E(e,"aria-label",i),f&8&&o!==(o=r[7].label)&&E(e,"data-gtm-label",o)},d(r){r&&u(e)}}}function Os(n){let e,t,l,s,a=`span ${n[0]}`,i=`span ${n[1]}`,o,r=n[2]&&Ql(n);const f=n[6].default,c=we(f,n,n[5],null);let _=n[3]&&n[3][0]&&Xl(n);return{c(){e=y("div"),r&&r.c(),t=L(),c&&c.c(),l=L(),_&&_.c(),this.h()},l(m){e=D(m,"DIV",{class:!0});var g=I(e);r&&r.l(g),t=j(g),c&&c.l(g),l=j(g),_&&_.l(g),g.forEach(u),this.h()},h(){E(e,"class",s=""+(Me(n[4]?"":"tile tile__content")+" svelte-xlic7g")),_e(e,"blank",n[4]),M(e,"grid-column",a,!1),M(e,"grid-row",i,!1)},m(m,g){w(m,e,g),r&&r.m(e,null),p(e,t),c&&c.m(e,null),p(e,l),_&&_.m(e,null),o=!0},p(m,[g]){m[2]?r?r.p(m,g):(r=Ql(m),r.c(),r.m(e,t)):r&&(r.d(1),r=null),c&&c.p&&(!o||g&32)&&ye(c,f,m,m[5],o?Ie(f,m[5],g,null):De(m[5]),null),m[3]&&m[3][0]?_?_.p(m,g):(_=Xl(m),_.c(),_.m(e,null)):_&&(_.d(1),_=null),(!o||g&16&&s!==(s=""+(Me(m[4]?"":"tile tile__content")+" svelte-xlic7g")))&&E(e,"class",s),g&16&&_e(e,"blank",m[4]),g&1&&a!==(a=`span ${m[0]}`)&&M(e,"grid-column",a,!1),g&2&&i!==(i=`span ${m[1]}`)&&M(e,"grid-row",i,!1)},i(m){o||(S(c,m),o=!0)},o(m){A(c,m),o=!1},d(m){m&&u(e),r&&r.d(),c&&c.d(m),_&&_.d()}}}function Fs(n,e,t){let{$$slots:l={},$$scope:s}=e,{colspan:a=1}=e,{rowspan:i=1}=e,{title:o=null}=e,{links:r=null}=e,{blank:f=!1}=e;return n.$$set=c=>{"colspan"in c&&t(0,a=c.colspan),"rowspan"in c&&t(1,i=c.rowspan),"title"in c&&t(2,o=c.title),"links"in c&&t(3,r=c.links),"blank"in c&&t(4,f=c.blank),"$$scope"in c&&t(5,s=c.$$scope)},[a,i,o,r,f,s,l]}class fe extends ne{constructor(e){super();ie(this,e,Fs,Os,oe,{colspan:0,rowspan:1,title:2,links:3,blank:4})}}function xl(n,e,t){const l=n.slice();return l[36]=e[t],l[38]=t,l}function et(n,e,t){const l=n.slice();return l[39]=e[t],l}function lt(n,e,t){const l=n.slice();return l[42]=e[t],l[38]=t,l}function Ws(n){let e;return{c(){e=N("Key population explorer")},l(t){e=V(t,"Key population explorer")},m(t,l){w(t,e,l)},d(t){t&&u(e)}}}function Rs(n){let e,t,l,s,a,i,o,r,f,c,_;return e=new ds({props:{$$slots:{default:[Ws]},$$scope:{ctx:n}}}),{c(){F(e.$$.fragment),t=L(),l=y("p"),s=N("Select one or more identity characteristics to define a population group to compare with the whole population of England and Wales. For example, see "),a=y("a"),i=N("people of Sikh ethnicity born in the UK"),o=N(" or "),r=y("a"),f=N("people aged 65+ born in Ireland"),c=N("."),this.h()},l(m){W(e.$$.fragment,m),t=j(m),l=D(m,"P",{class:!0});var g=I(l);s=V(g,"Select one or more identity characteristics to define a population group to compare with the whole population of England and Wales. For example, see "),a=D(g,"A",{href:!0,class:!0});var v=I(a);i=V(v,"people of Sikh ethnicity born in the UK"),v.forEach(u),o=V(g," or "),r=D(g,"A",{href:!0,class:!0});var h=I(r);f=V(h,"people aged 65+ born in Ireland"),h.forEach(u),c=V(g,"."),g.forEach(u),this.h()},h(){E(a,"href","?religion=7&cob=1-5"),E(a,"class","svelte-o8m547"),E(r,"href","?age=65-90&cob=6"),E(r,"class","svelte-o8m547"),E(l,"class","subtitle svelte-o8m547")},m(m,g){R(e,m,g),w(m,t,g),w(m,l,g),p(l,s),p(l,a),p(a,i),p(l,o),p(l,r),p(r,f),p(l,c),_=!0},p(m,g){const v={};g[1]&8192&&(v.$$scope={dirty:g,ctx:m}),e.$set(v)},i(m){_||(S(e.$$.fragment,m),_=!0)},o(m){A(e.$$.fragment,m),_=!1},d(m){U(e,m),m&&u(t),m&&u(l)}}}function tt(n){let e,t=ue(n[42].label)+"",l,s;return{c(){e=y("option"),l=N(t),this.h()},l(a){e=D(a,"OPTION",{});var i=I(e);l=V(i,t),i.forEach(u),this.h()},h(){e.__value=s=n[42],e.value=e.__value},m(a,i){w(a,e,i),p(e,l)},p(a,i){i[0]&1024&&t!==(t=ue(a[42].label)+"")&&Z(l,t),i[0]&1024&&s!==(s=a[42])&&(e.__value=s,e.value=e.__value)},d(a){a&&u(e)}}}function st(n){let e,t,l,s,a,i,o=n[2].cats,r=[];for(let f=0;f<o.length;f+=1)r[f]=at(et(n,o,f));return{c(){e=y("select");for(let f=0;f<r.length;f+=1)r[f].c();t=L(),l=y("button"),s=N("Add"),this.h()},l(f){e=D(f,"SELECT",{class:!0});var c=I(e);for(let m=0;m<r.length;m+=1)r[m].l(c);c.forEach(u),t=j(f),l=D(f,"BUTTON",{class:!0});var _=I(l);s=V(_,"Add"),_.forEach(u),this.h()},h(){E(e,"class","svelte-o8m547"),n[3][n[2].label]===void 0&&He(()=>n[24].call(e)),E(l,"class","btn svelte-o8m547")},m(f,c){w(f,e,c);for(let _=0;_<r.length;_+=1)r[_].m(e,null);Be(e,n[3][n[2].label]),w(f,t,c),w(f,l,c),p(l,s),a||(i=[qe(e,"change",n[24]),qe(l,"mouseup",n[25])],a=!0)},p(f,c){if(c[0]&4){o=f[2].cats;let _;for(_=0;_<o.length;_+=1){const m=et(f,o,_);r[_]?r[_].p(m,c):(r[_]=at(m),r[_].c(),r[_].m(e,null))}for(;_<r.length;_+=1)r[_].d(1);r.length=o.length}c[0]&1036&&Be(e,f[3][f[2].label])},d(f){f&&u(e),re(r,f),f&&u(t),f&&u(l),a=!1,Nt(i)}}}function at(n){let e,t,l=(n[39].indent?Array.from({length:n[39].indent-1},n[23]).join("")+el:"")+"",s=ue(n[39].label)+"",a,i;return{c(){e=y("option"),t=new Ct,a=N(s),this.h()},l(o){e=D(o,"OPTION",{});var r=I(e);t=At(r),a=V(r,s),r.forEach(u),this.h()},h(){t.a=a,e.__value=i=n[39],e.value=e.__value},m(o,r){w(o,e,r),t.m(l,e),p(e,a)},p(o,r){r[0]&4&&l!==(l=(o[39].indent?Array.from({length:o[39].indent-1},o[23]).join("")+el:"")+"")&&t.p(l),r[0]&4&&s!==(s=ue(o[39].label)+"")&&Z(a,s),r[0]&1028&&i!==(i=o[39])&&(e.__value=i,e.value=e.__value)},d(o){o&&u(e)}}}function nt(n){let e,t,l,s=n[0],a=[];for(let i=0;i<s.length;i+=1)a[i]=it(xl(n,s,i));return{c(){e=y("br"),t=L();for(let i=0;i<a.length;i+=1)a[i].c();l=q()},l(i){e=D(i,"BR",{}),t=j(i);for(let o=0;o<a.length;o+=1)a[o].l(i);l=q()},m(i,o){w(i,e,o),w(i,t,o);for(let r=0;r<a.length;r+=1)a[r].m(i,o);w(i,l,o)},p(i,o){if(o[0]&4257){s=i[0];let r;for(r=0;r<s.length;r+=1){const f=xl(i,s,r);a[r]?a[r].p(f,o):(a[r]=it(f),a[r].c(),a[r].m(l.parentNode,l))}for(;r<a.length;r+=1)a[r].d(1);a.length=s.length}},d(i){i&&u(e),i&&u(t),re(a,i),i&&u(l)}}}function Us(n){let e,t,l=ue(n[36].topic)+"",s,a,i=ue(n[36].label)+"",o,r,f,c,_,m;function g(){return n[26](n[36])}return{c(){e=y("div"),t=y("span"),s=N(l),a=N(": "),o=N(i),r=L(),f=y("button"),c=L(),this.h()},l(v){e=D(v,"DIV",{class:!0});var h=I(e);t=D(h,"SPAN",{class:!0});var b=I(t);s=V(b,l),a=V(b,": "),o=V(b,i),b.forEach(u),r=j(h),f=D(h,"BUTTON",{class:!0}),I(f).forEach(u),c=j(h),h.forEach(u),this.h()},h(){E(t,"class","svelte-o8m547"),E(f,"class","svelte-o8m547"),E(e,"class","chip svelte-o8m547"),_e(e,"chip-inactive",n[38]>=n[7])},m(v,h){w(v,e,h),p(e,t),p(t,s),p(t,a),p(t,o),p(e,r),p(e,f),p(e,c),_||(m=qe(f,"click",g),_=!0)},p(v,h){n=v,h[0]&1&&l!==(l=ue(n[36].topic)+"")&&Z(s,l),h[0]&1&&i!==(i=ue(n[36].label)+"")&&Z(o,i),h[0]&128&&_e(e,"chip-inactive",n[38]>=n[7])},d(v){v&&u(e),_=!1,m()}}}function Zs(n){let e,t,l=ue(n[36].topic)+"",s,a,i=ue(n[36].label)+"",o,r,f,c;return{c(){e=y("div"),t=y("span"),s=N(l),a=N(": "),o=N(i),r=L(),f=y("div"),c=L(),this.h()},l(_){e=D(_,"DIV",{class:!0});var m=I(e);t=D(m,"SPAN",{class:!0});var g=I(t);s=V(g,l),a=V(g,": "),o=V(g,i),g.forEach(u),r=j(m),f=D(m,"DIV",{class:!0}),I(f).forEach(u),c=j(m),m.forEach(u),this.h()},h(){E(t,"class","svelte-o8m547"),E(f,"class","chip-loader svelte-o8m547"),E(e,"class","chip chip-pending svelte-o8m547")},m(_,m){w(_,e,m),p(e,t),p(t,s),p(t,a),p(t,o),p(e,r),p(e,f),p(e,c)},p(_,m){m[0]&1&&l!==(l=ue(_[36].topic)+"")&&Z(s,l),m[0]&1&&i!==(i=ue(_[36].label)+"")&&Z(o,i)},d(_){_&&u(e)}}}function it(n){let e;function t(a,i){return a[5]=="loading"&&a[38]==a[0].length-1?Zs:Us}let l=t(n),s=l(n);return{c(){s.c(),e=q()},l(a){s.l(a),e=q()},m(a,i){s.m(a,i),w(a,e,i)},p(a,i){l===(l=t(a))&&s?s.p(a,i):(s.d(1),s=l(a),s&&(s.c(),s.m(e.parentNode,e)))},d(a){s.d(a),a&&u(e)}}}function ot(n){let e,t,l,s=n[5]=="failed"&&rt(),a=n[6]==!0&&ft();return{c(){e=y("div"),t=N(`Some datasets not available for selected variables.
    `),s&&s.c(),l=L(),a&&a.c(),this.h()},l(i){e=D(i,"DIV",{class:!0});var o=I(e);t=V(o,`Some datasets not available for selected variables.
    `),s&&s.l(o),l=j(o),a&&a.l(o),o.forEach(u),this.h()},h(){E(e,"class","warning svelte-o8m547")},m(i,o){w(i,e,o),p(e,t),s&&s.m(e,null),p(e,l),a&&a.m(e,null)},p(i,o){i[5]=="failed"?s||(s=rt(),s.c(),s.m(e,l)):s&&(s.d(1),s=null),i[6]==!0?a||(a=ft(),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},d(i){i&&u(e),s&&s.d(),a&&a.d()}}}function rt(n){let e;return{c(){e=N("Try removing a variable to see more datasets.")},l(t){e=V(t,"Try removing a variable to see more datasets.")},m(t,l){w(t,e,l)},d(t){t&&u(e)}}}function ft(n){let e;return{c(){e=N("Economic indicators (employment, social status etc) not available for ages 0 to 15.")},l(t){e=V(t,"Economic indicators (employment, social status etc) not available for ages 0 to 15.")},m(t,l){w(t,e,l)},d(t){t&&u(e)}}}function Gs(n){let e,t,l,s=(n[10][0]?n[0][0]?"Select another characteristic":"Select a characteristic":"No more topics available")+"",a,i,o,r,f,c,_,m=n[10],g=[];for(let d=0;d<m.length;d+=1)g[d]=tt(lt(n,m,d));let v=n[2]&&st(n),h=n[0][0]&&nt(n),b=(n[5]=="failed"||n[6]==!0)&&ot(n);return{c(){e=y("div"),t=y("select"),l=y("option"),a=N(s);for(let d=0;d<g.length;d+=1)g[d].c();o=L(),v&&v.c(),r=L(),h&&h.c(),f=L(),b&&b.c(),this.h()},l(d){e=D(d,"DIV",{slot:!0,class:!0});var k=I(e);t=D(k,"SELECT",{class:!0});var P=I(t);l=D(P,"OPTION",{});var z=I(l);a=V(z,s),z.forEach(u);for(let K=0;K<g.length;K+=1)g[K].l(P);P.forEach(u),o=j(k),v&&v.l(k),r=j(k),h&&h.l(k),f=j(k),b&&b.l(k),k.forEach(u),this.h()},h(){l.__value=null,l.value=l.__value,t.disabled=i=!n[10][0],E(t,"class","svelte-o8m547"),n[2]===void 0&&He(()=>n[22].call(t)),E(e,"slot","meta"),E(e,"class","wrapper")},m(d,k){w(d,e,k),p(e,t),p(t,l),p(l,a);for(let P=0;P<g.length;P+=1)g[P].m(t,null);Be(t,n[2]),p(e,o),v&&v.m(e,null),p(e,r),h&&h.m(e,null),p(e,f),b&&b.m(e,null),c||(_=qe(t,"change",n[22]),c=!0)},p(d,k){if(k[0]&1025&&s!==(s=(d[10][0]?d[0][0]?"Select another characteristic":"Select a characteristic":"No more topics available")+"")&&Z(a,s),k[0]&1024){m=d[10];let P;for(P=0;P<m.length;P+=1){const z=lt(d,m,P);g[P]?g[P].p(z,k):(g[P]=tt(z),g[P].c(),g[P].m(t,null))}for(;P<g.length;P+=1)g[P].d(1);g.length=m.length}k[0]&1024&&i!==(i=!d[10][0])&&(t.disabled=i),k[0]&1028&&Be(t,d[2]),d[2]?v?v.p(d,k):(v=st(d),v.c(),v.m(e,r)):v&&(v.d(1),v=null),d[0][0]?h?h.p(d,k):(h=nt(d),h.c(),h.m(e,f)):h&&(h.d(1),h=null),d[5]=="failed"||d[6]==!0?b?b.p(d,k):(b=ot(d),b.c(),b.m(e,null)):b&&(b.d(1),b=null)},d(d){d&&u(e),re(g,d),v&&v.d(),h&&h.d(),b&&b.d(),c=!1,_()}}}function Js(n){let e,t=(Math.round(n[9].selected/n[9].all*100)>0?Math.round(n[9].selected/n[9].all*100):"<1")+"",l,s,a,i,o,r,f,c,_=n[9].selected.toLocaleString()+"",m,g,v=n[9].all.toLocaleString()+"",h,b;return{c(){e=y("div"),l=N(t),s=N("%"),a=L(),i=y("div"),o=N("of people in England and Wales"),r=L(),f=y("div"),c=y("mark"),m=N(_),g=N(" of "),h=N(v),b=N(" people"),this.h()},l(d){e=D(d,"DIV",{class:!0});var k=I(e);l=V(k,t),s=V(k,"%"),k.forEach(u),a=j(d),i=D(d,"DIV",{class:!0});var P=I(i);o=V(P,"of people in England and Wales"),P.forEach(u),r=j(d),f=D(d,"DIV",{class:!0});var z=I(f);c=D(z,"MARK",{class:!0});var K=I(c);m=V(K,_),K.forEach(u),g=V(z," of "),h=V(z,v),b=V(z," people"),z.forEach(u),this.h()},h(){E(e,"class","num-big svelte-o8m547"),E(i,"class","num-suffix svelte-o8m547"),E(c,"class","svelte-o8m547"),E(f,"class","num-desc svelte-o8m547")},m(d,k){w(d,e,k),p(e,l),p(e,s),w(d,a,k),w(d,i,k),p(i,o),w(d,r,k),w(d,f,k),p(f,c),p(c,m),p(f,g),p(f,h),p(f,b)},p(d,k){k[0]&512&&t!==(t=(Math.round(d[9].selected/d[9].all*100)>0?Math.round(d[9].selected/d[9].all*100):"<1")+"")&&Z(l,t),k[0]&512&&_!==(_=d[9].selected.toLocaleString()+"")&&Z(m,_),k[0]&512&&v!==(v=d[9].all.toLocaleString()+"")&&Z(h,v)},d(d){d&&u(e),d&&u(a),d&&u(i),d&&u(r),d&&u(f)}}}function Ys(n){let e,t=he.nodata+"",l;return{c(){e=y("div"),l=N(t),this.h()},l(s){e=D(s,"DIV",{class:!0});var a=I(e);l=V(a,t),a.forEach(u),this.h()},h(){E(e,"class","num-desc svelte-o8m547")},m(s,a){w(s,e,a),p(e,l)},p:O,d(s){s&&u(e)}}}function Qs(n){let e;function t(a,i){return a[9].selected==0?Ys:Js}let l=t(n),s=l(n);return{c(){s.c(),e=q()},l(a){s.l(a),e=q()},m(a,i){s.m(a,i),w(a,e,i)},p(a,i){l===(l=t(a))&&s?s.p(a,i):(s.d(1),s=l(a),s&&(s.c(),s.m(e.parentNode,e)))},d(a){s.d(a),a&&u(e)}}}function Xs(n){let e,t=n[14](n[8].selected)+"",l,s,a,i,o,r,f=n[9].all!=n[9].selected&&ct(n);return{c(){e=y("div"),l=N(t),s=L(),a=y("div"),i=N("years"),o=L(),f&&f.c(),r=q(),this.h()},l(c){e=D(c,"DIV",{class:!0});var _=I(e);l=V(_,t),_.forEach(u),s=j(c),a=D(c,"DIV",{class:!0});var m=I(a);i=V(m,"years"),m.forEach(u),o=j(c),f&&f.l(c),r=q(),this.h()},h(){E(e,"class","num-big svelte-o8m547"),E(a,"class","num-suffix svelte-o8m547")},m(c,_){w(c,e,_),p(e,l),w(c,s,_),w(c,a,_),p(a,i),w(c,o,_),f&&f.m(c,_),w(c,r,_)},p(c,_){_[0]&256&&t!==(t=c[14](c[8].selected)+"")&&Z(l,t),c[9].all!=c[9].selected?f?f.p(c,_):(f=ct(c),f.c(),f.m(r.parentNode,r)):f&&(f.d(1),f=null)},d(c){c&&u(e),c&&u(s),c&&u(a),c&&u(o),f&&f.d(c),c&&u(r)}}}function $s(n){let e,t=he.nodata+"",l;return{c(){e=y("div"),l=N(t),this.h()},l(s){e=D(s,"DIV",{class:!0});var a=I(e);l=V(a,t),a.forEach(u),this.h()},h(){E(e,"class","num-desc svelte-o8m547")},m(s,a){w(s,e,a),p(e,l)},p:O,d(s){s&&u(e)}}}function ct(n){let e,t,l=n[14](n[8].all)+"",s,a,i;return{c(){e=y("div"),t=y("mark"),s=N(l),a=N(" years"),i=N(" for whole population"),this.h()},l(o){e=D(o,"DIV",{class:!0});var r=I(e);t=D(r,"MARK",{class:!0});var f=I(t);s=V(f,l),a=V(f," years"),f.forEach(u),i=V(r," for whole population"),r.forEach(u),this.h()},h(){E(t,"class","svelte-o8m547"),E(e,"class","num-desc svelte-o8m547")},m(o,r){w(o,e,r),p(e,t),p(t,s),p(t,a),p(e,i)},p(o,r){r[0]&256&&l!==(l=o[14](o[8].all)+"")&&Z(s,l)},d(o){o&&u(e)}}}function xs(n){let e,t;function l(i,o){return o[0]&256&&(e=null),e==null&&(e=!!ve(i[8].selected.residents.age.values)),e?$s:Xs}let s=l(n,[-1,-1]),a=s(n);return{c(){a.c(),t=q()},l(i){a.l(i),t=q()},m(i,o){a.m(i,o),w(i,t,o)},p(i,o){s===(s=l(i,o))&&a?a.p(i,o):(a.d(1),a=s(i),a&&(a.c(),a.m(t.parentNode,t)))},d(i){a.d(i),i&&u(t)}}}function ea(n){let e,t;return e=new ys({props:{data:n[8].selected&&n[13](["residents","age"])}}),{c(){F(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,s){R(e,l,s),t=!0},p(l,s){const a={};s[0]&256&&(a.data=l[8].selected&&l[13](["residents","age"])),e.$set(a)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){U(e,l)}}}function la(n){let e,t=he.nodata+"",l;return{c(){e=y("span"),l=N(t),this.h()},l(s){e=D(s,"SPAN",{class:!0});var a=I(e);l=V(a,t),a.forEach(u),this.h()},h(){E(e,"class","num-desc svelte-o8m547")},m(s,a){w(s,e,a),p(e,l)},p:O,i:O,o:O,d(s){s&&u(e)}}}function ta(n){let e,t,l,s,a;const i=[la,ea],o=[];function r(f,c){return c[0]&256&&(e=null),e==null&&(e=!!ve(f[8].selected.residents.age.values)),e?0:1}return t=r(n,[-1,-1]),l=o[t]=i[t](n),{c(){l.c(),s=q()},l(f){l.l(f),s=q()},m(f,c){o[t].m(f,c),w(f,s,c),a=!0},p(f,c){let _=t;t=r(f,c),t===_?o[t].p(f,c):(le(),A(o[_],1,1,()=>{o[_]=null}),te(),l=o[t],l?l.p(f,c):(l=o[t]=i[t](f),l.c()),S(l,1),l.m(s.parentNode,s))},i(f){a||(S(l),a=!0)},o(f){A(l),a=!1},d(f){o[t].d(f),f&&u(s)}}}function sa(n){let e,t,l,s,a,i;return e=new fe({props:{title:"Population",$$slots:{default:[Qs]},$$scope:{ctx:n}}}),l=new fe({props:{title:"Average (median) age",$$slots:{default:[xs]},$$scope:{ctx:n}}}),a=new fe({props:{title:"Age profile",$$slots:{default:[ta]},$$scope:{ctx:n}}}),{c(){F(e.$$.fragment),t=L(),F(l.$$.fragment),s=L(),F(a.$$.fragment)},l(o){W(e.$$.fragment,o),t=j(o),W(l.$$.fragment,o),s=j(o),W(a.$$.fragment,o)},m(o,r){R(e,o,r),w(o,t,r),R(l,o,r),w(o,s,r),R(a,o,r),i=!0},p(o,r){const f={};r[0]&512|r[1]&8192&&(f.$$scope={dirty:r,ctx:o}),e.$set(f);const c={};r[0]&768|r[1]&8192&&(c.$$scope={dirty:r,ctx:o}),l.$set(c);const _={};r[0]&256|r[1]&8192&&(_.$$scope={dirty:r,ctx:o}),a.$set(_)},i(o){i||(S(e.$$.fragment,o),S(l.$$.fragment,o),S(a.$$.fragment,o),i=!0)},o(o){A(e.$$.fragment,o),A(l.$$.fragment,o),A(a.$$.fragment,o),i=!1},d(o){U(e,o),o&&u(t),U(l,o),o&&u(s),U(a,o)}}}function ut(n){let e,t;return e=new Ls({props:{id:"lad",type:"geojson",data:n[8].geojson,promoteId:Pe.code,$$slots:{default:[aa]},$$scope:{ctx:n}}}),{c(){F(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,s){R(e,l,s),t=!0},p(l,s){const a={};s[0]&256&&(a.data=l[8].geojson),s[0]&272|s[1]&8192&&(a.$$scope={dirty:s,ctx:l}),e.$set(a)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){U(e,l)}}}function aa(n){let e,t,l,s,a;function i(r){n[27](r)}let o={id:"lad-fill",data:n[8].geoPerc,geoCode:"code",nameCode:"name",colorCode:"color",valueCode:"value",hover:!0,tooltip:!0,type:"fill",paint:{"fill-color":["case",["!=",["feature-state","color"],null],["feature-state","color"],"rgba(255, 255, 255, 0)"],"fill-opacity":.8},order:"highway_name_other"};return n[4]!==void 0&&(o.hovered=n[4]),e=new Gl({props:o}),Oe.push(()=>Xe(e,"hovered",i)),s=new Gl({props:{id:"lad-line",type:"line",paint:{"line-color":"orange","line-width":2,"line-opacity":["case",["==",["feature-state","hovered"],!0],1,0]},order:"highway_name_other"}}),{c(){F(e.$$.fragment),l=L(),F(s.$$.fragment)},l(r){W(e.$$.fragment,r),l=j(r),W(s.$$.fragment,r)},m(r,f){R(e,r,f),w(r,l,f),R(s,r,f),a=!0},p(r,f){const c={};f[0]&256&&(c.data=r[8].geoPerc),!t&&f[0]&16&&(t=!0,c.hovered=r[4],$e(()=>t=!1)),e.$set(c)},i(r){a||(S(e.$$.fragment,r),S(s.$$.fragment,r),a=!0)},o(r){A(e.$$.fragment,r),A(s.$$.fragment,r),a=!1},d(r){U(e,r),r&&u(l),U(s,r)}}}function na(n){let e,t,l=n[8].geojson&&n[8].geoPerc&&ut(n);return{c(){l&&l.c(),e=q()},l(s){l&&l.l(s),e=q()},m(s,a){l&&l.m(s,a),w(s,e,a),t=!0},p(s,a){s[8].geojson&&s[8].geoPerc?l?(l.p(s,a),a[0]&256&&S(l,1)):(l=ut(s),l.c(),S(l,1),l.m(e.parentNode,e)):l&&(le(),A(l,1,1,()=>{l=null}),te())},i(s){t||(S(l),t=!0)},o(s){A(l),t=!1},d(s){l&&l.d(s),s&&u(e)}}}function _t(n){let e,t,l;return t=new Ss({props:{breaks:n[8].geoBreaks,hovered:n[4]&&n[8].geoPerc.find(n[29])?n[8].geoPerc.find(n[30]).value:null,colors:n[8].geoBreaks[1]==100?[ke.seq[4]]:ke.seq}}),{c(){e=y("div"),F(t.$$.fragment),this.h()},l(s){e=D(s,"DIV",{});var a=I(e);W(t.$$.fragment,a),a.forEach(u),this.h()},h(){M(e,"height","38px",!1),M(e,"width","100%",!1)},m(s,a){w(s,e,a),R(t,e,null),l=!0},p(s,a){const i={};a[0]&256&&(i.breaks=s[8].geoBreaks),a[0]&272&&(i.hovered=s[4]&&s[8].geoPerc.find(s[29])?s[8].geoPerc.find(s[30]).value:null),a[0]&256&&(i.colors=s[8].geoBreaks[1]==100?[ke.seq[4]]:ke.seq),t.$set(i)},i(s){l||(S(t.$$.fragment,s),l=!0)},o(s){A(t.$$.fragment,s),l=!1},d(s){s&&u(e),U(t)}}}function ia(n){let e,t,l,s,a,i;function o(c){n[28](c)}let r={style:jt,$$slots:{default:[na]},$$scope:{ctx:n}};n[1]!==void 0&&(r.map=n[1]),t=new Vs({props:r}),Oe.push(()=>Xe(t,"map",o));let f=n[8].geoBreaks&&n[8].geoPerc&&_t(n);return{c(){e=y("div"),F(t.$$.fragment),s=L(),f&&f.c(),a=q(),this.h()},l(c){e=D(c,"DIV",{});var _=I(e);W(t.$$.fragment,_),_.forEach(u),s=j(c),f&&f.l(c),a=q(),this.h()},h(){M(e,"height","450px",!1)},m(c,_){w(c,e,_),R(t,e,null),w(c,s,_),f&&f.m(c,_),w(c,a,_),i=!0},p(c,_){const m={};_[0]&272|_[1]&8192&&(m.$$scope={dirty:_,ctx:c}),!l&&_[0]&2&&(l=!0,m.map=c[1],$e(()=>l=!1)),t.$set(m),c[8].geoBreaks&&c[8].geoPerc?f?(f.p(c,_),_[0]&256&&S(f,1)):(f=_t(c),f.c(),S(f,1),f.m(a.parentNode,a)):f&&(le(),A(f,1,1,()=>{f=null}),te())},i(c){i||(S(t.$$.fragment,c),S(f),i=!0)},o(c){A(t.$$.fragment,c),A(f),i=!1},d(c){c&&u(e),U(t),c&&u(s),f&&f.d(c),c&&u(a)}}}function oa(n){let e,t;return{c(){e=y("span"),t=N("Make a selection to see rankings."),this.h()},l(l){e=D(l,"SPAN",{class:!0});var s=I(e);t=V(s,"Make a selection to see rankings."),s.forEach(u),this.h()},h(){E(e,"class","muted svelte-o8m547")},m(l,s){w(l,e,s),p(e,t)},p:O,i:O,o:O,d(l){l&&u(e)}}}function ra(n){let e,t;return e=new Rl({props:{data:[...n[8].geoPerc].sort(ht).slice(0,5)}}),{c(){F(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,s){R(e,l,s),t=!0},p(l,s){const a={};s[0]&256&&(a.data=[...l[8].geoPerc].sort(ht).slice(0,5)),e.$set(a)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){U(e,l)}}}function fa(n){let e,t,l,s;const a=[ra,oa],i=[];function o(r,f){return r[8].geoPerc&&r[0][0]?0:1}return e=o(n),t=i[e]=a[e](n),{c(){t.c(),l=q()},l(r){t.l(r),l=q()},m(r,f){i[e].m(r,f),w(r,l,f),s=!0},p(r,f){let c=e;e=o(r),e===c?i[e].p(r,f):(le(),A(i[c],1,1,()=>{i[c]=null}),te(),t=i[e],t?t.p(r,f):(t=i[e]=a[e](r),t.c()),S(t,1),t.m(l.parentNode,l))},i(r){s||(S(t),s=!0)},o(r){A(t),s=!1},d(r){i[e].d(r),r&&u(l)}}}function ca(n){let e,t;return{c(){e=y("span"),t=N("Make a selection to see rankings."),this.h()},l(l){e=D(l,"SPAN",{class:!0});var s=I(e);t=V(s,"Make a selection to see rankings."),s.forEach(u),this.h()},h(){E(e,"class","muted svelte-o8m547")},m(l,s){w(l,e,s),p(e,t)},p:O,i:O,o:O,d(l){l&&u(e)}}}function ua(n){let e,t;return e=new Rl({props:{data:n[8].geoPerc.filter(dt).sort(mt).slice(-5),offset:n[8].geoPerc.filter(gt).length-4}}),{c(){F(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,s){R(e,l,s),t=!0},p(l,s){const a={};s[0]&256&&(a.data=l[8].geoPerc.filter(dt).sort(mt).slice(-5)),s[0]&256&&(a.offset=l[8].geoPerc.filter(gt).length-4),e.$set(a)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){U(e,l)}}}function _a(n){let e,t,l,s;const a=[ua,ca],i=[];function o(r,f){return r[8].geoPerc&&r[0][0]?0:1}return e=o(n),t=i[e]=a[e](n),{c(){t.c(),l=q()},l(r){t.l(r),l=q()},m(r,f){i[e].m(r,f),w(r,l,f),s=!0},p(r,f){let c=e;e=o(r),e===c?i[e].p(r,f):(le(),A(i[c],1,1,()=>{i[c]=null}),te(),t=i[e],t?t.p(r,f):(t=i[e]=a[e](r),t.c()),S(t,1),t.m(l.parentNode,l))},i(r){s||(S(t),s=!0)},o(r){A(t),s=!1},d(r){i[e].d(r),r&&u(l)}}}function ha(n){let e,t,l,s,a,i;return e=new fe({props:{colspan:2,rowspan:2,blank:!0,$$slots:{default:[ia]},$$scope:{ctx:n}}}),l=new fe({props:{title:"Areas with highest %",$$slots:{default:[fa]},$$scope:{ctx:n}}}),a=new fe({props:{title:"Areas with lowest %",$$slots:{default:[_a]},$$scope:{ctx:n}}}),{c(){F(e.$$.fragment),t=L(),F(l.$$.fragment),s=L(),F(a.$$.fragment)},l(o){W(e.$$.fragment,o),t=j(o),W(l.$$.fragment,o),s=j(o),W(a.$$.fragment,o)},m(o,r){R(e,o,r),w(o,t,r),R(l,o,r),w(o,s,r),R(a,o,r),i=!0},p(o,r){const f={};r[0]&274|r[1]&8192&&(f.$$scope={dirty:r,ctx:o}),e.$set(f);const c={};r[0]&257|r[1]&8192&&(c.$$scope={dirty:r,ctx:o}),l.$set(c);const _={};r[0]&257|r[1]&8192&&(_.$$scope={dirty:r,ctx:o}),a.$set(_)},i(o){i||(S(e.$$.fragment,o),S(l.$$.fragment,o),S(a.$$.fragment,o),i=!0)},o(o){A(e.$$.fragment,o),A(l.$$.fragment,o),A(a.$$.fragment,o),i=!1},d(o){U(e,o),o&&u(t),U(l,o),o&&u(s),U(a,o)}}}function da(n){let e,t;return e=new Se({props:{data:n[8].selected&&n[13](["residents","health"])}}),{c(){F(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,s){R(e,l,s),t=!0},p(l,s){const a={};s[0]&256&&(a.data=l[8].selected&&l[13](["residents","health"])),e.$set(a)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){U(e,l)}}}function ma(n){let e,t=he.nodata+"",l;return{c(){e=y("span"),l=N(t),this.h()},l(s){e=D(s,"SPAN",{class:!0});var a=I(e);l=V(a,t),a.forEach(u),this.h()},h(){E(e,"class","num-desc svelte-o8m547")},m(s,a){w(s,e,a),p(e,l)},p:O,i:O,o:O,d(s){s&&u(e)}}}function ga(n){let e,t,l,s,a;const i=[ma,da],o=[];function r(f,c){return c[0]&256&&(e=null),e==null&&(e=!!ve(f[8].selected.residents.health.values)),e?0:1}return t=r(n,[-1,-1]),l=o[t]=i[t](n),{c(){l.c(),s=q()},l(f){l.l(f),s=q()},m(f,c){o[t].m(f,c),w(f,s,c),a=!0},p(f,c){let _=t;t=r(f,c),t===_?o[t].p(f,c):(le(),A(o[_],1,1,()=>{o[_]=null}),te(),l=o[t],l?l.p(f,c):(l=o[t]=i[t](f),l.c()),S(l,1),l.m(s.parentNode,s))},i(f){a||(S(l),a=!0)},o(f){A(l),a=!1},d(f){o[t].d(f),f&&u(s)}}}function va(n){let e,t;return e=new Se({props:{data:n[8].selected&&n[13](["residents","marital"])}}),{c(){F(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,s){R(e,l,s),t=!0},p(l,s){const a={};s[0]&256&&(a.data=l[8].selected&&l[13](["residents","marital"])),e.$set(a)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){U(e,l)}}}function ba(n){let e,t=he.nodata+"",l;return{c(){e=y("span"),l=N(t),this.h()},l(s){e=D(s,"SPAN",{class:!0});var a=I(e);l=V(a,t),a.forEach(u),this.h()},h(){E(e,"class","num-desc svelte-o8m547")},m(s,a){w(s,e,a),p(e,l)},p:O,i:O,o:O,d(s){s&&u(e)}}}function pa(n){let e,t,l,s,a;const i=[ba,va],o=[];function r(f,c){return c[0]&256&&(e=null),e==null&&(e=!!ve(f[8].selected.residents.marital.values)),e?0:1}return t=r(n,[-1,-1]),l=o[t]=i[t](n),{c(){l.c(),s=q()},l(f){l.l(f),s=q()},m(f,c){o[t].m(f,c),w(f,s,c),a=!0},p(f,c){let _=t;t=r(f,c),t===_?o[t].p(f,c):(le(),A(o[_],1,1,()=>{o[_]=null}),te(),l=o[t],l?l.p(f,c):(l=o[t]=i[t](f),l.c()),S(l,1),l.m(s.parentNode,s))},i(f){a||(S(l),a=!0)},o(f){A(l),a=!1},d(f){o[t].d(f),f&&u(s)}}}function ka(n){let e,t;return e=new Se({props:{data:n[8].selected&&n[13](["residents","grade"])}}),{c(){F(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,s){R(e,l,s),t=!0},p(l,s){const a={};s[0]&256&&(a.data=l[8].selected&&l[13](["residents","grade"])),e.$set(a)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){U(e,l)}}}function Ea(n){let e,t=he.nodata+"",l;return{c(){e=y("span"),l=N(t),this.h()},l(s){e=D(s,"SPAN",{class:!0});var a=I(e);l=V(a,t),a.forEach(u),this.h()},h(){E(e,"class","num-desc svelte-o8m547")},m(s,a){w(s,e,a),p(e,l)},p:O,i:O,o:O,d(s){s&&u(e)}}}function wa(n){let e,t,l,s,a;const i=[Ea,ka],o=[];function r(f,c){return c[0]&256&&(e=null),e==null&&(e=!!ve(f[8].selected.residents.grade.values)),e?0:1}return t=r(n,[-1,-1]),l=o[t]=i[t](n),{c(){l.c(),s=q()},l(f){l.l(f),s=q()},m(f,c){o[t].m(f,c),w(f,s,c),a=!0},p(f,c){let _=t;t=r(f,c),t===_?o[t].p(f,c):(le(),A(o[_],1,1,()=>{o[_]=null}),te(),l=o[t],l?l.p(f,c):(l=o[t]=i[t](f),l.c()),S(l,1),l.m(s.parentNode,s))},i(f){a||(S(l),a=!0)},o(f){A(l),a=!1},d(f){o[t].d(f),f&&u(s)}}}function ya(n){let e,t;return e=new Se({props:{data:n[8].selected&&n[13](["residents","economic"])}}),{c(){F(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,s){R(e,l,s),t=!0},p(l,s){const a={};s[0]&256&&(a.data=l[8].selected&&l[13](["residents","economic"])),e.$set(a)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){U(e,l)}}}function Da(n){let e,t=he.nodata+"",l;return{c(){e=y("span"),l=N(t),this.h()},l(s){e=D(s,"SPAN",{class:!0});var a=I(e);l=V(a,t),a.forEach(u),this.h()},h(){E(e,"class","num-desc svelte-o8m547")},m(s,a){w(s,e,a),p(e,l)},p:O,i:O,o:O,d(s){s&&u(e)}}}function Ia(n){let e,t,l,s,a;const i=[Da,ya],o=[];function r(f,c){return c[0]&256&&(e=null),e==null&&(e=!!ve(f[8].selected.residents.economic.values)),e?0:1}return t=r(n,[-1,-1]),l=o[t]=i[t](n),{c(){l.c(),s=q()},l(f){l.l(f),s=q()},m(f,c){o[t].m(f,c),w(f,s,c),a=!0},p(f,c){let _=t;t=r(f,c),t===_?o[t].p(f,c):(le(),A(o[_],1,1,()=>{o[_]=null}),te(),l=o[t],l?l.p(f,c):(l=o[t]=i[t](f),l.c()),S(l,1),l.m(s.parentNode,s))},i(f){a||(S(l),a=!0)},o(f){A(l),a=!1},d(f){o[t].d(f),f&&u(s)}}}function Sa(n){let e,t;return e=new Se({props:{data:n[8].selected&&n[13](["residents","distance"])}}),{c(){F(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,s){R(e,l,s),t=!0},p(l,s){const a={};s[0]&256&&(a.data=l[8].selected&&l[13](["residents","distance"])),e.$set(a)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){U(e,l)}}}function za(n){let e,t=he.nodata+"",l;return{c(){e=y("span"),l=N(t),this.h()},l(s){e=D(s,"SPAN",{class:!0});var a=I(e);l=V(a,t),a.forEach(u),this.h()},h(){E(e,"class","num-desc svelte-o8m547")},m(s,a){w(s,e,a),p(e,l)},p:O,i:O,o:O,d(s){s&&u(e)}}}function Ca(n){let e,t,l,s,a;const i=[za,Sa],o=[];function r(f,c){return c[0]&256&&(e=null),e==null&&(e=!!ve(f[8].selected.residents.distance.values)),e?0:1}return t=r(n,[-1,-1]),l=o[t]=i[t](n),{c(){l.c(),s=q()},l(f){l.l(f),s=q()},m(f,c){o[t].m(f,c),w(f,s,c),a=!0},p(f,c){let _=t;t=r(f,c),t===_?o[t].p(f,c):(le(),A(o[_],1,1,()=>{o[_]=null}),te(),l=o[t],l?l.p(f,c):(l=o[t]=i[t](f),l.c()),S(l,1),l.m(s.parentNode,s))},i(f){a||(S(l),a=!0)},o(f){A(l),a=!1},d(f){o[t].d(f),f&&u(s)}}}function Aa(n){let e,t;return e=new Se({props:{data:n[8].selected&&n[13](["residents","travel"])}}),{c(){F(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,s){R(e,l,s),t=!0},p(l,s){const a={};s[0]&256&&(a.data=l[8].selected&&l[13](["residents","travel"])),e.$set(a)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){U(e,l)}}}function Na(n){let e,t=he.nodata+"",l;return{c(){e=y("span"),l=N(t),this.h()},l(s){e=D(s,"SPAN",{class:!0});var a=I(e);l=V(a,t),a.forEach(u),this.h()},h(){E(e,"class","num-desc svelte-o8m547")},m(s,a){w(s,e,a),p(e,l)},p:O,i:O,o:O,d(s){s&&u(e)}}}function Va(n){let e,t,l,s,a;const i=[Na,Aa],o=[];function r(f,c){return c[0]&256&&(e=null),e==null&&(e=!!ve(f[8].selected.residents.travel.values)),e?0:1}return t=r(n,[-1,-1]),l=o[t]=i[t](n),{c(){l.c(),s=q()},l(f){l.l(f),s=q()},m(f,c){o[t].m(f,c),w(f,s,c),a=!0},p(f,c){let _=t;t=r(f,c),t===_?o[t].p(f,c):(le(),A(o[_],1,1,()=>{o[_]=null}),te(),l=o[t],l?l.p(f,c):(l=o[t]=i[t](f),l.c()),S(l,1),l.m(s.parentNode,s))},i(f){a||(S(l),a=!0)},o(f){A(l),a=!1},d(f){o[t].d(f),f&&u(s)}}}function Pa(n){let e,t;return e=new Se({props:{data:n[8].selected&&n[13](["households","housing"])}}),{c(){F(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,s){R(e,l,s),t=!0},p(l,s){const a={};s[0]&256&&(a.data=l[8].selected&&l[13](["households","housing"])),e.$set(a)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){U(e,l)}}}function Ta(n){let e,t=he.nodata+"",l;return{c(){e=y("span"),l=N(t),this.h()},l(s){e=D(s,"SPAN",{class:!0});var a=I(e);l=V(a,t),a.forEach(u),this.h()},h(){E(e,"class","num-desc svelte-o8m547")},m(s,a){w(s,e,a),p(e,l)},p:O,i:O,o:O,d(s){s&&u(e)}}}function La(n){let e,t,l,s,a;const i=[Ta,Pa],o=[];function r(f,c){return c[0]&256&&(e=null),e==null&&(e=!!ve(f[8].selected.households.housing.values)),e?0:1}return t=r(n,[-1,-1]),l=o[t]=i[t](n),{c(){l.c(),s=q()},l(f){l.l(f),s=q()},m(f,c){o[t].m(f,c),w(f,s,c),a=!0},p(f,c){let _=t;t=r(f,c),t===_?o[t].p(f,c):(le(),A(o[_],1,1,()=>{o[_]=null}),te(),l=o[t],l?l.p(f,c):(l=o[t]=i[t](f),l.c()),S(l,1),l.m(s.parentNode,s))},i(f){a||(S(l),a=!0)},o(f){A(l),a=!1},d(f){o[t].d(f),f&&u(s)}}}function ja(n){let e,t;return e=new Se({props:{data:n[8].selected&&n[13](["households","tenure"])}}),{c(){F(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,s){R(e,l,s),t=!0},p(l,s){const a={};s[0]&256&&(a.data=l[8].selected&&l[13](["households","tenure"])),e.$set(a)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){U(e,l)}}}function Ma(n){let e,t=he.nodata+"",l;return{c(){e=y("span"),l=N(t),this.h()},l(s){e=D(s,"SPAN",{class:!0});var a=I(e);l=V(a,t),a.forEach(u),this.h()},h(){E(e,"class","num-desc svelte-o8m547")},m(s,a){w(s,e,a),p(e,l)},p:O,i:O,o:O,d(s){s&&u(e)}}}function Ka(n){let e,t,l,s,a;const i=[Ma,ja],o=[];function r(f,c){return c[0]&256&&(e=null),e==null&&(e=!!ve(f[8].selected.households.tenure.values)),e?0:1}return t=r(n,[-1,-1]),l=o[t]=i[t](n),{c(){l.c(),s=q()},l(f){l.l(f),s=q()},m(f,c){o[t].m(f,c),w(f,s,c),a=!0},p(f,c){let _=t;t=r(f,c),t===_?o[t].p(f,c):(le(),A(o[_],1,1,()=>{o[_]=null}),te(),l=o[t],l?l.p(f,c):(l=o[t]=i[t](f),l.c()),S(l,1),l.m(s.parentNode,s))},i(f){a||(S(l),a=!0)},o(f){A(l),a=!1},d(f){o[t].d(f),f&&u(s)}}}function Ba(n){let e,t,l,s,a,i,o,r,f,c,_,m,g,v,h,b;return e=new fe({props:{title:"General health",$$slots:{default:[ga]},$$scope:{ctx:n}}}),l=new fe({props:{title:"Marital status",$$slots:{default:[pa]},$$scope:{ctx:n}}}),a=new fe({props:{title:"Social grade",$$slots:{default:[wa]},$$scope:{ctx:n}}}),o=new fe({props:{title:"Economic activity",$$slots:{default:[Ia]},$$scope:{ctx:n}}}),f=new fe({props:{title:"Distance to work (km)",$$slots:{default:[Ca]},$$scope:{ctx:n}}}),_=new fe({props:{title:"Mode of travel to work",$$slots:{default:[Va]},$$scope:{ctx:n}}}),g=new fe({props:{title:"Type of housing",$$slots:{default:[La]},$$scope:{ctx:n}}}),h=new fe({props:{title:"Tenure of housing",$$slots:{default:[Ka]},$$scope:{ctx:n}}}),{c(){F(e.$$.fragment),t=L(),F(l.$$.fragment),s=L(),F(a.$$.fragment),i=L(),F(o.$$.fragment),r=L(),F(f.$$.fragment),c=L(),F(_.$$.fragment),m=L(),F(g.$$.fragment),v=L(),F(h.$$.fragment)},l(d){W(e.$$.fragment,d),t=j(d),W(l.$$.fragment,d),s=j(d),W(a.$$.fragment,d),i=j(d),W(o.$$.fragment,d),r=j(d),W(f.$$.fragment,d),c=j(d),W(_.$$.fragment,d),m=j(d),W(g.$$.fragment,d),v=j(d),W(h.$$.fragment,d)},m(d,k){R(e,d,k),w(d,t,k),R(l,d,k),w(d,s,k),R(a,d,k),w(d,i,k),R(o,d,k),w(d,r,k),R(f,d,k),w(d,c,k),R(_,d,k),w(d,m,k),R(g,d,k),w(d,v,k),R(h,d,k),b=!0},p(d,k){const P={};k[0]&256|k[1]&8192&&(P.$$scope={dirty:k,ctx:d}),e.$set(P);const z={};k[0]&256|k[1]&8192&&(z.$$scope={dirty:k,ctx:d}),l.$set(z);const K={};k[0]&256|k[1]&8192&&(K.$$scope={dirty:k,ctx:d}),a.$set(K);const Y={};k[0]&256|k[1]&8192&&(Y.$$scope={dirty:k,ctx:d}),o.$set(Y);const T={};k[0]&256|k[1]&8192&&(T.$$scope={dirty:k,ctx:d}),f.$set(T);const X={};k[0]&256|k[1]&8192&&(X.$$scope={dirty:k,ctx:d}),_.$set(X);const H={};k[0]&256|k[1]&8192&&(H.$$scope={dirty:k,ctx:d}),g.$set(H);const G={};k[0]&256|k[1]&8192&&(G.$$scope={dirty:k,ctx:d}),h.$set(G)},i(d){b||(S(e.$$.fragment,d),S(l.$$.fragment,d),S(a.$$.fragment,d),S(o.$$.fragment,d),S(f.$$.fragment,d),S(_.$$.fragment,d),S(g.$$.fragment,d),S(h.$$.fragment,d),b=!0)},o(d){A(e.$$.fragment,d),A(l.$$.fragment,d),A(a.$$.fragment,d),A(o.$$.fragment,d),A(f.$$.fragment,d),A(_.$$.fragment,d),A(g.$$.fragment,d),A(h.$$.fragment,d),b=!1},d(d){U(e,d),d&&u(t),U(l,d),d&&u(s),U(a,d),d&&u(i),U(o,d),d&&u(r),U(f,d),d&&u(c),U(_,d),d&&u(m),U(g,d),d&&u(v),U(h,d)}}}function qa(n){let e,t,l,s,a,i;return e=new Ue({props:{title:"Demographics",$$slots:{default:[sa]},$$scope:{ctx:n}}}),l=new Ue({props:{title:"Population by area",$$slots:{default:[ha]},$$scope:{ctx:n}}}),a=new Ue({props:{title:"Key indicators",$$slots:{default:[Ba]},$$scope:{ctx:n}}}),{c(){F(e.$$.fragment),t=L(),F(l.$$.fragment),s=L(),F(a.$$.fragment)},l(o){W(e.$$.fragment,o),t=j(o),W(l.$$.fragment,o),s=j(o),W(a.$$.fragment,o)},m(o,r){R(e,o,r),w(o,t,r),R(l,o,r),w(o,s,r),R(a,o,r),i=!0},p(o,r){const f={};r[0]&768|r[1]&8192&&(f.$$scope={dirty:r,ctx:o}),e.$set(f);const c={};r[0]&275|r[1]&8192&&(c.$$scope={dirty:r,ctx:o}),l.$set(c);const _={};r[0]&256|r[1]&8192&&(_.$$scope={dirty:r,ctx:o}),a.$set(_)},i(o){i||(S(e.$$.fragment,o),S(l.$$.fragment,o),S(a.$$.fragment,o),i=!0)},o(o){A(e.$$.fragment,o),A(l.$$.fragment,o),A(a.$$.fragment,o),i=!1},d(o){U(e,o),o&&u(t),U(l,o),o&&u(s),U(a,o)}}}function Ha(n){let e,t,l,s,a,i,o,r,f,c,_,m,g;return c=new us({props:{background:"none",breadcrumb:[{label:"Census",url:"/census"},{label:"Key population explorer"}],$$slots:{meta:[Gs],default:[Rs]},$$scope:{ctx:n}}}),m=new Bs({props:{$$slots:{default:[qa]},$$scope:{ctx:n}}}),{c(){e=y("meta"),t=y("meta"),l=y("meta"),s=y("meta"),a=y("meta"),i=y("meta"),o=y("meta"),r=L(),f=y("main"),F(c.$$.fragment),_=L(),F(m.$$.fragment),this.h()},l(v){const h=St('[data-svelte="svelte-g36dl2"]',document.head);e=D(h,"META",{name:!0,content:!0}),t=D(h,"META",{property:!0,content:!0}),l=D(h,"META",{property:!0,content:!0}),s=D(h,"META",{property:!0,content:!0}),a=D(h,"META",{property:!0,content:!0}),i=D(h,"META",{property:!0,content:!0}),o=D(h,"META",{name:!0,content:!0}),h.forEach(u),r=j(v),f=D(v,"MAIN",{id:!0,tabindex:!0});var b=I(f);W(c.$$.fragment,b),_=j(b),W(m.$$.fragment,b),b.forEach(u),this.h()},h(){document.title="Census Key Population Explorer",E(e,"name","description"),E(e,"content",""),E(t,"property","og:title"),E(t,"content","Census Key Population Explorer"),E(l,"property","og:type"),E(l,"content","website"),E(s,"property","og:url"),E(s,"content",""+(Mt+"/")),E(a,"property","og:image:type"),E(a,"content","image/jpeg"),E(i,"property","og:description"),E(i,"content",""),E(o,"name","description"),E(o,"content",""),E(f,"id","main"),E(f,"tabindex","-1")},m(v,h){p(document.head,e),p(document.head,t),p(document.head,l),p(document.head,s),p(document.head,a),p(document.head,i),p(document.head,o),w(v,r,h),w(v,f,h),R(c,f,null),p(f,_),R(m,f,null),g=!0},p(v,h){const b={};h[0]&1261|h[1]&8192&&(b.$$scope={dirty:h,ctx:v}),c.$set(b);const d={};h[0]&787|h[1]&8192&&(d.$$scope={dirty:h,ctx:v}),m.$set(d)},i(v){g||(S(c.$$.fragment,v),S(m.$$.fragment,v),g=!0)},o(v){A(c.$$.fragment,v),A(m.$$.fragment,v),g=!1},d(v){u(e),u(t),u(l),u(s),u(a),u(i),u(o),v&&u(r),v&&u(f),U(c),U(m)}}}const Ja=!1;async function Ya({fetch:n}){let e=await Ht(Pe.url,Pe.layer,n),t={};e.features.forEach(m=>t[m.properties[Pe.code]]=m.properties[Pe.name]);let l=await al(xe,[],n),s=Re(l.data.residents.health.values),a=l.data,i=await nl([],n),o=[],f=i.data.dataset.table.dimensions[0].categories.map(m=>m.code.slice(-9)),c=i.data.dataset.table.values,_={};return f.forEach((m,g)=>{_[m]=c[g]}),f.forEach(m=>{o.push({code:m,name:t[m],value:100})}),o.forEach(m=>m.color=ke.seq[4]),{props:{geojson:e,geoLookup:t,sumAll:s,dataAll:a,geoAll:_,geoCodes:f,geoPerc:o}}}let Oa="light";const ht=(n,e)=>e.value-n.value,dt=n=>n.value!=null,mt=(n,e)=>e.value-n.value,gt=n=>n.value!=null;function Fa(n,e,t){let l,s;zt(n,Ft,B=>t(32,s=B));let{geojson:a,geoLookup:i,sumAll:o,dataAll:r,geoAll:f,geoCodes:c,geoPerc:_}=e;Ve("theme",Pt[Oa]);let m=null,g=null,v={},h=[];Fe.forEach(B=>{t(3,v[B.label]=B.cats[0],v)});let b=null,d="success",k=!1,P=0,z={all:r,selected:r,geojson:a,geoLookup:i,geoCodes:c,geoAll:f,geoPerc:_,geoBreaks:[0,100]},K={all:o,selected:o};function Y(B){t(0,h=[...h,Ee({topic:g.label,key:g.key},v[B])]),il(`${ll}?${h.map(C=>`${C.key}=${C.code}`).join("&")}`,{noscroll:!0}),t(2,g=null)}function T(B){t(0,h=h.filter(C=>C.topic!=B)),il(`${ll}?${h.map(C=>`${C.key}=${C.code}`).join("&")}`,{noscroll:!0})}function X(){t(5,d="loading"),h&&h.map(B=>B.code).includes("0-15")?t(6,k=!0):t(6,k=!1),al(xe,h).then(B=>{B.data.residents.age.values?(t(9,K.selected=Re(B.data.residents.health.values),K),t(8,z.selected=B.data,z),nl(h).then(C=>{let J=[],ae=null;if(C.data.dataset.table.dimensions){let ce=C.data.dataset.table.dimensions[0].categories.map(se=>se.code.slice(-9)),Te=C.data.dataset.table.values,Ae={};ce.forEach((se,Le)=>{Ae[se]=Te[Le]}),z.geoCodes.forEach(se=>{J.push({code:se,name:z.geoLookup[se],value:Ae[se]?Ae[se]/z.geoAll[se]*100:null})});let ge=J.map(se=>se.value).filter(se=>se!=null);ae=ge[4]?Vt(ge,5):null}else z.geoCodes.forEach(x=>{J.push({code:x,name:z.geoLookup[x],value:null})});if(ae==null)J.forEach(x=>x.color=ke.nodata),t(8,z.geoBreaks=[0,100],z);else if(!ae[1])J.forEach(x=>x.color=ke.seq[4]),t(8,z.geoBreaks=[0,100],z);else{let x=[];ae.forEach(ce=>x.push(ce[0])),x.push(ae[ae.length-1][ae[ae.length-1].length-1]),x[x.length-1]==x[x.length-2]&&x.pop(),J.forEach(ce=>ce.color=ce.value?qt(ce.value,x,ke.seq):ke.nodata),t(8,z.geoBreaks=x,z)}t(8,z.geoPerc=J,z),t(7,P=h.length),t(5,d="success")})):t(5,d="failed")})}function H(B){let C=B[0],J=B[1],ae=z.all[C][J].values,x=z.selected[C][J].values,ce=[],Te=0,Ae=0;return Tt[J].forEach(ge=>{let se=ge.label,Le=0,Ze=0;ge.cells.forEach(je=>{Le+=ae[je],Te+=ae[je],Ze+=x[je],Ae+=x[je]}),K.selected!=K.all&&ce.push({group:"This group",category:se,count:Ze}),ce.push({group:"Whole population",category:se,count:Le})}),ce.forEach((ge,se)=>{K.selected!=K.all&&se%2==0?ge.value=ge.count/Ae*100:ge.value=ge.count/Te*100}),ce}function G(B){let C=B.residents.age.values,J=Re(C),ae=0,x=0;for(;x<J/2;)x+=C[ae],ae+=1;return ae-1}Wt(()=>{t(0,h=[]);for(let B of s.url.searchParams.entries()){let C=Fe.find(J=>J.key==B[0]);if(C){let J=C.cats.find(ae=>ae.code==B[1]);J&&h.push(Ee({topic:C.label,key:C.key},J))}}X()});function be(){g=Qe(this),t(2,g),t(10,l),t(0,h)}const ee=B=>Lt;function $(){v[g.label]=Qe(this),t(3,v),t(2,g)}const de=()=>Y(g.label),Q=B=>T(B.topic);function me(B){b=B,t(4,b)}function pe(B){m=B,t(1,m)}const ze=B=>B.code==b,Ce=B=>B.code==b;return n.$$set=B=>{"geojson"in B&&t(15,a=B.geojson),"geoLookup"in B&&t(16,i=B.geoLookup),"sumAll"in B&&t(17,o=B.sumAll),"dataAll"in B&&t(18,r=B.dataAll),"geoAll"in B&&t(19,f=B.geoAll),"geoCodes"in B&&t(20,c=B.geoCodes),"geoPerc"in B&&t(21,_=B.geoPerc)},n.$$.update=()=>{n.$$.dirty[0]&1&&t(10,l=Fe.filter(B=>!h.map(C=>C.topic).includes(B.label)))},[h,m,g,v,b,d,k,P,z,K,l,Y,T,H,G,a,i,o,r,f,c,_,be,ee,$,de,Q,me,pe,ze,Ce]}class Qa extends ne{constructor(e){super();ie(this,e,Fa,Ha,oe,{geojson:15,geoLookup:16,sumAll:17,dataAll:18,geoAll:19,geoCodes:20,geoPerc:21},null,[-1,-1])}}export{Qa as default,Ya as load,Ja as prerender};
