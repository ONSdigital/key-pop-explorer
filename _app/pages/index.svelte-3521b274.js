var Wt=Object.defineProperty,Gt=Object.defineProperties;var Ut=Object.getOwnPropertyDescriptors;var Je=Object.getOwnPropertySymbols;var Rt=Object.prototype.hasOwnProperty,Yt=Object.prototype.propertyIsEnumerable;var Qe=(s,e,t)=>e in s?Wt(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Ne=(s,e)=>{for(var t in e||(e={}))Rt.call(e,t)&&Qe(s,t,e[t]);if(Je)for(var t of Je(e))Yt.call(e,t)&&Qe(s,t,e[t]);return s},Xe=(s,e)=>Gt(s,Ut(e));import{X as Zt,S as ie,i as ae,s as se,e as y,k as P,c as D,a as I,m as L,d as h,b as w,g as E,G as b,t as T,h as V,I as B,N as le,j as G,l as M,K as _e,w as q,x as Y,y as F,q as C,o as A,B as W,P as ye,f as z,n as Q,p as X,R as De,T as Ie,U as Se,r as Ve,W as Le,Y as Ke,F as qe,H as Nt,v as Jt,Z as Oe,_ as Ye,$ as Qt,D as Xt,V as Ct,Q as $t,a0 as He,L as Ae,a1 as xt,a2 as en,O as zt,a3 as $e,a4 as At,a5 as Tt,a6 as ln}from"../chunks/vendor-a00499b5.js";import{a as Vt,b as xe}from"../chunks/paths-396f020f.js";import{l as Pe,c as Ee,d as Pt,v as We,a as el,t as tn,b as nn,s as an,p as sn,m as fn,e as me}from"../chunks/config-5a2a4652.js";import{r as Ue}from"../chunks/singletons-a6a7384f.js";const Lt="https://ftb-api-ext.ons.sensiblecode.io/graphql",on=`
fragment tableDimensions on Table {
  dimensions {
    categories {
      code
    }
  }
}
`.replace(/\s+/g," "),rn="YWhtYWQuYmFyY2xheTplbG9wZS5wdWNrLmhhaWxzLmV4cGxvcmU=",Kt=new Headers({"Content-Type":"application/json",Authorization:"Basic "+rn});async function Mt(s,e=[],t=window.fetch){let l=e[0]?[...e].sort((v,g)=>v.topic.localeCompare(g.topic)):[...e],n=[],a=[],i=[],f=[];l[0]&&l.forEach(v=>{v.var&&(n.push(v.var),a.push(`{variable: "${v.var}", codes: ["${v.code}"]}`),v.topic!="age group"&&(i.push(v.var),f.push(`{variable: "${v.var}", codes: ["${v.code}"]}`)))}),n=n[0]?'"'+n.join('","')+'",':"",a=a[0]?"["+a.join(",")+"]":"[]",i=i[0]?'"'+i.join('","')+'",':"",f=f[0]?"["+f.join(",")+"]":"[]";let o=[];s.forEach(v=>{let g=[];v.tables.forEach(d=>{g.push(`
      ${d.key}: table(
        variables: [${d.key=="age"?i:n}"${d.code}"]
        filters: ${d.key=="age"?f:a}
      )
      {
        values
      }
      `)});let p=`
    ${v.key}: dataset(name:"${v.code}") {
      ${g.join(`
`)}
    }
    `;o.push(p)});const r=`
  query {
    ${o.join(`
`)}
  }
  `.replace(/\s+/g," "),u={body:JSON.stringify({query:r}),headers:Kt,method:"POST",mode:"cors"};let _=await(await t(Lt,u)).json(),m=l.filter(v=>v.topic=="age group");if(m[0]&&_.data.residents.age.values){let v=[..._.data.residents.age.values],g=m[0].code.split("-");g.forEach((p,d)=>g[d]=+p),v.forEach((p,d)=>v[d]=d>=g[0]&&d<=g[1]?p:0),_.data.residents.age.values=v}return _}async function jt(s=[],e=window.fetch){let t=s[0]?[...s].sort((u,c)=>u.topic.localeCompare(c.topic)):[...s],l=[],n=[];t[0]&&t.forEach(u=>{u.var&&(l.push(u.var),n.push(`{variable: "${u.var}", codes: ["${u.code}"]}`))});let a=l[0]?'"'+l.join('","')+'",':"";n=n[0]?"["+n.join(",")+"]":"[]";const i=`
  query {
    dataset(name:"Usual-Residents") {
      table(
        variables: ["LA"${a}]
        filters: ${n}
      )
      {
        ...tableDimensions
        values
      }
    }
  }
  `.replace(/\s+/g," "),f={body:JSON.stringify({query:i+on}),headers:Kt,method:"POST",mode:"cors"};return await(await e(Lt,f)).json()}function un(s,e,t){for(let l=1;l<e.length;l++)if(s<=e[l])return t[l-1]}async function cn(s,e,t=window.fetch){let n=await(await t(s)).json();return await Zt(n,e)}function de(s){return s.charAt(0).toUpperCase()+s.slice(1)}function Re(s){return s?s.reduce((e,t)=>e+t):0}function pe(s){return(s?s.slice(0,-1).reduce((t,l)=>t+l):0)==0}const ll=hn,_n=dn;async function hn(s,e){return Ue.goto(s,e,[])}function dn(s){Ue&&Ue.after_navigate(s)}function tl(s,e,t){const l=s.slice();return l[2]=e[t],l}function mn(s){let e=s[2].label+"",t;return{c(){t=T(e)},l(l){t=V(l,e)},m(l,n){E(l,t,n)},p(l,n){n&1&&e!==(e=l[2].label+"")&&G(t,e)},d(l){l&&h(t)}}}function gn(s){let e,t=s[2].label+"",l,n;return{c(){e=y("a"),l=T(t),this.h()},l(a){e=D(a,"A",{class:!0,href:!0});var i=I(e);l=V(i,t),i.forEach(h),this.h()},h(){w(e,"class","breadcrumb__link"),w(e,"href",n=s[2].url)},m(a,i){E(a,e,i),b(e,l)},p(a,i){i&1&&t!==(t=a[2].label+"")&&G(l,t),i&1&&n!==(n=a[2].url)&&w(e,"href",n)},d(a){a&&h(e)}}}function nl(s){let e,t;function l(i,f){return i[2].url?gn:mn}let n=l(s),a=n(s);return{c(){e=y("li"),a.c(),t=P(),this.h()},l(i){e=D(i,"LI",{class:!0});var f=I(e);a.l(f),t=L(f),f.forEach(h),this.h()},h(){w(e,"class","breadcrumb__item")},m(i,f){E(i,e,f),a.m(e,null),b(e,t)},p(i,f){n===(n=l(i))&&a?a.p(i,f):(a.d(1),a=n(i),a&&(a.c(),a.m(e,t)))},d(i){i&&h(e),a.d()}}}function vn(s){let e,t,l,n,a,i,f,o,r=s[0],u=[];for(let c=0;c<r.length;c+=1)u[c]=nl(tl(s,r,c));return{c(){e=y("nav"),t=y("div"),l=y("ol"),n=y("li"),a=y("a"),i=T("Home"),f=P();for(let c=0;c<u.length;c+=1)u[c].c();this.h()},l(c){e=D(c,"NAV",{"aria-label":!0});var _=I(e);t=D(_,"DIV",{class:!0});var m=I(t);l=D(m,"OL",{class:!0});var v=I(l);n=D(v,"LI",{class:!0});var g=I(n);a=D(g,"A",{class:!0,href:!0});var p=I(a);i=V(p,"Home"),p.forEach(h),g.forEach(h),f=L(v);for(let d=0;d<u.length;d+=1)u[d].l(v);v.forEach(h),m.forEach(h),_.forEach(h),this.h()},h(){w(a,"class","breadcrumb__link"),w(a,"href","/"),w(n,"class","breadcrumb__item"),w(l,"class","breadcrumb__list"),w(t,"class",o=(s[1]=="neutral"?"breadcrumb-neutral":"breadcrumb")+" print--hide"),w(e,"aria-label","Breadcrumbs")},m(c,_){E(c,e,_),b(e,t),b(t,l),b(l,n),b(n,a),b(a,i),b(l,f);for(let m=0;m<u.length;m+=1)u[m].m(l,null)},p(c,[_]){if(_&1){r=c[0];let m;for(m=0;m<r.length;m+=1){const v=tl(c,r,m);u[m]?u[m].p(v,_):(u[m]=nl(v),u[m].c(),u[m].m(l,null))}for(;m<u.length;m+=1)u[m].d(1);u.length=r.length}_&2&&o!==(o=(c[1]=="neutral"?"breadcrumb-neutral":"breadcrumb")+" print--hide")&&w(t,"class",o)},i:B,o:B,d(c){c&&h(e),le(u,c)}}}function bn(s,e,t){let{links:l=[]}=e,{mode:n="neutral"}=e;return s.$$set=a=>{"links"in a&&t(0,l=a.links),"mode"in a&&t(1,n=a.mode)},[l,n]}class pn extends ie{constructor(e){super();ae(this,e,bn,vn,se,{links:0,mode:1})}}function il(s,e,t){const l=s.slice();return l[2]=e[t],l}function al(s){let e,t,l=s[2].label+"",n,a,i,f;return{c(){e=y("li"),t=y("a"),n=T(l),f=P(),this.h()},l(o){e=D(o,"LI",{});var r=I(e);t=D(r,"A",{href:!0,"data-gtm-title":!0,"data-gtm-type":!0});var u=I(t);n=V(u,l),u.forEach(h),f=L(r),r.forEach(h),this.h()},h(){w(t,"href",a=s[2].url),w(t,"data-gtm-title",i=s[2].label),w(t,"data-gtm-type","highlighted-links")},m(o,r){E(o,e,r),b(e,t),b(t,n),b(e,f)},p(o,r){r&2&&l!==(l=o[2].label+"")&&G(n,l),r&2&&a!==(a=o[2].url)&&w(t,"href",a),r&2&&i!==(i=o[2].label)&&w(t,"data-gtm-title",i)},d(o){o&&h(e)}}}function kn(s){let e,t,l,n,a,i=s[1],f=[];for(let o=0;o<i.length;o+=1)f[o]=al(il(s,i,o));return{c(){e=y("div"),t=y("h2"),l=T(s[0]),n=P(),a=y("ul");for(let o=0;o<f.length;o+=1)f[o].c();this.h()},l(o){e=D(o,"DIV",{class:!0});var r=I(e);t=D(r,"H2",{class:!0});var u=I(t);l=V(u,s[0]),u.forEach(h),n=L(r),a=D(r,"UL",{class:!0});var c=I(a);for(let _=0;_<f.length;_+=1)f[_].l(c);c.forEach(h),r.forEach(h),this.h()},h(){w(t,"class","margin-top-lg--1"),w(a,"class","list--neutral margin-top--negative-one-fix"),w(e,"class","nav-secondary--border-left-lg col col--md-47 col--lg-19 col--lg-offset-2 padding-left margin-top-lg--3")},m(o,r){E(o,e,r),b(e,t),b(t,l),b(e,n),b(e,a);for(let u=0;u<f.length;u+=1)f[u].m(a,null)},p(o,[r]){if(r&1&&G(l,o[0]),r&2){i=o[1];let u;for(u=0;u<i.length;u+=1){const c=il(o,i,u);f[u]?f[u].p(c,r):(f[u]=al(c),f[u].c(),f[u].m(a,null))}for(;u<f.length;u+=1)f[u].d(1);f.length=i.length}},i:B,o:B,d(o){o&&h(e),le(f,o)}}}function wn(s,e,t){let{title:l="Highlighted content"}=e,{links:n=[]}=e;return s.$$set=a=>{"title"in a&&t(0,l=a.title),"links"in a&&t(1,n=a.links)},[l,n]}class En extends ie{constructor(e){super();ae(this,e,wn,kn,se,{title:0,links:1})}}function sl(s,e,t){const l=s.slice();return l[2]=e[t],l}function yn(s){let e,t=s[2].label+"",l;return{c(){e=y("li"),l=T(t),this.h()},l(n){e=D(n,"LI",{class:!0,"aria-current":!0});var a=I(e);l=V(a,t),a.forEach(h),this.h()},h(){w(e,"class","ons-list__item svelte-1dyzlhu"),w(e,"aria-current","true")},m(n,a){E(n,e,a),b(e,l)},p(n,a){a&2&&t!==(t=n[2].label+"")&&G(l,t)},d(n){n&&h(e)}}}function Dn(s){let e,t,l=s[2].label+"",n,a,i;return{c(){e=y("li"),t=y("a"),n=T(l),i=P(),this.h()},l(f){e=D(f,"LI",{class:!0});var o=I(e);t=D(o,"A",{href:!0,class:!0});var r=I(t);n=V(r,l),r.forEach(h),i=L(o),o.forEach(h),this.h()},h(){w(t,"href",a=s[2].url),w(t,"class","ons-list__link"),w(e,"class","ons-list__item svelte-1dyzlhu")},m(f,o){E(f,e,o),b(e,t),b(t,n),b(e,i)},p(f,o){o&2&&l!==(l=f[2].label+"")&&G(n,l),o&2&&a!==(a=f[2].url)&&w(t,"href",a)},d(f){f&&h(e)}}}function fl(s){let e;function t(a,i){return a[2].url?Dn:yn}let l=t(s),n=l(s);return{c(){n.c(),e=M()},l(a){n.l(a),e=M()},m(a,i){n.m(a,i),E(a,e,i)},p(a,i){l===(l=t(a))&&n?n.p(a,i):(n.d(1),n=l(a),n&&(n.c(),n.m(e.parentNode,e)))},d(a){n.d(a),a&&h(e)}}}function In(s){let e,t,l,n,a,i=s[1],f=[];for(let o=0;o<i.length;o+=1)f[o]=fl(sl(s,i,o));return{c(){e=y("nav"),t=y("h2"),l=T(s[0]),n=P(),a=y("ol");for(let o=0;o<f.length;o+=1)f[o].c();this.h()},l(o){e=D(o,"NAV",{class:!0,"aria-label":!0});var r=I(e);t=D(r,"H2",{class:!0});var u=I(t);l=V(u,s[0]),u.forEach(h),n=L(r),a=D(r,"OL",{class:!0});var c=I(a);for(let _=0;_<f.length;_+=1)f[_].l(c);c.forEach(h),r.forEach(h),this.h()},h(){w(t,"class","ons-toc__title ons-u-fs-r--b ons-u-mb-s svelte-1dyzlhu"),w(a,"class","ons-list ons-u-mb-m ons-list--dashed svelte-1dyzlhu"),w(e,"class","ons-toc svelte-1dyzlhu"),w(e,"aria-label","Pages in this guide")},m(o,r){E(o,e,r),b(e,t),b(t,l),b(e,n),b(e,a);for(let u=0;u<f.length;u+=1)f[u].m(a,null)},p(o,[r]){if(r&1&&G(l,o[0]),r&2){i=o[1];let u;for(u=0;u<i.length;u+=1){const c=sl(o,i,u);f[u]?f[u].p(c,r):(f[u]=fl(c),f[u].c(),f[u].m(a,null))}for(;u<f.length;u+=1)f[u].d(1);f.length=i.length}},i:B,o:B,d(o){o&&h(e),le(f,o)}}}function Sn(s,e,t){let{label:l="Contents"}=e,{links:n=[]}=e;return s.$$set=a=>{"label"in a&&t(0,l=a.label),"links"in a&&t(1,n=a.links)},[l,n]}class Nn extends ie{constructor(e){super();ae(this,e,Sn,In,se,{label:0,links:1})}}function Cn(s){let e,t,l,n,a,i,f,o,r;return{c(){e=y("div"),t=y("div"),l=y("dl"),n=y("div"),a=y("dt"),i=T(s[1]),f=T(":"),o=P(),r=y("dd"),this.h()},l(u){e=D(u,"DIV",{class:!0});var c=I(e);t=D(c,"DIV",{class:!0});var _=I(t);l=D(_,"DL",{class:!0});var m=I(l);n=D(m,"DIV",{class:!0});var v=I(n);a=D(v,"DT",{class:!0});var g=I(a);i=V(g,s[1]),f=V(g,":"),g.forEach(h),o=L(v),r=D(v,"DD",{class:!0});var p=I(r);p.forEach(h),v.forEach(h),m.forEach(h),_.forEach(h),c.forEach(h),this.h()},h(){w(a,"class","meta__term inline"),w(r,"class","inline"),w(n,"class","col padding-left--0 meta__item meta__item--no-border"),w(l,"class","col-wrap"),w(t,"class","wrapper"),w(e,"class","meta-wrap--thin"),_e(e,"meta-wrap",s[0]=="grey")},m(u,c){E(u,e,c),b(e,t),b(t,l),b(l,n),b(n,a),b(a,i),b(a,f),b(n,o),b(n,r),r.innerHTML=s[2]},p(u,[c]){c&2&&G(i,u[1]),c&4&&(r.innerHTML=u[2]),c&1&&_e(e,"meta-wrap",u[0]=="grey")},i:B,o:B,d(u){u&&h(e)}}}function zn(s,e,t){let{background:l="grey"}=e,{label:n="Last updated"}=e,{value:a="date"}=e;return s.$$set=i=>{"background"in i&&t(0,l=i.background),"label"in i&&t(1,n=i.label),"value"in i&&t(2,a=i.value)},[l,n,a]}class An extends ie{constructor(e){super();ae(this,e,zn,Cn,se,{background:0,label:1,value:2})}}const Tn=s=>({}),ol=s=>({});function rl(s){let e,t;return e=new pn({props:{links:s[2],mode:s[0]}}),{c(){q(e.$$.fragment)},l(l){Y(e.$$.fragment,l)},m(l,n){F(e,l,n),t=!0},p(l,n){const a={};n&4&&(a.links=l[2]),n&1&&(a.mode=l[0]),e.$set(a)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function ul(s){let e,t;return{c(){e=y("p"),t=T(s[6]),this.h()},l(l){e=D(l,"P",{class:!0});var n=I(e);t=V(n,s[6]),n.forEach(h),this.h()},h(){w(e,"class","page-neutral-intro__meta margin-top--0 margin-bottom--3")},m(l,n){E(l,e,n),b(e,t)},p(l,n){n&64&&G(t,l[6])},d(l){l&&h(e)}}}function cl(s){let e,t;return e=new Nn({props:{links:s[3],label:"Contents"}}),{c(){q(e.$$.fragment)},l(l){Y(e.$$.fragment,l)},m(l,n){F(e,l,n),t=!0},p(l,n){const a={};n&8&&(a.links=l[3]),e.$set(a)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function _l(s){let e,t;return e=new En({props:{links:s[4]}}),{c(){q(e.$$.fragment)},l(l){Y(e.$$.fragment,l)},m(l,n){F(e,l,n),t=!0},p(l,n){const a={};n&16&&(a.links=l[4]),e.$set(a)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function hl(s){let e,t;return e=new An({props:{label:"Last updated",value:s[5],background:s[1]}}),{c(){q(e.$$.fragment)},l(l){Y(e.$$.fragment,l)},m(l,n){F(e,l,n),t=!0},p(l,n){const a={};n&32&&(a.value=l[5]),n&2&&(a.background=l[1]),e.$set(a)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function dl(s){let e,t,l,n;return{c(){e=y("div"),t=y("div"),l=y("div"),n=y("hr"),this.h()},l(a){e=D(a,"DIV",{class:!0});var i=I(e);t=D(i,"DIV",{class:!0});var f=I(t);l=D(f,"DIV",{class:!0});var o=I(l);n=D(o,"HR",{style:!0}),o.forEach(h),f.forEach(h),i.forEach(h),this.h()},h(){z(n,"border","0"),z(n,"height","0"),z(n,"border-top","1px solid #808080"),w(l,"class","col"),w(t,"class","col-wrap"),w(e,"class","wrapper")},m(a,i){E(a,e,i),b(e,t),b(t,l),b(l,n)},d(a){a&&h(e)}}}function Vn(s){let e,t,l,n,a,i,f,o,r,u,c,_,m,v,g=s[2]&&rl(s);const p=s[8].default,d=ye(p,s,s[7],null);let k=s[6]&&ul(s),S=s[3]&&cl(s),N=s[4]&&_l(s);const K=s[8].meta,U=ye(K,s,s[7],ol);let R=s[5]&&hl(s),Z=s[1]=="none"&&dl();return{c(){e=y("div"),t=y("div"),l=y("div"),n=y("div"),g&&g.c(),a=P(),i=y("div"),d&&d.c(),f=P(),k&&k.c(),o=P(),S&&S.c(),r=P(),N&&N.c(),u=P(),U&&U.c(),c=P(),R&&R.c(),_=P(),Z&&Z.c(),this.h()},l(O){e=D(O,"DIV",{class:!0});var J=I(e);t=D(J,"DIV",{class:!0});var ke=I(t);l=D(ke,"DIV",{class:!0});var ne=I(l);n=D(ne,"DIV",{class:!0});var x=I(n);g&&g.l(x),a=L(x),i=D(x,"DIV",{class:!0});var ge=I(i);d&&d.l(ge),f=L(ge),k&&k.l(ge),o=L(ge),S&&S.l(ge),ge.forEach(h),r=L(x),N&&N.l(x),x.forEach(h),ne.forEach(h),ke.forEach(h),u=L(J),U&&U.l(J),c=L(J),R&&R.l(J),_=L(J),Z&&Z.l(J),J.forEach(h),this.h()},h(){w(i,"class","col col--md-47"),_e(i,"col--lg-38",s[4]),_e(i,"col--lg-48",!s[4]),w(n,"class","col"),w(l,"class","col-wrap"),w(t,"class","wrapper"),w(e,"class",m="page-neutral-intro "+(s[1]=="grey"?"background--gallery":""))},m(O,J){E(O,e,J),b(e,t),b(t,l),b(l,n),g&&g.m(n,null),b(n,a),b(n,i),d&&d.m(i,null),b(i,f),k&&k.m(i,null),b(i,o),S&&S.m(i,null),b(n,r),N&&N.m(n,null),b(e,u),U&&U.m(e,null),b(e,c),R&&R.m(e,null),b(e,_),Z&&Z.m(e,null),v=!0},p(O,[J]){O[2]?g?(g.p(O,J),J&4&&C(g,1)):(g=rl(O),g.c(),C(g,1),g.m(n,a)):g&&(Q(),A(g,1,1,()=>{g=null}),X()),d&&d.p&&(!v||J&128)&&De(d,p,O,O[7],v?Se(p,O[7],J,null):Ie(O[7]),null),O[6]?k?k.p(O,J):(k=ul(O),k.c(),k.m(i,o)):k&&(k.d(1),k=null),O[3]?S?(S.p(O,J),J&8&&C(S,1)):(S=cl(O),S.c(),C(S,1),S.m(i,null)):S&&(Q(),A(S,1,1,()=>{S=null}),X()),J&16&&_e(i,"col--lg-38",O[4]),J&16&&_e(i,"col--lg-48",!O[4]),O[4]?N?(N.p(O,J),J&16&&C(N,1)):(N=_l(O),N.c(),C(N,1),N.m(n,null)):N&&(Q(),A(N,1,1,()=>{N=null}),X()),U&&U.p&&(!v||J&128)&&De(U,K,O,O[7],v?Se(K,O[7],J,Tn):Ie(O[7]),ol),O[5]?R?(R.p(O,J),J&32&&C(R,1)):(R=hl(O),R.c(),C(R,1),R.m(e,_)):R&&(Q(),A(R,1,1,()=>{R=null}),X()),O[1]=="none"?Z||(Z=dl(),Z.c(),Z.m(e,null)):Z&&(Z.d(1),Z=null),(!v||J&2&&m!==(m="page-neutral-intro "+(O[1]=="grey"?"background--gallery":"")))&&w(e,"class",m)},i(O){v||(C(g),C(d,O),C(S),C(N),C(U,O),C(R),v=!0)},o(O){A(g),A(d,O),A(S),A(N),A(U,O),A(R),v=!1},d(O){O&&h(e),g&&g.d(),d&&d.d(O),k&&k.d(),S&&S.d(),N&&N.d(),U&&U.d(O),R&&R.d(),Z&&Z.d()}}}function Pn(s,e,t){let{$$slots:l={},$$scope:n}=e,{mode:a="neutral"}=e,{background:i="grey"}=e,{breadcrumb:f=null}=e,{contents:o=null}=e,{highlighted:r=null}=e,{updated:u=null}=e,{date:c=null}=e;return Ve("mode",a),Ve("background",i),s.$$set=_=>{"mode"in _&&t(0,a=_.mode),"background"in _&&t(1,i=_.background),"breadcrumb"in _&&t(2,f=_.breadcrumb),"contents"in _&&t(3,o=_.contents),"highlighted"in _&&t(4,r=_.highlighted),"updated"in _&&t(5,u=_.updated),"date"in _&&t(6,c=_.date),"$$scope"in _&&t(7,n=_.$$scope)},[a,i,f,o,r,u,c,n,l]}class Ln extends ie{constructor(e){super();ae(this,e,Pn,Vn,se,{mode:0,background:1,breadcrumb:2,contents:3,highlighted:4,updated:5,date:6})}}function Kn(s){let e,t,l;const n=s[2].default,a=ye(n,s,s[1],null);return{c(){e=y("h1"),a&&a.c(),this.h()},l(i){e=D(i,"H1",{class:!0});var f=I(e);a&&a.l(f),f.forEach(h),this.h()},h(){w(e,"class",t=s[0]=="neutral"?"page-neutral-intro__title":"page-intro__title")},m(i,f){E(i,e,f),a&&a.m(e,null),l=!0},p(i,[f]){a&&a.p&&(!l||f&2)&&De(a,n,i,i[1],l?Se(n,i[1],f,null):Ie(i[1]),null),(!l||f&1&&t!==(t=i[0]=="neutral"?"page-neutral-intro__title":"page-intro__title"))&&w(e,"class",t)},i(i){l||(C(a,i),l=!0)},o(i){A(a,i),l=!1},d(i){i&&h(e),a&&a.d(i)}}}function Mn(s,e,t){let{$$slots:l={},$$scope:n}=e,{mode:a=Le("mode")}=e;return s.$$set=i=>{"mode"in i&&t(0,a=i.mode),"$$scope"in i&&t(1,n=i.$$scope)},[a,n,l]}class jn extends ie{constructor(e){super();ae(this,e,Mn,Kn,se,{mode:0})}}function ml(s,e,t){const l=s.slice();return l[12]=e[t],l[14]=t,l}function gl(s,e,t){const l=s.slice();return l[15]=e[t],l[17]=t,l}function vl(s,e,t){const l=s.slice();return l[15]=e[t],l[17]=t,l}function bl(s,e,t){const l=s.slice();return l[19]=e[t],l[14]=t,l}function pl(s){let e,t=s[5],l=[];for(let n=0;n<t.length;n+=1)l[n]=kl(bl(s,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=M()},l(n){for(let a=0;a<l.length;a+=1)l[a].l(n);e=M()},m(n,a){for(let i=0;i<l.length;i+=1)l[i].m(n,a);E(n,e,a)},p(n,a){if(a&36){t=n[5];let i;for(i=0;i<t.length;i+=1){const f=bl(n,t,i);l[i]?l[i].p(f,a):(l[i]=kl(f),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(n){le(l,n),n&&h(e)}}}function kl(s){let e,t,l=`${s[14]==0?0:s[2]}px`,n,a,i=s[19]+"",f,o,r;return{c(){e=y("li"),t=y("div"),n=P(),a=y("span"),f=T(i),r=P(),this.h()},l(u){e=D(u,"LI",{class:!0});var c=I(e);t=D(c,"DIV",{class:!0}),I(t).forEach(h),n=L(c),a=D(c,"SPAN",{class:!0});var _=I(a);f=V(_,i),_.forEach(h),r=L(c),c.forEach(h),this.h()},h(){w(t,"class","legend-vis "+(s[14]==0?"bar":"marker-vis")+" svelte-14ipkw6"),z(t,"border-bottom-width",l,!1),w(a,"class",o=Ke(s[14]==0?"bold":"brackets")+" svelte-14ipkw6"),w(e,"class","svelte-14ipkw6")},m(u,c){E(u,e,c),b(e,t),b(e,n),b(e,a),b(a,f),b(e,r)},p(u,c){c&4&&l!==(l=`${u[14]==0?0:u[2]}px`)&&z(t,"border-bottom-width",l,!1),c&32&&i!==(i=u[19]+"")&&G(f,i)},d(u){u&&h(e)}}}function Bn(s){let e,t=s[12].values,l=[];for(let n=0;n<t.length;n+=1)l[n]=wl(gl(s,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=M()},l(n){for(let a=0;a<l.length;a+=1)l[a].l(n);e=M()},m(n,a){for(let i=0;i<l.length;i+=1)l[i].m(n,a);E(n,e,a)},p(n,a){if(a&93){t=n[12].values;let i;for(i=0;i<t.length;i+=1){const f=gl(n,t,i);l[i]?l[i].p(f,a):(l[i]=wl(f),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(n){le(l,n),n&&h(e)}}}function On(s){let e,t=s[12].values,l=[];for(let n=0;n<t.length;n+=1)l[n]=El(vl(s,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=M()},l(n){for(let a=0;a<l.length;a+=1)l[a].l(n);e=M()},m(n,a){for(let i=0;i<l.length;i+=1)l[i].m(n,a);E(n,e,a)},p(n,a){if(a&89){t=n[12].values;let i;for(i=0;i<t.length;i+=1){const f=vl(n,t,i);l[i]?l[i].p(f,a):(l[i]=El(f),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(n){le(l,n),n&&h(e)}}}function wl(s){let e,t=`calc(100% - ${s[4](s[15][s[0]])}% - ${s[2]/2}px)`,l=`${s[17]/s[6].length*100}%`,n=`${1/s[6].length*100}%`,a=`${s[2]}px`;return{c(){e=y("div"),this.h()},l(i){e=D(i,"DIV",{class:!0}),I(e).forEach(h),this.h()},h(){w(e,"class","marker svelte-14ipkw6"),z(e,"top",t,!1),z(e,"height","0px",!1),z(e,"left",l,!1),z(e,"width",n,!1),z(e,"border-bottom-width",a,!1)},m(i,f){E(i,e,f)},p(i,f){f&29&&t!==(t=`calc(100% - ${i[4](i[15][i[0]])}% - ${i[2]/2}px)`)&&z(e,"top",t,!1),f&64&&l!==(l=`${i[17]/i[6].length*100}%`)&&z(e,"left",l,!1),f&64&&n!==(n=`${1/i[6].length*100}%`)&&z(e,"width",n,!1),f&4&&a!==(a=`${i[2]}px`)&&z(e,"border-bottom-width",a,!1)},d(i){i&&h(e)}}}function El(s){let e,t=`${100-s[4](s[15][s[0]])}%`,l=`${s[4](s[15][s[0]])}%`,n=`${s[17]/s[6].length*100}%`,a=`calc(${1/s[6].length*100}% + 0.2px)`;return{c(){e=y("div"),this.h()},l(i){e=D(i,"DIV",{class:!0}),I(e).forEach(h),this.h()},h(){w(e,"class","bar svelte-14ipkw6"),z(e,"top",t,!1),z(e,"height",l,!1),z(e,"left",n,!1),z(e,"width",a,!1)},m(i,f){E(i,e,f)},p(i,f){f&25&&t!==(t=`${100-i[4](i[15][i[0]])}%`)&&z(e,"top",t,!1),f&25&&l!==(l=`${i[4](i[15][i[0]])}%`)&&z(e,"height",l,!1),f&64&&n!==(n=`${i[17]/i[6].length*100}%`)&&z(e,"left",n,!1),f&64&&a!==(a=`calc(${1/i[6].length*100}% + 0.2px)`)&&z(e,"width",a,!1)},d(i){i&&h(e)}}}function yl(s){let e;function t(a,i){return a[14]==0?On:Bn}let n=t(s)(s);return{c(){n.c(),e=M()},l(a){n.l(a),e=M()},m(a,i){n.m(a,i),E(a,e,i)},p(a,i){n.p(a,i)},d(a){n.d(a),a&&h(e)}}}function Hn(s){let e,t,l,n=`${s[1]}px`,a,i,f,o,r,u,c,_=s[5][1]&&pl(s),m=s[3],v=[];for(let g=0;g<m.length;g+=1)v[g]=yl(ml(s,m,g));return{c(){e=y("ul"),_&&_.c(),t=P(),l=y("div");for(let g=0;g<v.length;g+=1)v[g].c();a=P(),i=y("div"),f=y("div"),o=T("0 years"),r=P(),u=y("div"),c=T("90+"),this.h()},l(g){e=D(g,"UL",{class:!0});var p=I(e);_&&_.l(p),p.forEach(h),t=L(g),l=D(g,"DIV",{class:!0});var d=I(l);for(let K=0;K<v.length;K+=1)v[K].l(d);d.forEach(h),a=L(g),i=D(g,"DIV",{class:!0});var k=I(i);f=D(k,"DIV",{class:!0});var S=I(f);o=V(S,"0 years"),S.forEach(h),r=L(k),u=D(k,"DIV",{class:!0});var N=I(u);c=V(N,"90+"),N.forEach(h),k.forEach(h),this.h()},h(){w(e,"class","legend-block svelte-14ipkw6"),w(l,"class","bar-group svelte-14ipkw6"),z(l,"height",n,!1),w(f,"class","svelte-14ipkw6"),z(f,"left",0,!1),w(u,"class","svelte-14ipkw6"),z(u,"right",0,!1),w(i,"class","x-scale svelte-14ipkw6"),z(i,"height","1rem",!1)},m(g,p){E(g,e,p),_&&_.m(e,null),E(g,t,p),E(g,l,p);for(let d=0;d<v.length;d+=1)v[d].m(l,null);E(g,a,p),E(g,i,p),b(i,f),b(f,o),b(i,r),b(i,u),b(u,c)},p(g,[p]){if(g[5][1]?_?_.p(g,p):(_=pl(g),_.c(),_.m(e,null)):_&&(_.d(1),_=null),p&93){m=g[3];let d;for(d=0;d<m.length;d+=1){const k=ml(g,m,d);v[d]?v[d].p(k,p):(v[d]=yl(k),v[d].c(),v[d].m(l,null))}for(;d<v.length;d+=1)v[d].d(1);v.length=m.length}p&2&&n!==(n=`${g[1]}px`)&&z(l,"height",n,!1)},i:B,o:B,d(g){g&&h(e),_&&_.d(),g&&h(t),g&&h(l),le(v,g),g&&h(a),g&&h(i)}}}function qn(s,e,t){let l,n,a,i,f,{data:o}=e,{xKey:r="category"}=e,{yKey:u="value"}=e,{zKey:c="group"}=e,{height:_=65}=e,{markerWidth:m=2.5}=e;function v(g,p){let d={};for(const S of g)d[S[p]]||(d[S[p]]={label:S[p],values:[]}),d[S[p]].values.push(S);let k=[];for(const S in d)k.push(d[S]);return k}return s.$$set=g=>{"data"in g&&t(7,o=g.data),"xKey"in g&&t(8,r=g.xKey),"yKey"in g&&t(0,u=g.yKey),"zKey"in g&&t(9,c=g.zKey),"height"in g&&t(1,_=g.height),"markerWidth"in g&&t(2,m=g.markerWidth)},s.$$.update=()=>{s.$$.dirty&384&&t(6,l=o.map(g=>g[r]).filter((g,p,d)=>d.indexOf(g)===p)),s.$$.dirty&129&&t(10,n=[0,Math.max(...o.map(g=>g[u]))]),s.$$.dirty&640&&t(5,a=o.map(g=>g[c]).filter((g,p,d)=>d.indexOf(g)===p)),s.$$.dirty&1024&&t(4,i=g=>Math.abs(g/n[1])*100),s.$$.dirty&640&&t(3,f=v(o,c))},[u,_,m,f,i,a,l,o,r,c,n]}class Fn extends ie{constructor(e){super();ae(this,e,qn,Hn,se,{data:7,xKey:8,yKey:0,zKey:9,height:1,markerWidth:2})}}function Dl(s,e,t){const l=s.slice();return l[10]=e[t],l[12]=t,l}function Il(s){let e,t,l,n,a,i=s[6](s[4][s[12]])+"",f;return{c(){e=y("div"),t=P(),l=y("div"),n=P(),a=y("div"),f=T(i),this.h()},l(o){e=D(o,"DIV",{class:!0,style:!0}),I(e).forEach(h),t=L(o),l=D(o,"DIV",{class:!0,style:!0}),I(l).forEach(h),n=L(o),a=D(o,"DIV",{class:!0,style:!0});var r=I(a);f=V(r,i),r.forEach(h),this.h()},h(){w(e,"class","block svelte-1a3ut6y"),z(e,"width",100/(s[4].length-1)+"%"),z(e,"left",s[12]*(100/(s[4].length-1))+"%"),z(e,"background-color",s[5][s[12]]),w(l,"class","line svelte-1a3ut6y"),z(l,"left",s[12]*(100/(s[4].length-1))+"%"),w(a,"class","tick svelte-1a3ut6y"),z(a,"left",s[12]*(100/(s[4].length-1))+"%"),_e(a,"tick-start",s[12]==0)},m(o,r){E(o,e,r),E(o,t,r),E(o,l,r),E(o,n,r),E(o,a,r),b(a,f)},p(o,r){r&16&&z(e,"width",100/(o[4].length-1)+"%"),r&16&&z(e,"left",o[12]*(100/(o[4].length-1))+"%"),r&32&&z(e,"background-color",o[5][o[12]]),r&16&&z(l,"left",o[12]*(100/(o[4].length-1))+"%"),r&80&&i!==(i=o[6](o[4][o[12]])+"")&&G(f,i),r&16&&z(a,"left",o[12]*(100/(o[4].length-1))+"%")},d(o){o&&h(e),o&&h(t),o&&h(l),o&&h(n),o&&h(a)}}}function Sl(s){let e,t,l,n=s[7](s[1])+"",a,i;return{c(){e=y("div"),t=P(),l=y("div"),a=T(n),i=T(s[8]),this.h()},l(f){e=D(f,"DIV",{class:!0,style:!0}),I(e).forEach(h),t=L(f),l=D(f,"DIV",{class:!0,style:!0});var o=I(l);a=V(o,n),i=V(o,s[8]),o.forEach(h),this.h()},h(){w(e,"class","marker svelte-1a3ut6y"),z(e,"width",s[2]+"px"),z(e,"left","calc("+s[9](s[1],s[4])+"% - "+s[2]/2+"px)"),w(l,"class","value svelte-1a3ut6y"),z(l,"left",s[9](s[1],s[4])+"%")},m(f,o){E(f,e,o),E(f,t,o),E(f,l,o),b(l,a),b(l,i)},p(f,o){o&4&&z(e,"width",f[2]+"px"),o&22&&z(e,"left","calc("+f[9](f[1],f[4])+"% - "+f[2]/2+"px)"),o&130&&n!==(n=f[7](f[1])+"")&&G(a,n),o&256&&G(i,f[8]),o&18&&z(l,"left",f[9](f[1],f[4])+"%")},d(f){f&&h(e),f&&h(t),f&&h(l)}}}function Nl(s){let e,t,l,n=s[7](s[0])+"",a,i;return{c(){e=y("div"),t=P(),l=y("div"),a=T(n),i=T(s[8]),this.h()},l(f){e=D(f,"DIV",{class:!0,style:!0}),I(e).forEach(h),t=L(f),l=D(f,"DIV",{class:!0,style:!0});var o=I(l);a=V(o,n),i=V(o,s[8]),o.forEach(h),this.h()},h(){w(e,"class","marker marker-hovered svelte-1a3ut6y"),z(e,"width",s[2]+"px"),z(e,"left","calc("+s[9](s[0],s[4])+"% - "+s[2]/2+"px)"),w(l,"class","value svelte-1a3ut6y"),z(l,"left",s[9](s[0],s[4])+"%")},m(f,o){E(f,e,o),E(f,t,o),E(f,l,o),b(l,a),b(l,i)},p(f,o){o&4&&z(e,"width",f[2]+"px"),o&21&&z(e,"left","calc("+f[9](f[0],f[4])+"% - "+f[2]/2+"px)"),o&129&&n!==(n=f[7](f[0])+"")&&G(a,n),o&256&&G(i,f[8]),o&17&&z(l,"left",f[9](f[0],f[4])+"%")},d(f){f&&h(e),f&&h(t),f&&h(l)}}}function Wn(s){let e,t,l,n,a,i=s[6](s[4][s[4].length-1])+"",f,o,r,u,c=s[4].slice(1),_=[];for(let g=0;g<c.length;g+=1)_[g]=Il(Dl(s,c,g));let m=s[1]&&Sl(s),v=s[0]&&Nl(s);return{c(){e=y("div");for(let g=0;g<_.length;g+=1)_[g].c();t=P(),l=y("div"),n=P(),a=y("div"),f=T(i),o=T(s[8]),r=P(),m&&m.c(),u=P(),v&&v.c(),this.h()},l(g){e=D(g,"DIV",{class:!0,style:!0});var p=I(e);for(let k=0;k<_.length;k+=1)_[k].l(p);t=L(p),l=D(p,"DIV",{class:!0,style:!0}),I(l).forEach(h),n=L(p),a=D(p,"DIV",{class:!0,style:!0});var d=I(a);f=V(d,i),o=V(d,s[8]),d.forEach(h),r=L(p),m&&m.l(p),u=L(p),v&&v.l(p),p.forEach(h),this.h()},h(){w(l,"class","line svelte-1a3ut6y"),z(l,"left","100%"),w(a,"class","tick tick-end svelte-1a3ut6y"),z(a,"left","100%"),w(e,"class","container svelte-1a3ut6y"),z(e,"height",s[3]+"px")},m(g,p){E(g,e,p);for(let d=0;d<_.length;d+=1)_[d].m(e,null);b(e,t),b(e,l),b(e,n),b(e,a),b(a,f),b(a,o),b(e,r),m&&m.m(e,null),b(e,u),v&&v.m(e,null)},p(g,[p]){if(p&112){c=g[4].slice(1);let d;for(d=0;d<c.length;d+=1){const k=Dl(g,c,d);_[d]?_[d].p(k,p):(_[d]=Il(k),_[d].c(),_[d].m(e,t))}for(;d<_.length;d+=1)_[d].d(1);_.length=c.length}p&80&&i!==(i=g[6](g[4][g[4].length-1])+"")&&G(f,i),p&256&&G(o,g[8]),g[1]?m?m.p(g,p):(m=Sl(g),m.c(),m.m(e,u)):m&&(m.d(1),m=null),g[0]?v?v.p(g,p):(v=Nl(g),v.c(),v.m(e,null)):v&&(v.d(1),v=null),p&8&&z(e,"height",g[3]+"px")},i:B,o:B,d(g){g&&h(e),le(_,g),m&&m.d(),v&&v.d()}}}function Gn(s,e,t){let{hovered:l=null}=e,{selected:n=null}=e,{lineWidth:a=3}=e,{height:i=15}=e,{breaks:f=[0,20,40,60,80,100]}=e,{colors:o=["rgba(234,236,177,.8)","rgba(169,216,145,.8)","rgba(0,167,186,.8)","rgba(0,78,166,.8)","rgba(0,13,84,.8)"]}=e,{formatTick:r=m=>m.toFixed(0)}=e,{formatVal:u=m=>m.toFixed(1)}=e,{suffix:c="%"}=e;const _=(m,v)=>{let g=0;for(;m>v[g+1];)g+=1;let p=100/(v.length-1),d=(m-v[g])/(v[g+1]-v[g]);return(g+d)*p};return s.$$set=m=>{"hovered"in m&&t(0,l=m.hovered),"selected"in m&&t(1,n=m.selected),"lineWidth"in m&&t(2,a=m.lineWidth),"height"in m&&t(3,i=m.height),"breaks"in m&&t(4,f=m.breaks),"colors"in m&&t(5,o=m.colors),"formatTick"in m&&t(6,r=m.formatTick),"formatVal"in m&&t(7,u=m.formatVal),"suffix"in m&&t(8,c=m.suffix)},[l,n,a,i,f,o,r,u,c,_]}class Un extends ie{constructor(e){super();ae(this,e,Gn,Wn,se,{hovered:0,selected:1,lineWidth:2,height:3,breaks:4,colors:5,formatTick:6,formatVal:7,suffix:8})}}function Cl(s,e,t){const l=s.slice();return l[14]=e[t],l}function zl(s,e,t){const l=s.slice();return l[17]=e[t],l[19]=t,l}function Al(s,e,t){const l=s.slice();return l[17]=e[t],l[19]=t,l}function Tl(s,e,t){const l=s.slice();return l[14]=e[t],l[19]=t,l}function Vl(s){let e,t=s[7],l=[];for(let n=0;n<t.length;n+=1)l[n]=Pl(Tl(s,t,n));return{c(){e=y("ul");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=D(n,"UL",{class:!0});var a=I(e);for(let i=0;i<l.length;i+=1)l[i].l(a);a.forEach(h),this.h()},h(){w(e,"class","legend-block svelte-1ri9pb8")},m(n,a){E(n,e,a);for(let i=0;i<l.length;i+=1)l[i].m(e,null)},p(n,a){if(a&144){t=n[7];let i;for(i=0;i<t.length;i+=1){const f=Tl(n,t,i);l[i]?l[i].p(f,a):(l[i]=Pl(f),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(n){n&&h(e),le(l,n)}}}function Pl(s){let e,t,l,n,a=s[14]+"",i,f,o;return{c(){e=y("li"),t=y("div"),l=P(),n=y("span"),i=T(a),o=P(),this.h()},l(r){e=D(r,"LI",{class:!0});var u=I(e);t=D(u,"DIV",{class:!0}),I(t).forEach(h),l=L(u),n=D(u,"SPAN",{class:!0});var c=I(n);i=V(c,a),c.forEach(h),o=L(u),u.forEach(h),this.h()},h(){w(t,"class","legend-vis "+(s[19]==0?"bar":"marker")+" svelte-1ri9pb8"),z(t,"height","1rem",!1),z(t,"width",s[19]==0?"1rem":s[4]+"px",!1),w(n,"class",f=Ke(s[19]==0?"bold":"brackets")+" svelte-1ri9pb8"),w(e,"class","svelte-1ri9pb8")},m(r,u){E(r,e,u),b(e,t),b(e,l),b(e,n),b(n,i),b(e,o)},p(r,u){u&16&&z(t,"width",r[19]==0?"1rem":r[4]+"px",!1),u&128&&a!==(a=r[14]+"")&&G(i,a)},d(r){r&&h(e)}}}function Ll(s){let e,t=s[1](s[17].value)+"",l,n,a;return{c(){e=y("span"),l=T(t),n=T(s[2]),this.h()},l(i){e=D(i,"SPAN",{class:!0});var f=I(e);l=V(f,t),n=V(f,s[2]),f.forEach(h),this.h()},h(){w(e,"class",a="label "+(s[19]==0?"bold":"sml brackets")+" svelte-1ri9pb8")},m(i,f){E(i,e,f),b(e,l),b(e,n)},p(i,f){f&34&&t!==(t=i[1](i[17].value)+"")&&G(l,t),f&4&&G(n,i[2])},d(i){i&&h(e)}}}function Rn(s){let e,t=`calc(${s[6](s[17][s[0]])}% - ${s[4]/2}px)`,l=`${s[4]}px`;return{c(){e=y("div"),this.h()},l(n){e=D(n,"DIV",{class:!0}),I(e).forEach(h),this.h()},h(){w(e,"class","marker svelte-1ri9pb8"),z(e,"left",t,!1),z(e,"border-left-width",l,!1)},m(n,a){E(n,e,a)},p(n,a){a&113&&t!==(t=`calc(${n[6](n[17][n[0]])}% - ${n[4]/2}px)`)&&z(e,"left",t,!1),a&16&&l!==(l=`${n[4]}px`)&&z(e,"border-left-width",l,!1)},d(n){n&&h(e)}}}function Yn(s){let e,t=`${s[6](s[17][s[0]])}%`;return{c(){e=y("div"),this.h()},l(l){e=D(l,"DIV",{class:!0}),I(e).forEach(h),this.h()},h(){w(e,"class","bar svelte-1ri9pb8"),z(e,"left","0",!1),z(e,"width",t,!1)},m(l,n){E(l,e,n)},p(l,n){n&97&&t!==(t=`${l[6](l[17][l[0]])}%`)&&z(e,"width",t,!1)},d(l){l&&h(e)}}}function Kl(s){let e;function t(a,i){return a[19]==0?Yn:Rn}let n=t(s)(s);return{c(){n.c(),e=M()},l(a){n.l(a),e=M()},m(a,i){n.m(a,i),E(a,e,i)},p(a,i){n.p(a,i)},d(a){n.d(a),a&&h(e)}}}function Ml(s){let e,t=s[14].label+"",l,n,a,i,f,o=`${s[3]}px`,r=s[14].values,u=[];for(let m=0;m<r.length;m+=1)u[m]=Ll(Al(s,r,m));let c=s[14].values,_=[];for(let m=0;m<c.length;m+=1)_[m]=Kl(zl(s,c,m));return{c(){e=y("div"),l=T(t),n=P();for(let m=0;m<u.length;m+=1)u[m].c();a=P(),i=y("div");for(let m=0;m<_.length;m+=1)_[m].c();f=P(),this.h()},l(m){e=D(m,"DIV",{class:!0});var v=I(e);l=V(v,t),n=L(v);for(let p=0;p<u.length;p+=1)u[p].l(v);v.forEach(h),a=L(m),i=D(m,"DIV",{class:!0});var g=I(i);for(let p=0;p<_.length;p+=1)_[p].l(g);f=L(g),g.forEach(h),this.h()},h(){w(e,"class","label-group svelte-1ri9pb8"),w(i,"class","bar-group svelte-1ri9pb8"),z(i,"height",o,!1)},m(m,v){E(m,e,v),b(e,l),b(e,n);for(let g=0;g<u.length;g+=1)u[g].m(e,null);E(m,a,v),E(m,i,v);for(let g=0;g<_.length;g+=1)_[g].m(i,null);b(i,f)},p(m,v){if(v&32&&t!==(t=m[14].label+"")&&G(l,t),v&38){r=m[14].values;let g;for(g=0;g<r.length;g+=1){const p=Al(m,r,g);u[g]?u[g].p(p,v):(u[g]=Ll(p),u[g].c(),u[g].m(e,null))}for(;g<u.length;g+=1)u[g].d(1);u.length=r.length}if(v&113){c=m[14].values;let g;for(g=0;g<c.length;g+=1){const p=zl(m,c,g);_[g]?_[g].p(p,v):(_[g]=Kl(p),_[g].c(),_[g].m(i,f))}for(;g<_.length;g+=1)_[g].d(1);_.length=c.length}v&8&&o!==(o=`${m[3]}px`)&&z(i,"height",o,!1)},d(m){m&&h(e),le(u,m),m&&h(a),m&&h(i),le(_,m)}}}function Zn(s){let e,t,l=s[7][1]&&Vl(s),n=s[5],a=[];for(let i=0;i<n.length;i+=1)a[i]=Ml(Cl(s,n,i));return{c(){l&&l.c(),e=P();for(let i=0;i<a.length;i+=1)a[i].c();t=M()},l(i){l&&l.l(i),e=L(i);for(let f=0;f<a.length;f+=1)a[f].l(i);t=M()},m(i,f){l&&l.m(i,f),E(i,e,f);for(let o=0;o<a.length;o+=1)a[o].m(i,f);E(i,t,f)},p(i,[f]){if(i[7][1]?l?l.p(i,f):(l=Vl(i),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),f&127){n=i[5];let o;for(o=0;o<n.length;o+=1){const r=Cl(i,n,o);a[o]?a[o].p(r,f):(a[o]=Ml(r),a[o].c(),a[o].m(t.parentNode,t))}for(;o<a.length;o+=1)a[o].d(1);a.length=n.length}},i:B,o:B,d(i){l&&l.d(i),i&&h(e),le(a,i),i&&h(t)}}}function Jn(s,e,t){let l,n,a,i,{data:f}=e,{xKey:o="value"}=e,{yKey:r="category"}=e,{zKey:u="group"}=e,{formatTick:c=p=>Math.round(p)}=e,{suffix:_="%"}=e,{barHeight:m=25}=e,{markerWidth:v=3}=e;function g(p,d){let k={};for(const N of p)k[N[d]]||(k[N[d]]={label:N[d],values:[]}),k[N[d]].values.push(N);let S=[];for(const N in k)S.push(k[N]);return S}return s.$$set=p=>{"data"in p&&t(8,f=p.data),"xKey"in p&&t(0,o=p.xKey),"yKey"in p&&t(9,r=p.yKey),"zKey"in p&&t(10,u=p.zKey),"formatTick"in p&&t(1,c=p.formatTick),"suffix"in p&&t(2,_=p.suffix),"barHeight"in p&&t(3,m=p.barHeight),"markerWidth"in p&&t(4,v=p.markerWidth)},s.$$.update=()=>{s.$$.dirty&257&&t(11,l=[0,Math.max(...f.map(p=>p[o]))]),s.$$.dirty&768&&f.map(p=>p[r]).filter((p,d,k)=>k.indexOf(p)===d),s.$$.dirty&1280&&t(7,n=f.map(p=>p[u]).filter((p,d,k)=>k.indexOf(p)===d)),s.$$.dirty&2048&&t(6,a=p=>p/l[1]*100),s.$$.dirty&768&&t(5,i=g(f,r))},[o,c,_,m,v,i,a,n,f,r,u,l]}class Bt extends ie{constructor(e){super();ae(this,e,Jn,Zn,se,{data:8,xKey:0,yKey:9,zKey:10,formatTick:1,suffix:2,barHeight:3,markerWidth:4})}}function jl(s,e,t){const l=s.slice();return l[15]=e[t],l}function Bl(s,e,t){const l=s.slice();return l[18]=e[t],l[19]=e,l[20]=t,l}function Ol(s,e,t){const l=s.slice();return l[15]=e[t],l[20]=t,l}function Hl(s){let e,t=s[7],l=[];for(let n=0;n<t.length;n+=1)l[n]=ql(Ol(s,t,n));return{c(){e=y("ul");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=D(n,"UL",{class:!0});var a=I(e);for(let i=0;i<l.length;i+=1)l[i].l(a);a.forEach(h),this.h()},h(){w(e,"class","legend-block svelte-gainfd")},m(n,a){E(n,e,a);for(let i=0;i<l.length;i+=1)l[i].m(e,null)},p(n,a){if(a&128){t=n[7];let i;for(i=0;i<t.length;i+=1){const f=Ol(n,t,i);l[i]?l[i].p(f,a):(l[i]=ql(f),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(n){n&&h(e),le(l,n)}}}function ql(s){let e,t,l,n,a=s[15]+"",i,f;return{c(){e=y("li"),t=y("div"),l=P(),n=y("span"),i=T(a),f=P(),this.h()},l(o){e=D(o,"LI",{class:!0});var r=I(e);t=D(r,"DIV",{class:!0}),I(t).forEach(h),l=L(r),n=D(r,"SPAN",{class:!0});var u=I(n);i=V(u,a),u.forEach(h),f=L(r),r.forEach(h),this.h()},h(){w(t,"class","legend-vis "+(s[20]==0?"bar":"bar2")+" svelte-gainfd"),w(n,"class","svelte-gainfd"),_e(n,"bold",s[20]==0),w(e,"class","svelte-gainfd")},m(o,r){E(o,e,r),b(e,t),b(e,l),b(e,n),b(n,i),b(e,f)},p(o,r){r&128&&a!==(a=o[15]+"")&&G(i,a)},d(o){o&&h(e)}}}function Fl(s){let e,t=`${s[6](s[18][s[0]])}%`,l,n,a=s[1](s[18][s[0]])+"",i,f,o,r=`calc(${s[6](s[18][s[0]])}% + 2px)`;function u(){s[12].call(n,s[19],s[20])}return{c(){e=y("div"),l=P(),n=y("div"),i=T(a),f=T(s[2]),this.h()},l(c){e=D(c,"DIV",{class:!0}),I(e).forEach(h),l=L(c),n=D(c,"DIV",{class:!0});var _=I(n);i=V(_,a),f=V(_,s[2]),_.forEach(h),this.h()},h(){w(e,"class",Ke(s[20]==0?"bar":"bar2")+" svelte-gainfd"),z(e,"left","0",!1),z(e,"width",t,!1),z(e,"top",s[20]==0?"0":"50%",!1),z(e,"height",s[7][1]?"50%":"100%",!1),w(n,"class","label svelte-gainfd"),qe(()=>u.call(n)),_e(n,"bold",s[20]==0),z(n,"left",r,!1),z(n,"top",s[20]==0?"0":"50%",!1),z(n,"height","50%",!1)},m(c,_){E(c,e,_),E(c,l,_),E(c,n,_),b(n,i),b(n,f),o=Nt(n,u.bind(n))},p(c,_){s=c,_&97&&t!==(t=`${s[6](s[18][s[0]])}%`)&&z(e,"width",t,!1),_&128&&z(e,"height",s[7][1]?"50%":"100%",!1),_&35&&a!==(a=s[1](s[18][s[0]])+"")&&G(i,a),_&4&&G(f,s[2]),_&97&&r!==(r=`calc(${s[6](s[18][s[0]])}% + 2px)`)&&z(n,"left",r,!1)},d(c){c&&h(e),c&&h(l),c&&h(n),o()}}}function Wl(s){let e,t=s[15].label+"",l,n,a,i,f=`${s[7][1]?s[3]*2:s[3]}px`,o=`calc(100% - ${s[4]}px)`,r=s[15].values,u=[];for(let c=0;c<r.length;c+=1)u[c]=Fl(Bl(s,r,c));return{c(){e=y("div"),l=T(t),n=P(),a=y("div");for(let c=0;c<u.length;c+=1)u[c].c();i=P(),this.h()},l(c){e=D(c,"DIV",{class:!0});var _=I(e);l=V(_,t),_.forEach(h),n=L(c),a=D(c,"DIV",{class:!0});var m=I(a);for(let v=0;v<u.length;v+=1)u[v].l(m);i=L(m),m.forEach(h),this.h()},h(){w(e,"class","label-group svelte-gainfd"),w(a,"class","bar-group svelte-gainfd"),z(a,"height",f,!1),z(a,"width",o,!1)},m(c,_){E(c,e,_),b(e,l),E(c,n,_),E(c,a,_);for(let m=0;m<u.length;m+=1)u[m].m(a,null);b(a,i)},p(c,_){if(_&32&&t!==(t=c[15].label+"")&&G(l,t),_&231){r=c[15].values;let m;for(m=0;m<r.length;m+=1){const v=Bl(c,r,m);u[m]?u[m].p(v,_):(u[m]=Fl(v),u[m].c(),u[m].m(a,i))}for(;m<u.length;m+=1)u[m].d(1);u.length=r.length}_&136&&f!==(f=`${c[7][1]?c[3]*2:c[3]}px`)&&z(a,"height",f,!1),_&16&&o!==(o=`calc(100% - ${c[4]}px)`)&&z(a,"width",o,!1)},d(c){c&&h(e),c&&h(n),c&&h(a),le(u,c)}}}function Qn(s){let e,t,l=s[7][1]&&Hl(s),n=s[5],a=[];for(let i=0;i<n.length;i+=1)a[i]=Wl(jl(s,n,i));return{c(){l&&l.c(),e=P();for(let i=0;i<a.length;i+=1)a[i].c();t=M()},l(i){l&&l.l(i),e=L(i);for(let f=0;f<a.length;f+=1)a[f].l(i);t=M()},m(i,f){l&&l.m(i,f),E(i,e,f);for(let o=0;o<a.length;o+=1)a[o].m(i,f);E(i,t,f)},p(i,[f]){if(i[7][1]?l?l.p(i,f):(l=Hl(i),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),f&255){n=i[5];let o;for(o=0;o<n.length;o+=1){const r=jl(i,n,o);a[o]?a[o].p(r,f):(a[o]=Wl(r),a[o].c(),a[o].m(t.parentNode,t))}for(;o<a.length;o+=1)a[o].d(1);a.length=n.length}},i:B,o:B,d(i){l&&l.d(i),i&&h(e),le(a,i),i&&h(t)}}}function Xn(s,e,t){let l,n,a,i,{data:f}=e,{xKey:o="value"}=e,{yKey:r="category"}=e,{zKey:u="group"}=e,{formatTick:c=d=>Math.round(d)}=e,{suffix:_="%"}=e,{barHeight:m=20}=e,{margin:v=30}=e;function g(d,k){let S={};for(const K of d)S[K[k]]||(S[K[k]]={label:K[k],values:[]}),S[K[k]].values.push(K);let N=[];for(const K in S)N.push(S[K]);return N}function p(d,k){d[k].width=this.clientWidth,t(5,i),t(8,f),t(9,r)}return s.$$set=d=>{"data"in d&&t(8,f=d.data),"xKey"in d&&t(0,o=d.xKey),"yKey"in d&&t(9,r=d.yKey),"zKey"in d&&t(10,u=d.zKey),"formatTick"in d&&t(1,c=d.formatTick),"suffix"in d&&t(2,_=d.suffix),"barHeight"in d&&t(3,m=d.barHeight),"margin"in d&&t(4,v=d.margin)},s.$$.update=()=>{s.$$.dirty&257&&t(11,l=[0,Math.max(...f.map(d=>d[o]))]),s.$$.dirty&768&&f.map(d=>d[r]).filter((d,k,S)=>S.indexOf(d)===k),s.$$.dirty&1280&&t(7,n=f.map(d=>d[u]).filter((d,k,S)=>S.indexOf(d)===k)),s.$$.dirty&2048&&t(6,a=d=>d/l[1]*100),s.$$.dirty&768&&t(5,i=g(f,r))},[o,c,_,m,v,i,a,n,f,r,u,l,p]}class $n extends ie{constructor(e){super();ae(this,e,Xn,Qn,se,{data:8,xKey:0,yKey:9,zKey:10,formatTick:1,suffix:2,barHeight:3,margin:4})}}function Gl(s,e,t){const l=s.slice();return l[16]=e[t],l}function Ul(s,e,t){const l=s.slice();return l[19]=e[t],l[21]=t,l}function Rl(s,e,t){const l=s.slice();return l[22]=e[t],l[21]=t,l}function Yl(s,e,t){const l=s.slice();return l[19]=e[t],l}function Zl(s){let e,t=`${s[8](s[19].offset)}%`,l=`${s[8](s[19][s[0]])}%`;return{c(){e=y("div"),this.h()},l(n){e=D(n,"DIV",{class:!0}),I(e).forEach(h),this.h()},h(){w(e,"class","bar svelte-ffogaq"),z(e,"left",t,!1),z(e,"width",l,!1),z(e,"background-color",s[7](s[19][s[1]]),!1)},m(n,a){E(n,e,a)},p(n,a){a&320&&t!==(t=`${n[8](n[19].offset)}%`)&&z(e,"left",t,!1),a&321&&l!==(l=`${n[8](n[19][n[0]])}%`)&&z(e,"width",l,!1),a&194&&z(e,"background-color",n[7](n[19][n[1]]),!1)},d(n){n&&h(e)}}}function xn(s){let e,t=s[22].label+"",l,n;return{c(){e=y("div"),l=T(t),n=T(" comparison"),this.h()},l(a){e=D(a,"DIV",{class:!0});var i=I(e);l=V(i,t),n=V(i," comparison"),i.forEach(h),this.h()},h(){w(e,"class","legend overlay brackets svelte-ffogaq")},m(a,i){E(a,e,i),b(e,l),b(e,n)},p(a,i){i&64&&t!==(t=a[22].label+"")&&G(l,t)},d(a){a&&h(e)}}}function Jl(s){let e,t,l=`${s[21]==0?s[4]:s[4]/2}px`,n=s[22].values,a=[];for(let f=0;f<n.length;f+=1)a[f]=Zl(Yl(s,n,f));let i=s[21]!=0&&xn(s);return{c(){e=y("div");for(let f=0;f<a.length;f+=1)a[f].c();t=P(),i&&i.c(),this.h()},l(f){e=D(f,"DIV",{class:!0});var o=I(e);for(let r=0;r<a.length;r+=1)a[r].l(o);t=L(o),i&&i.l(o),o.forEach(h),this.h()},h(){w(e,"class","bar-group svelte-ffogaq"),z(e,"height",l,!1)},m(f,o){E(f,e,o);for(let r=0;r<a.length;r+=1)a[r].m(e,null);b(e,t),i&&i.m(e,null)},p(f,o){if(o&451){n=f[22].values;let r;for(r=0;r<n.length;r+=1){const u=Yl(f,n,r);a[r]?a[r].p(u,o):(a[r]=Zl(u),a[r].c(),a[r].m(e,t))}for(;r<a.length;r+=1)a[r].d(1);a.length=n.length}f[21]!=0&&i.p(f,o),o&16&&l!==(l=`${f[21]==0?f[4]:f[4]/2}px`)&&z(e,"height",l,!1)},d(f){f&&h(e),le(a,f),i&&i.d()}}}function Ql(s){let e,t=s[2](s[19][s[0]])+"",l,n,a;return{c(){e=y("td"),l=T(t),n=T(s[3]),this.h()},l(i){e=D(i,"TD",{class:!0});var f=I(e);l=V(f,t),n=V(f,s[3]),f.forEach(h),this.h()},h(){w(e,"class",a="cell-right "+(s[21]==0?"bold":"brackets")+" svelte-ffogaq")},m(i,f){E(i,e,f),b(e,l),b(e,n)},p(i,f){f&37&&t!==(t=i[2](i[19][i[0]])+"")&&G(l,t),f&8&&G(n,i[3])},d(i){i&&h(e)}}}function Xl(s){let e,t,l,n,a=s[16].label+"",i,f,o,r=s[16].values,u=[];for(let c=0;c<r.length;c+=1)u[c]=Ql(Ul(s,r,c));return{c(){e=y("tr"),t=y("td"),l=y("div"),n=P(),i=T(a),f=P();for(let c=0;c<u.length;c+=1)u[c].c();o=P(),this.h()},l(c){e=D(c,"TR",{});var _=I(e);t=D(_,"TD",{class:!0});var m=I(t);l=D(m,"DIV",{class:!0}),I(l).forEach(h),n=L(m),i=V(m,a),m.forEach(h),f=L(_);for(let v=0;v<u.length;v+=1)u[v].l(_);o=L(_),_.forEach(h),this.h()},h(){w(l,"class","legend-vis svelte-ffogaq"),z(l,"background-color",s[7](s[16].label),!1),w(t,"class","svelte-ffogaq")},m(c,_){E(c,e,_),b(e,t),b(t,l),b(t,n),b(t,i),b(e,f);for(let m=0;m<u.length;m+=1)u[m].m(e,null);b(e,o)},p(c,_){if(_&160&&z(l,"background-color",c[7](c[16].label),!1),_&32&&a!==(a=c[16].label+"")&&G(i,a),_&45){r=c[16].values;let m;for(m=0;m<r.length;m+=1){const v=Ul(c,r,m);u[m]?u[m].p(v,_):(u[m]=Ql(v),u[m].c(),u[m].m(e,o))}for(;m<u.length;m+=1)u[m].d(1);u.length=r.length}},d(c){c&&h(e),le(u,c)}}}function ei(s){let e,t,l,n=s[6],a=[];for(let o=0;o<n.length;o+=1)a[o]=Jl(Rl(s,n,o));let i=s[5],f=[];for(let o=0;o<i.length;o+=1)f[o]=Xl(Gl(s,i,o));return{c(){for(let o=0;o<a.length;o+=1)a[o].c();e=P(),t=y("table"),l=y("tbody");for(let o=0;o<f.length;o+=1)f[o].c();this.h()},l(o){for(let c=0;c<a.length;c+=1)a[c].l(o);e=L(o),t=D(o,"TABLE",{class:!0});var r=I(t);l=D(r,"TBODY",{});var u=I(l);for(let c=0;c<f.length;c+=1)f[c].l(u);u.forEach(h),r.forEach(h),this.h()},h(){w(t,"class","legend svelte-ffogaq")},m(o,r){for(let u=0;u<a.length;u+=1)a[u].m(o,r);E(o,e,r),E(o,t,r),b(t,l);for(let u=0;u<f.length;u+=1)f[u].m(l,null)},p(o,[r]){if(r&467){n=o[6];let u;for(u=0;u<n.length;u+=1){const c=Rl(o,n,u);a[u]?a[u].p(c,r):(a[u]=Jl(c),a[u].c(),a[u].m(e.parentNode,e))}for(;u<a.length;u+=1)a[u].d(1);a.length=n.length}if(r&173){i=o[5];let u;for(u=0;u<i.length;u+=1){const c=Gl(o,i,u);f[u]?f[u].p(c,r):(f[u]=Xl(c),f[u].c(),f[u].m(l,null))}for(;u<f.length;u+=1)f[u].d(1);f.length=i.length}},i:B,o:B,d(o){le(a,o),o&&h(e),o&&h(t),le(f,o)}}}function li(s,e,t){let l,n,a,i,f,o,r,{data:u}=e,{xKey:c="value"}=e,{yKey:_="category"}=e,{zKey:m="group"}=e,{formatTick:v=S=>Math.round(S)}=e,{suffix:g="%"}=e,{barHeight:p=75}=e,{colors:d=["#206095","#A8BD3A","#003C57","#27A0CC","#118C7B","#F66068","#746CB1","#22D0B6","lightgrey"]}=e;function k(S,N){let K={},U={};for(const Z of S)K[Z[N]]||(K[Z[N]]={label:Z[N],values:[]},U[Z[N]]=0),K[Z[N]].values.push(Xe(Ne({},Z),{offset:U[Z[N]]})),U[Z[N]]+=Z[c];let R=[];for(const Z in K)R.push(K[Z]);return R}return s.$$set=S=>{"data"in S&&t(9,u=S.data),"xKey"in S&&t(0,c=S.xKey),"yKey"in S&&t(1,_=S.yKey),"zKey"in S&&t(10,m=S.zKey),"formatTick"in S&&t(2,v=S.formatTick),"suffix"in S&&t(3,g=S.suffix),"barHeight"in S&&t(4,p=S.barHeight),"colors"in S&&t(11,d=S.colors)},s.$$.update=()=>{s.$$.dirty&514&&t(12,l=u.map(S=>S[_]).filter((S,N,K)=>K.indexOf(S)===N)),s.$$.dirty&1536&&t(14,n=u.map(S=>S[m]).filter((S,N,K)=>K.indexOf(S)===N)),s.$$.dirty&17921&&t(13,a=[0,u.filter(S=>S[m]==n[0]).map(S=>S[c]).reduce((S,N)=>S+N,0)]),s.$$.dirty&8192&&t(8,i=S=>S/a[1]*100),s.$$.dirty&6144&&t(7,f=S=>d[l.indexOf(S)%l.length]),s.$$.dirty&1536&&t(6,o=k(u,m)),s.$$.dirty&514&&t(5,r=k(u,_))},[c,_,v,g,p,r,o,f,i,u,m,d,l,a,n]}class ti extends ie{constructor(e){super();ae(this,e,li,ei,se,{data:9,xKey:0,yKey:1,zKey:10,formatTick:2,suffix:3,barHeight:4,colors:11})}}function $l(s,e,t){const l=s.slice();return l[2]=e[t],l[4]=t,l}function xl(s){let e,t,l=s[4]+s[1]+"",n,a,i,f,o,r=s[2].name+"",u,c,_,m=s[2].value.toFixed(1)+"",v,g,p;return{c(){e=y("tr"),t=y("td"),n=T(l),a=T("."),i=P(),f=y("td"),o=y("strong"),u=T(r),c=P(),_=y("td"),v=T(m),g=T("%"),p=P(),this.h()},l(d){e=D(d,"TR",{});var k=I(e);t=D(k,"TD",{class:!0});var S=I(t);n=V(S,l),a=V(S,"."),S.forEach(h),i=L(k),f=D(k,"TD",{});var N=I(f);o=D(N,"STRONG",{});var K=I(o);u=V(K,r),K.forEach(h),N.forEach(h),c=L(k),_=D(k,"TD",{class:!0});var U=I(_);v=V(U,m),g=V(U,"%"),U.forEach(h),p=L(k),k.forEach(h),this.h()},h(){w(t,"class","w35 svelte-k5j86q"),w(_,"class","text-right svelte-k5j86q")},m(d,k){E(d,e,k),b(e,t),b(t,n),b(t,a),b(e,i),b(e,f),b(f,o),b(o,u),b(e,c),b(e,_),b(_,v),b(_,g),b(e,p)},p(d,k){k&2&&l!==(l=d[4]+d[1]+"")&&G(n,l),k&1&&r!==(r=d[2].name+"")&&G(u,r),k&1&&m!==(m=d[2].value.toFixed(1)+"")&&G(v,m)},d(d){d&&h(e)}}}function ni(s){let e,t,l=s[0],n=[];for(let a=0;a<l.length;a+=1)n[a]=xl($l(s,l,a));return{c(){e=y("table"),t=y("tbody");for(let a=0;a<n.length;a+=1)n[a].c();this.h()},l(a){e=D(a,"TABLE",{class:!0});var i=I(e);t=D(i,"TBODY",{});var f=I(t);for(let o=0;o<n.length;o+=1)n[o].l(f);f.forEach(h),i.forEach(h),this.h()},h(){w(e,"class","table-rank text-small svelte-k5j86q")},m(a,i){E(a,e,i),b(e,t);for(let f=0;f<n.length;f+=1)n[f].m(t,null)},p(a,[i]){if(i&3){l=a[0];let f;for(f=0;f<l.length;f+=1){const o=$l(a,l,f);n[f]?n[f].p(o,i):(n[f]=xl(o),n[f].c(),n[f].m(t,null))}for(;f<n.length;f+=1)n[f].d(1);n.length=l.length}},i:B,o:B,d(a){a&&h(e),le(n,a)}}}function ii(s,e,t){let{data:l}=e,{offset:n=1}=e;return s.$$set=a=>{"data"in a&&t(0,l=a.data),"offset"in a&&t(1,n=a.offset)},[l,n]}class Ot extends ie{constructor(e){super();ae(this,e,ii,ni,se,{data:0,offset:1})}}function et(s){let e;const t=s[14].default,l=ye(t,s,s[13],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,a){l&&l.m(n,a),e=!0},p(n,a){l&&l.p&&(!e||a&8192)&&De(l,t,n,n[13],e?Se(t,n[13],a,null):Ie(n[13]),null)},i(n){e||(C(l,n),e=!0)},o(n){A(l,n),e=!1},d(n){l&&l.d(n)}}}function ai(s){let e,t,l=s[0]&&et(s);return{c(){e=y("div"),l&&l.c(),this.h()},l(n){e=D(n,"DIV",{id:!0,class:!0});var a=I(e);l&&l.l(a),a.forEach(h),this.h()},h(){w(e,"id",s[1]),w(e,"class","svelte-a65d1y")},m(n,a){E(n,e,a),l&&l.m(e,null),s[15](e),t=!0},p(n,[a]){n[0]?l?(l.p(n,a),a&1&&C(l,1)):(l=et(n),l.c(),C(l,1),l.m(e,null)):l&&(Q(),A(l,1,1,()=>{l=null}),X()),(!t||a&2)&&w(e,"id",n[1])},i(n){t||(C(l),t=!0)},o(n){A(l),t=!1},d(n){n&&h(e),l&&l.d(),s[15](null)}}}function si(s,e,t){let{$$slots:l={},$$scope:n}=e,{map:a}=e,{id:i="map"}=e,{location:f={bounds:[[-5.816,49.864],[1.863,55.872]]}}=e,{maxbounds:o=[[-13,48],[5,60]]}=e,{style:r="https://bothness.github.io/ons-basemaps/data/style-omt.json"}=e,{interactive:u=!0}=e,{minzoom:c=0}=e,{maxzoom:_=14}=e,{zoom:m=null}=e,{scrollzoom:v=!0}=e,{geolocate:g=!0}=e,{zoomcontrol:p=!0}=e,d,k;Ve("map",{getMap:()=>a}),f.bounds?k={bounds:f.bounds}:f.lon&&f.lat&&(k={center:[f.lon,f.lat]},f.zoom&&(k.zoom=f.zoom)),o&&(k.maxBounds=o),Jt(()=>{const N=document.createElement("link");return N.rel="stylesheet",N.href="https://unpkg.com/mapbox-gl@1.13.0/dist/mapbox-gl.css",N.onload=()=>{t(0,a=new Oe.Map(Ne({container:d,style:r,minZoom:c,maxZoom:_,interactive:u},k))),p&&a.addControl(new Oe.NavigationControl({showCompass:!1})),v||a.scrollZoom.disable(),g&&a.addControl(new Oe.GeolocateControl),a.on("load",()=>{t(3,m=a.getZoom())}),a.on("zoom",()=>{t(3,m=a.getZoom())})},document.head.appendChild(N),()=>{a.remove(),N.parentNode.removeChild(N)}});function S(N){Ye[N?"unshift":"push"](()=>{d=N,t(2,d)})}return s.$$set=N=>{"map"in N&&t(0,a=N.map),"id"in N&&t(1,i=N.id),"location"in N&&t(4,f=N.location),"maxbounds"in N&&t(5,o=N.maxbounds),"style"in N&&t(6,r=N.style),"interactive"in N&&t(7,u=N.interactive),"minzoom"in N&&t(8,c=N.minzoom),"maxzoom"in N&&t(9,_=N.maxzoom),"zoom"in N&&t(3,m=N.zoom),"scrollzoom"in N&&t(10,v=N.scrollzoom),"geolocate"in N&&t(11,g=N.geolocate),"zoomcontrol"in N&&t(12,p=N.zoomcontrol),"$$scope"in N&&t(13,n=N.$$scope)},[a,i,d,m,f,o,r,u,c,_,v,g,p,n,l,S]}class fi extends ie{constructor(e){super();ae(this,e,si,ai,se,{map:0,id:1,location:4,maxbounds:5,style:6,interactive:7,minzoom:8,maxzoom:9,zoom:3,scrollzoom:10,geolocate:11,zoomcontrol:12})}}function lt(s){let e;const t=s[11].default,l=ye(t,s,s[10],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,a){l&&l.m(n,a),e=!0},p(n,a){l&&l.p&&(!e||a&1024)&&De(l,t,n,n[10],e?Se(t,n[10],a,null):Ie(n[10]),null)},i(n){e||(C(l,n),e=!0)},o(n){A(l,n),e=!1},d(n){l&&l.d(n)}}}function oi(s){let e,t,l=s[0]&&lt(s);return{c(){l&&l.c(),e=M()},l(n){l&&l.l(n),e=M()},m(n,a){l&&l.m(n,a),E(n,e,a),t=!0},p(n,[a]){n[0]?l?(l.p(n,a),a&1&&C(l,1)):(l=lt(n),l.c(),C(l,1),l.m(e.parentNode,e)):l&&(Q(),A(l,1,1,()=>{l=null}),X())},i(n){t||(C(l),t=!0)},o(n){A(l),t=!1},d(n){l&&l.d(n),n&&h(e)}}}function ri(s,e,t){let{$$slots:l={},$$scope:n}=e,{id:a}=e,{type:i}=e,{url:f=null}=e,{props:o={}}=e,{data:r=null}=e,{layer:u=null}=e,{promoteId:c=null}=e,{minzoom:_=null}=e,{maxzoom:m=null}=e,v=!1;const{getMap:g}=Le("map"),p=g();Ve("source",{source:a,sourceLayer:u}),p.getSource(a)&&p.removeSource(a);function d(){p.isSourceLoaded(a)?(t(0,v=!0),console.log(a+" loaded!")):setTimeout(()=>{console.log("..."),d()},500)}function k(){p.isStyleLoaded(a)?(S(),document.querySelector("#map canvas")&&document.querySelector("#map canvas").tabIndex=="0"&&(document.querySelector("#map canvas").tabIndex="-1")):setTimeout(()=>{console.log("..."),k()},500)}_&&(o.minzoom=_),m&&(o.maxzoom=m),u&&c?(o.promoteId={},o.promoteId[u]=c):c&&(o.promoteId=c);function S(){console.log(a+" map source loading..."),i=="geojson"?r?(p.addSource(a,Ne({type:i,data:r},o)),d()):f&&(p.addSource(a,Ne({type:i,data:f},o)),d()):i=="vector"&&(p.addSource(a,Ne({type:i,tiles:[f]},o)),d())}k();function N(){p.getSource(a).setData(r)}return s.$$set=K=>{"id"in K&&t(2,a=K.id),"type"in K&&t(3,i=K.type),"url"in K&&t(4,f=K.url),"props"in K&&t(1,o=K.props),"data"in K&&t(5,r=K.data),"layer"in K&&t(6,u=K.layer),"promoteId"in K&&t(7,c=K.promoteId),"minzoom"in K&&t(8,_=K.minzoom),"maxzoom"in K&&t(9,m=K.maxzoom),"$$scope"in K&&t(10,n=K.$$scope)},s.$$.update=()=>{s.$$.dirty&33&&v&&r&&N()},[v,o,a,i,f,r,u,c,_,m,n,l]}class ui extends ie{constructor(e){super();ae(this,e,ri,oi,se,{id:2,type:3,url:4,props:1,data:5,layer:6,promoteId:7,minzoom:8,maxzoom:9})}}function ci(s,e,t){const l=Qt(),n=new Oe.Popup({closeButton:!1,closeOnClick:!1});let{id:a}=e,{type:i}=e,{filter:f=null}=e,{layout:o={}}=e,{paint:r={}}=e,{data:u=null}=e,{geoCode:c=null}=e,{colorCode:_=null}=e,{nameCode:m=null}=e,{valueCode:v=null}=e,{click:g=!1}=e,{ignoreClick:p=!1}=e,{clickCenter:d=!1}=e,{selected:k=null}=e,{hover:S=!1}=e,{hovered:N=null}=e,{highlight:K=!1}=e,{highlightKey:U="highlighted"}=e,{highlighted:R=[]}=e,{order:Z=null}=e,{maxzoom:O=null}=e,{minzoom:J=null}=e,{tooltip:ke=!1}=e;const{source:ne,sourceLayer:x}=Le("source"),{getMap:ge}=Le("map"),$=ge();let ve=null,we=null,Ce=[];$.getLayer(a)&&$.removeLayer(a);let ze={id:a,type:i,source:ne,paint:r,layout:o};f&&(ze.filter=f),x&&(ze["source-layer"]=x),O&&(ze.maxzoom=O),J&&(ze.minzoom=J),$.addLayer(ze,Z);function Fe(){u.forEach(j=>{$.setFeatureState({source:ne,sourceLayer:x,id:j[c]},{color:_?j[_]:null,name:m?j[m]:null,value:v?j[v]:null})})}return g&&$.on("click",a,j=>{if(j.features.length>0&&!p){if(t(0,k=j.features[0].id),l("select",{code:k}),ve&&$.setFeatureState({source:ne,sourceLayer:x,id:ve},{selected:!1}),$.setFeatureState({source:ne,sourceLayer:x,id:k},{selected:!0}),d){let ue=centroid(j.features[0].toJSON().geometry);$.flyTo({center:ue.geometry.coordinates})}t(23,ve=k)}}),S&&($.on("mousemove",a,j=>{if(j.features.length>0){N&&$.setFeatureState({source:ne,sourceLayer:x,id:N},{hovered:!1}),t(1,N=t(24,we=j.features[0].id)),$.setFeatureState({source:ne,sourceLayer:x,id:N},{hovered:!0}),$.getCanvas().style.cursor="pointer";let ue=$.getFeatureState({source:ne,sourceLayer:x,id:N});ke&&ue.name&&n.setLngLat(j.lngLat).setHTML(`<strong>${ue.name}</strong>${ue.value?"<br/>"+ue.value.toFixed(1)+"%":"<br/>Data not available"}`).addTo($)}}),$.on("mouseleave",a,j=>{N&&$.setFeatureState({source:ne,sourceLayer:x,id:N},{hovered:!1}),t(1,N=t(24,we=null)),$.getCanvas().style.cursor="",ke&&n.remove()})),s.$$set=j=>{"id"in j&&t(2,a=j.id),"type"in j&&t(3,i=j.type),"filter"in j&&t(4,f=j.filter),"layout"in j&&t(5,o=j.layout),"paint"in j&&t(6,r=j.paint),"data"in j&&t(7,u=j.data),"geoCode"in j&&t(8,c=j.geoCode),"colorCode"in j&&t(9,_=j.colorCode),"nameCode"in j&&t(10,m=j.nameCode),"valueCode"in j&&t(11,v=j.valueCode),"click"in j&&t(12,g=j.click),"ignoreClick"in j&&t(13,p=j.ignoreClick),"clickCenter"in j&&t(14,d=j.clickCenter),"selected"in j&&t(0,k=j.selected),"hover"in j&&t(15,S=j.hover),"hovered"in j&&t(1,N=j.hovered),"highlight"in j&&t(16,K=j.highlight),"highlightKey"in j&&t(17,U=j.highlightKey),"highlighted"in j&&t(18,R=j.highlighted),"order"in j&&t(19,Z=j.order),"maxzoom"in j&&t(20,O=j.maxzoom),"minzoom"in j&&t(21,J=j.minzoom),"tooltip"in j&&t(22,ke=j.tooltip)},s.$$.update=()=>{s.$$.dirty[0]&640&&(u||_)&&Fe(),s.$$.dirty[0]&34013184&&K&&R!=Ce&&(Ce[0]&&Ce.forEach(j=>{let ue={};ue[U]=!1,$.setFeatureState({source:ne,sourceLayer:x,id:j},ue)}),t(25,Ce=R),R[0]&&R.forEach(j=>{let ue={};ue[U]=!0,$.setFeatureState({source:ne,sourceLayer:x,id:j},ue)})),s.$$.dirty[0]&8392705&&g&&k!=ve&&(ve&&$.setFeatureState({source:ne,sourceLayer:x,id:ve},{selected:!1}),k&&$.setFeatureState({source:ne,sourceLayer:x,id:k},{selected:!0}),t(23,ve=k)),s.$$.dirty[0]&16809986&&S&&N!=we&&(we&&$.setFeatureState({source:ne,sourceLayer:x,id:we},{hovered:!1}),N&&$.setFeatureState({source:ne,sourceLayer:x,id:N},{hovered:!0}),t(24,we=N))},[k,N,a,i,f,o,r,u,c,_,m,v,g,p,d,S,K,U,R,Z,O,J,ke,ve,we,Ce]}class tt extends ie{constructor(e){super();ae(this,e,ci,null,se,{id:2,type:3,filter:4,layout:5,paint:6,data:7,geoCode:8,colorCode:9,nameCode:10,valueCode:11,click:12,ignoreClick:13,clickCenter:14,selected:0,hover:15,hovered:1,highlight:16,highlightKey:17,highlighted:18,order:19,maxzoom:20,minzoom:21,tooltip:22},null,[-1,-1])}}function _i(s){let e,t,l;const n=s[1].default,a=ye(n,s,s[0],null);return{c(){e=y("div"),t=y("div"),a&&a.c(),this.h()},l(i){e=D(i,"DIV",{class:!0});var f=I(e);t=D(f,"DIV",{class:!0});var o=I(t);a&&a.l(o),o.forEach(h),f.forEach(h),this.h()},h(){w(t,"class","wrapper"),w(e,"class","page-content")},m(i,f){E(i,e,f),b(e,t),a&&a.m(t,null),l=!0},p(i,[f]){a&&a.p&&(!l||f&1)&&De(a,n,i,i[0],l?Se(n,i[0],f,null):Ie(i[0]),null)},i(i){l||(C(a,i),l=!0)},o(i){A(a,i),l=!1},d(i){i&&h(e),a&&a.d(i)}}}function hi(s,e,t){let{$$slots:l={},$$scope:n}=e;return s.$$set=a=>{"$$scope"in a&&t(0,n=a.$$scope)},[n,l]}class di extends ie{constructor(e){super();ae(this,e,hi,_i,se,{})}}const mi=s=>({}),nt=s=>({});function it(s){let e,t,l,n;const a=s[6].meta,i=ye(a,s,s[5],nt);return{c(){e=y("h2"),t=T(s[0]),l=P(),i&&i.c(),this.h()},l(f){e=D(f,"H2",{id:!0,class:!0});var o=I(e);t=V(o,s[0]),o.forEach(h),l=L(f),i&&i.l(f),this.h()},h(){w(e,"id","topics"),w(e,"class","svelte-1328dmd")},m(f,o){E(f,e,o),b(e,t),E(f,l,o),i&&i.m(f,o),n=!0},p(f,o){(!n||o&1)&&G(t,f[0]),i&&i.p&&(!n||o&32)&&De(i,a,f,f[5],n?Se(a,f[5],o,mi):Ie(f[5]),nt)},i(f){n||(C(i,f),n=!0)},o(f){A(i,f),n=!1},d(f){f&&h(e),f&&h(l),i&&i.d(f)}}}function gi(s){let e,t,l,n,a=`repeat(auto-fit, minmax(min(${s[1]}px, 100%), 1fr))`,i=`${s[2]}px`,f,o=s[0]&&it(s);const r=s[6].default,u=ye(r,s,s[5],null);return{c(){e=y("div"),o&&o.c(),t=P(),l=y("div"),u&&u.c(),this.h()},l(c){e=D(c,"DIV",{class:!0});var _=I(e);o&&o.l(_),t=L(_),l=D(_,"DIV",{class:!0});var m=I(l);u&&u.l(m),m.forEach(h),_.forEach(h),this.h()},h(){w(l,"class","tiles-grid margin-bottom svelte-1328dmd"),qe(()=>s[7].call(l)),z(l,"grid-template-columns",a,!1),z(l,"grid-gap",i,!1),w(e,"class","tiles")},m(c,_){E(c,e,_),o&&o.m(e,null),b(e,t),b(e,l),u&&u.m(l,null),n=Nt(l,s[7].bind(l)),f=!0},p(c,[_]){c[0]?o?(o.p(c,_),_&1&&C(o,1)):(o=it(c),o.c(),C(o,1),o.m(e,t)):o&&(Q(),A(o,1,1,()=>{o=null}),X()),u&&u.p&&(!f||_&32)&&De(u,r,c,c[5],f?Se(r,c[5],_,null):Ie(c[5]),null),_&2&&a!==(a=`repeat(auto-fit, minmax(min(${c[1]}px, 100%), 1fr))`)&&z(l,"grid-template-columns",a,!1),_&4&&i!==(i=`${c[2]}px`)&&z(l,"grid-gap",i,!1)},i(c){f||(C(o),C(u,c),f=!0)},o(c){A(o),A(u,c),f=!1},d(c){c&&h(e),o&&o.d(),u&&u.d(c),n()}}}function vi(s,e,t){let l,{$$slots:n={},$$scope:a}=e,{title:i=null}=e,{colwidth:f=280}=e,{gridgap:o=16}=e,r;const u=Xt(3);Ve("tiles",{cols:u});function c(){r=this.clientWidth,t(3,r)}return s.$$set=_=>{"title"in _&&t(0,i=_.title),"colwidth"in _&&t(1,f=_.colwidth),"gridgap"in _&&t(2,o=_.gridgap),"$$scope"in _&&t(5,a=_.$$scope)},s.$$.update=()=>{s.$$.dirty&14&&t(4,l=r?Math.floor((r+o)/(f+o)):3),s.$$.dirty&16&&u.set(l)},[i,f,o,r,l,a,n,c]}class Ge extends ie{constructor(e){super();ae(this,e,vi,gi,se,{title:0,colwidth:1,gridgap:2})}}function at(s,e,t){const l=s.slice();return l[9]=e[t],l}function st(s){let e,t,l;return{c(){e=y("header"),t=y("h3"),l=T(s[2]),this.h()},l(n){e=D(n,"HEADER",{class:!0});var a=I(e);t=D(a,"H3",{class:!0});var i=I(t);l=V(i,s[2]),i.forEach(h),a.forEach(h),this.h()},h(){w(t,"class","margin-top--0 margin-right--0 margin-bottom--0 margin-left--0 svelte-1krn9ab"),w(e,"class","margin-top--1")},m(n,a){E(n,e,a),b(e,t),b(t,l)},p(n,a){a&4&&G(l,n[2])},d(n){n&&h(e)}}}function ft(s){let e,t=s[3],l=[];for(let n=0;n<t.length;n+=1)l[n]=ot(at(s,t,n));return{c(){e=y("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=D(n,"DIV",{class:!0});var a=I(e);for(let i=0;i<l.length;i+=1)l[i].l(a);a.forEach(h),this.h()},h(){w(e,"class","margin-top--2")},m(n,a){E(n,e,a);for(let i=0;i<l.length;i+=1)l[i].m(e,null)},p(n,a){if(a&8){t=n[3];let i;for(i=0;i<t.length;i+=1){const f=at(n,t,i);l[i]?l[i].p(f,a):(l[i]=ot(f),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(n){n&&h(e),le(l,n)}}}function ot(s){let e,t=s[9].label+"",l,n,a,i,f;return{c(){e=y("a"),l=T(t),n=P(),this.h()},l(o){e=D(o,"A",{href:!0,class:!0,"aria-label":!0,"data-gtm-label":!0});var r=I(e);l=V(r,t),n=L(r),r.forEach(h),this.h()},h(){w(e,"href",a=s[9].url),w(e,"class","tile__link"),w(e,"aria-label",i=s[9].label),w(e,"data-gtm-label",f=s[9].label)},m(o,r){E(o,e,r),b(e,l),b(e,n)},p(o,r){r&8&&t!==(t=o[9].label+"")&&G(l,t),r&8&&a!==(a=o[9].url)&&w(e,"href",a),r&8&&i!==(i=o[9].label)&&w(e,"aria-label",i),r&8&&f!==(f=o[9].label)&&w(e,"data-gtm-label",f)},d(o){o&&h(e)}}}function bi(s){let e,t,l,n,a=`span ${s[0]==1?1:s[0]>s[5]?s[5]:s[0]}`,i=`span ${s[1]}`,f,o=s[2]&&st(s);const r=s[8].default,u=ye(r,s,s[7],null);let c=s[3]&&s[3][0]&&ft(s);return{c(){e=y("div"),o&&o.c(),t=P(),u&&u.c(),l=P(),c&&c.c(),this.h()},l(_){e=D(_,"DIV",{class:!0});var m=I(e);o&&o.l(m),t=L(m),u&&u.l(m),l=L(m),c&&c.l(m),m.forEach(h),this.h()},h(){w(e,"class",n=Ke(s[4]?"":"tile tile__content")+" svelte-1krn9ab"),_e(e,"blank",s[4]),z(e,"grid-column",a,!1),z(e,"grid-row",i,!1)},m(_,m){E(_,e,m),o&&o.m(e,null),b(e,t),u&&u.m(e,null),b(e,l),c&&c.m(e,null),f=!0},p(_,[m]){_[2]?o?o.p(_,m):(o=st(_),o.c(),o.m(e,t)):o&&(o.d(1),o=null),u&&u.p&&(!f||m&128)&&De(u,r,_,_[7],f?Se(r,_[7],m,null):Ie(_[7]),null),_[3]&&_[3][0]?c?c.p(_,m):(c=ft(_),c.c(),c.m(e,null)):c&&(c.d(1),c=null),(!f||m&16&&n!==(n=Ke(_[4]?"":"tile tile__content")+" svelte-1krn9ab"))&&w(e,"class",n),m&16&&_e(e,"blank",_[4]),m&33&&a!==(a=`span ${_[0]==1?1:_[0]>_[5]?_[5]:_[0]}`)&&z(e,"grid-column",a,!1),m&2&&i!==(i=`span ${_[1]}`)&&z(e,"grid-row",i,!1)},i(_){f||(C(u,_),f=!0)},o(_){A(u,_),f=!1},d(_){_&&h(e),o&&o.d(),u&&u.d(_),c&&c.d()}}}function pi(s,e,t){let l,{$$slots:n={},$$scope:a}=e,{colspan:i=1}=e,{rowspan:f=1}=e,{title:o=null}=e,{links:r=null}=e,{blank:u=!1}=e;const{cols:c}=Le("tiles");return Ct(s,c,_=>t(5,l=_)),s.$$set=_=>{"colspan"in _&&t(0,i=_.colspan),"rowspan"in _&&t(1,f=_.rowspan),"title"in _&&t(2,o=_.title),"links"in _&&t(3,r=_.links),"blank"in _&&t(4,u=_.blank),"$$scope"in _&&t(7,a=_.$$scope)},[i,f,o,r,u,l,c,a,n]}class ce extends ie{constructor(e){super();ae(this,e,pi,bi,se,{colspan:0,rowspan:1,title:2,links:3,blank:4})}}function rt(s,e,t){const l=s.slice();return l[39]=e[t],l[41]=t,l}function ut(s,e,t){const l=s.slice();return l[42]=e[t],l}function ct(s,e,t){const l=s.slice();return l[45]=e[t],l[41]=t,l}function ki(s){let e;return{c(){e=T("Population Group Profiles")},l(t){e=V(t,"Population Group Profiles")},m(t,l){E(t,e,l)},d(t){t&&h(e)}}}function wi(s){let e,t,l,n,a,i,f,o,r,u,c;return e=new jn({props:{$$slots:{default:[ki]},$$scope:{ctx:s}}}),{c(){q(e.$$.fragment),t=P(),l=y("p"),n=T("Select one or more identity characteristics to define a population group to compare with the whole population of England and Wales. For example, see "),a=y("a"),i=T("people of Sikh ethnicity born in the UK"),f=T(" or "),o=y("a"),r=T("people aged 65+ born in Ireland"),u=T("."),this.h()},l(_){Y(e.$$.fragment,_),t=L(_),l=D(_,"P",{class:!0});var m=I(l);n=V(m,"Select one or more identity characteristics to define a population group to compare with the whole population of England and Wales. For example, see "),a=D(m,"A",{href:!0,class:!0});var v=I(a);i=V(v,"people of Sikh ethnicity born in the UK"),v.forEach(h),f=V(m," or "),o=D(m,"A",{href:!0,class:!0});var g=I(o);r=V(g,"people aged 65+ born in Ireland"),g.forEach(h),u=V(m,"."),m.forEach(h),this.h()},h(){w(a,"href","?religion=7&cob=1-5"),w(a,"class","svelte-o8m547"),w(o,"href","?age=65-90&cob=6"),w(o,"class","svelte-o8m547"),w(l,"class","subtitle svelte-o8m547")},m(_,m){F(e,_,m),E(_,t,m),E(_,l,m),b(l,n),b(l,a),b(a,i),b(l,f),b(l,o),b(o,r),b(l,u),c=!0},p(_,m){const v={};m[1]&65536&&(v.$$scope={dirty:m,ctx:_}),e.$set(v)},i(_){c||(C(e.$$.fragment,_),c=!0)},o(_){A(e.$$.fragment,_),c=!1},d(_){W(e,_),_&&h(t),_&&h(l)}}}function _t(s){let e,t=de(s[45].label)+"",l,n;return{c(){e=y("option"),l=T(t),this.h()},l(a){e=D(a,"OPTION",{});var i=I(e);l=V(i,t),i.forEach(h),this.h()},h(){e.__value=n=s[45],e.value=e.__value},m(a,i){E(a,e,i),b(e,l)},p(a,i){i[0]&2048&&t!==(t=de(a[45].label)+"")&&G(l,t),i[0]&2048&&n!==(n=a[45])&&(e.__value=n,e.value=e.__value)},d(a){a&&h(e)}}}function ht(s){let e,t,l,n,a,i,f=s[2].cats,o=[];for(let r=0;r<f.length;r+=1)o[r]=dt(ut(s,f,r));return{c(){e=y("select");for(let r=0;r<o.length;r+=1)o[r].c();t=P(),l=y("button"),n=T("Add"),this.h()},l(r){e=D(r,"SELECT",{class:!0});var u=I(e);for(let _=0;_<o.length;_+=1)o[_].l(u);u.forEach(h),t=L(r),l=D(r,"BUTTON",{class:!0});var c=I(l);n=V(c,"Add"),c.forEach(h),this.h()},h(){w(e,"class","svelte-o8m547"),s[3][s[2].label]===void 0&&qe(()=>s[25].call(e)),w(l,"class","btn svelte-o8m547")},m(r,u){E(r,e,u);for(let c=0;c<o.length;c+=1)o[c].m(e,null);He(e,s[3][s[2].label]),E(r,t,u),E(r,l,u),b(l,n),a||(i=[Ae(e,"change",s[25]),Ae(l,"mouseup",s[26])],a=!0)},p(r,u){if(u[0]&4){f=r[2].cats;let c;for(c=0;c<f.length;c+=1){const _=ut(r,f,c);o[c]?o[c].p(_,u):(o[c]=dt(_),o[c].c(),o[c].m(e,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=f.length}u[0]&2060&&He(e,r[3][r[2].label])},d(r){r&&h(e),le(o,r),r&&h(t),r&&h(l),a=!1,zt(i)}}}function dt(s){let e,t,l=(s[42].indent?Array.from({length:s[42].indent-1},s[24]).join("")+el:"")+"",n=de(s[42].label)+"",a,i;return{c(){e=y("option"),t=new xt,a=T(n),this.h()},l(f){e=D(f,"OPTION",{});var o=I(e);t=en(o),a=V(o,n),o.forEach(h),this.h()},h(){t.a=a,e.__value=i=s[42],e.value=e.__value},m(f,o){E(f,e,o),t.m(l,e),b(e,a)},p(f,o){o[0]&4&&l!==(l=(f[42].indent?Array.from({length:f[42].indent-1},f[24]).join("")+el:"")+"")&&t.p(l),o[0]&4&&n!==(n=de(f[42].label)+"")&&G(a,n),o[0]&2052&&i!==(i=f[42])&&(e.__value=i,e.value=e.__value)},d(f){f&&h(e)}}}function mt(s){let e,t,l,n=s[0],a=[];for(let i=0;i<n.length;i+=1)a[i]=gt(rt(s,n,i));return{c(){e=y("br"),t=P();for(let i=0;i<a.length;i+=1)a[i].c();l=M()},l(i){e=D(i,"BR",{}),t=L(i);for(let f=0;f<a.length;f+=1)a[f].l(i);l=M()},m(i,f){E(i,e,f),E(i,t,f);for(let o=0;o<a.length;o+=1)a[o].m(i,f);E(i,l,f)},p(i,f){if(f[0]&8353){n=i[0];let o;for(o=0;o<n.length;o+=1){const r=rt(i,n,o);a[o]?a[o].p(r,f):(a[o]=gt(r),a[o].c(),a[o].m(l.parentNode,l))}for(;o<a.length;o+=1)a[o].d(1);a.length=n.length}},d(i){i&&h(e),i&&h(t),le(a,i),i&&h(l)}}}function Ei(s){let e,t,l=de(s[39].topic)+"",n,a,i=de(s[39].label)+"",f,o,r,u,c,_;function m(){return s[27](s[39])}return{c(){e=y("div"),t=y("span"),n=T(l),a=T(": "),f=T(i),o=P(),r=y("button"),u=P(),this.h()},l(v){e=D(v,"DIV",{class:!0});var g=I(e);t=D(g,"SPAN",{class:!0});var p=I(t);n=V(p,l),a=V(p,": "),f=V(p,i),p.forEach(h),o=L(g),r=D(g,"BUTTON",{class:!0}),I(r).forEach(h),u=L(g),g.forEach(h),this.h()},h(){w(t,"class","svelte-o8m547"),w(r,"class","svelte-o8m547"),w(e,"class","chip svelte-o8m547"),_e(e,"chip-inactive",s[41]>=s[7])},m(v,g){E(v,e,g),b(e,t),b(t,n),b(t,a),b(t,f),b(e,o),b(e,r),b(e,u),c||(_=Ae(r,"click",m),c=!0)},p(v,g){s=v,g[0]&1&&l!==(l=de(s[39].topic)+"")&&G(n,l),g[0]&1&&i!==(i=de(s[39].label)+"")&&G(f,i),g[0]&128&&_e(e,"chip-inactive",s[41]>=s[7])},d(v){v&&h(e),c=!1,_()}}}function yi(s){let e,t,l=de(s[39].topic)+"",n,a,i=de(s[39].label)+"",f,o,r,u;return{c(){e=y("div"),t=y("span"),n=T(l),a=T(": "),f=T(i),o=P(),r=y("div"),u=P(),this.h()},l(c){e=D(c,"DIV",{class:!0});var _=I(e);t=D(_,"SPAN",{class:!0});var m=I(t);n=V(m,l),a=V(m,": "),f=V(m,i),m.forEach(h),o=L(_),r=D(_,"DIV",{class:!0}),I(r).forEach(h),u=L(_),_.forEach(h),this.h()},h(){w(t,"class","svelte-o8m547"),w(r,"class","chip-loader svelte-o8m547"),w(e,"class","chip chip-pending svelte-o8m547")},m(c,_){E(c,e,_),b(e,t),b(t,n),b(t,a),b(t,f),b(e,o),b(e,r),b(e,u)},p(c,_){_[0]&1&&l!==(l=de(c[39].topic)+"")&&G(n,l),_[0]&1&&i!==(i=de(c[39].label)+"")&&G(f,i)},d(c){c&&h(e)}}}function gt(s){let e;function t(a,i){return a[5]=="loading"&&a[41]==a[0].length-1?yi:Ei}let l=t(s),n=l(s);return{c(){n.c(),e=M()},l(a){n.l(a),e=M()},m(a,i){n.m(a,i),E(a,e,i)},p(a,i){l===(l=t(a))&&n?n.p(a,i):(n.d(1),n=l(a),n&&(n.c(),n.m(e.parentNode,e)))},d(a){n.d(a),a&&h(e)}}}function vt(s){let e,t,l,n=s[5]=="failed"&&bt(),a=s[6]==!0&&pt();return{c(){e=y("div"),t=T(`Some datasets not available for selected variables.
    `),n&&n.c(),l=P(),a&&a.c(),this.h()},l(i){e=D(i,"DIV",{class:!0});var f=I(e);t=V(f,`Some datasets not available for selected variables.
    `),n&&n.l(f),l=L(f),a&&a.l(f),f.forEach(h),this.h()},h(){w(e,"class","warning svelte-o8m547")},m(i,f){E(i,e,f),b(e,t),n&&n.m(e,null),b(e,l),a&&a.m(e,null)},p(i,f){i[5]=="failed"?n||(n=bt(),n.c(),n.m(e,l)):n&&(n.d(1),n=null),i[6]==!0?a||(a=pt(),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},d(i){i&&h(e),n&&n.d(),a&&a.d()}}}function bt(s){let e;return{c(){e=T("Try removing a variable to see more datasets.")},l(t){e=V(t,"Try removing a variable to see more datasets.")},m(t,l){E(t,e,l)},d(t){t&&h(e)}}}function pt(s){let e;return{c(){e=T("Economic indicators (employment, social status etc) not available for ages 0 to 15.")},l(t){e=V(t,"Economic indicators (employment, social status etc) not available for ages 0 to 15.")},m(t,l){E(t,e,l)},d(t){t&&h(e)}}}function Di(s){let e,t,l,n=s[11][0]?s[0][0]?"Select another characteristic":"Select a characteristic":"No more topics available",a,i,f,o,r,u,c,_=s[11],m=[];for(let d=0;d<_.length;d+=1)m[d]=_t(ct(s,_,d));let v=s[2]&&ht(s),g=s[0][0]&&mt(s),p=(s[5]=="failed"||s[6]==!0)&&vt(s);return{c(){e=y("div"),t=y("select"),l=y("option"),a=T(n);for(let d=0;d<m.length;d+=1)m[d].c();f=P(),v&&v.c(),o=P(),g&&g.c(),r=P(),p&&p.c(),this.h()},l(d){e=D(d,"DIV",{slot:!0,class:!0});var k=I(e);t=D(k,"SELECT",{class:!0});var S=I(t);l=D(S,"OPTION",{});var N=I(l);a=V(N,n),N.forEach(h);for(let K=0;K<m.length;K+=1)m[K].l(S);S.forEach(h),f=L(k),v&&v.l(k),o=L(k),g&&g.l(k),r=L(k),p&&p.l(k),k.forEach(h),this.h()},h(){l.__value=null,l.value=l.__value,t.disabled=i=!s[11][0],w(t,"class","svelte-o8m547"),s[2]===void 0&&qe(()=>s[23].call(t)),w(e,"slot","meta"),w(e,"class","wrapper")},m(d,k){E(d,e,k),b(e,t),b(t,l),b(l,a);for(let S=0;S<m.length;S+=1)m[S].m(t,null);He(t,s[2]),b(e,f),v&&v.m(e,null),b(e,o),g&&g.m(e,null),b(e,r),p&&p.m(e,null),u||(c=Ae(t,"change",s[23]),u=!0)},p(d,k){if(k[0]&2049&&n!==(n=d[11][0]?d[0][0]?"Select another characteristic":"Select a characteristic":"No more topics available")&&G(a,n),k[0]&2048){_=d[11];let S;for(S=0;S<_.length;S+=1){const N=ct(d,_,S);m[S]?m[S].p(N,k):(m[S]=_t(N),m[S].c(),m[S].m(t,null))}for(;S<m.length;S+=1)m[S].d(1);m.length=_.length}k[0]&2048&&i!==(i=!d[11][0])&&(t.disabled=i),k[0]&2052&&He(t,d[2]),d[2]?v?v.p(d,k):(v=ht(d),v.c(),v.m(e,o)):v&&(v.d(1),v=null),d[0][0]?g?g.p(d,k):(g=mt(d),g.c(),g.m(e,r)):g&&(g.d(1),g=null),d[5]=="failed"||d[6]==!0?p?p.p(d,k):(p=vt(d),p.c(),p.m(e,null)):p&&(p.d(1),p=null)},d(d){d&&h(e),le(m,d),v&&v.d(),g&&g.d(),p&&p.d(),u=!1,c()}}}function Ii(s){let e,t=(Math.round(s[10].selected/s[10].all*100)>0?Math.round(s[10].selected/s[10].all*100):"<1")+"",l,n,a,i,f,o,r,u,c=s[10].selected.toLocaleString()+"",_,m,v=s[10].all.toLocaleString()+"",g,p;return{c(){e=y("div"),l=T(t),n=T("%"),a=P(),i=y("div"),f=T("of people in England and Wales"),o=P(),r=y("div"),u=y("mark"),_=T(c),m=T(" of "),g=T(v),p=T(" people"),this.h()},l(d){e=D(d,"DIV",{class:!0});var k=I(e);l=V(k,t),n=V(k,"%"),k.forEach(h),a=L(d),i=D(d,"DIV",{class:!0});var S=I(i);f=V(S,"of people in England and Wales"),S.forEach(h),o=L(d),r=D(d,"DIV",{class:!0});var N=I(r);u=D(N,"MARK",{class:!0});var K=I(u);_=V(K,c),K.forEach(h),m=V(N," of "),g=V(N,v),p=V(N," people"),N.forEach(h),this.h()},h(){w(e,"class","num-big svelte-o8m547"),w(i,"class","num-suffix svelte-o8m547"),w(u,"class","svelte-o8m547"),w(r,"class","num-desc svelte-o8m547")},m(d,k){E(d,e,k),b(e,l),b(e,n),E(d,a,k),E(d,i,k),b(i,f),E(d,o,k),E(d,r,k),b(r,u),b(u,_),b(r,m),b(r,g),b(r,p)},p(d,k){k[0]&1024&&t!==(t=(Math.round(d[10].selected/d[10].all*100)>0?Math.round(d[10].selected/d[10].all*100):"<1")+"")&&G(l,t),k[0]&1024&&c!==(c=d[10].selected.toLocaleString()+"")&&G(_,c),k[0]&1024&&v!==(v=d[10].all.toLocaleString()+"")&&G(g,v)},d(d){d&&h(e),d&&h(a),d&&h(i),d&&h(o),d&&h(r)}}}function Si(s){let e,t=me.nodata+"",l;return{c(){e=y("div"),l=T(t),this.h()},l(n){e=D(n,"DIV",{class:!0});var a=I(e);l=V(a,t),a.forEach(h),this.h()},h(){w(e,"class","num-desc svelte-o8m547")},m(n,a){E(n,e,a),b(e,l)},p:B,d(n){n&&h(e)}}}function Ni(s){let e;function t(a,i){return a[10].selected==0?Si:Ii}let l=t(s),n=l(s);return{c(){n.c(),e=M()},l(a){n.l(a),e=M()},m(a,i){n.m(a,i),E(a,e,i)},p(a,i){l===(l=t(a))&&n?n.p(a,i):(n.d(1),n=l(a),n&&(n.c(),n.m(e.parentNode,e)))},d(a){n.d(a),a&&h(e)}}}function Ci(s){let e,t=s[15](s[9].selected)+"",l,n,a,i,f,o,r=s[10].all!=s[10].selected&&kt(s);return{c(){e=y("div"),l=T(t),n=P(),a=y("div"),i=T("years"),f=P(),r&&r.c(),o=M(),this.h()},l(u){e=D(u,"DIV",{class:!0});var c=I(e);l=V(c,t),c.forEach(h),n=L(u),a=D(u,"DIV",{class:!0});var _=I(a);i=V(_,"years"),_.forEach(h),f=L(u),r&&r.l(u),o=M(),this.h()},h(){w(e,"class","num-big svelte-o8m547"),w(a,"class","num-suffix svelte-o8m547")},m(u,c){E(u,e,c),b(e,l),E(u,n,c),E(u,a,c),b(a,i),E(u,f,c),r&&r.m(u,c),E(u,o,c)},p(u,c){c[0]&512&&t!==(t=u[15](u[9].selected)+"")&&G(l,t),u[10].all!=u[10].selected?r?r.p(u,c):(r=kt(u),r.c(),r.m(o.parentNode,o)):r&&(r.d(1),r=null)},d(u){u&&h(e),u&&h(n),u&&h(a),u&&h(f),r&&r.d(u),u&&h(o)}}}function zi(s){let e,t=me.nodata+"",l;return{c(){e=y("div"),l=T(t),this.h()},l(n){e=D(n,"DIV",{class:!0});var a=I(e);l=V(a,t),a.forEach(h),this.h()},h(){w(e,"class","num-desc svelte-o8m547")},m(n,a){E(n,e,a),b(e,l)},p:B,d(n){n&&h(e)}}}function kt(s){let e,t,l=s[15](s[9].all)+"",n,a,i;return{c(){e=y("div"),t=y("mark"),n=T(l),a=T(" years"),i=T(" for whole population"),this.h()},l(f){e=D(f,"DIV",{class:!0});var o=I(e);t=D(o,"MARK",{class:!0});var r=I(t);n=V(r,l),a=V(r," years"),r.forEach(h),i=V(o," for whole population"),o.forEach(h),this.h()},h(){w(t,"class","svelte-o8m547"),w(e,"class","num-desc svelte-o8m547")},m(f,o){E(f,e,o),b(e,t),b(t,n),b(t,a),b(e,i)},p(f,o){o[0]&512&&l!==(l=f[15](f[9].all)+"")&&G(n,l)},d(f){f&&h(e)}}}function Ai(s){let e,t;function l(i,f){return f[0]&512&&(e=null),e==null&&(e=!!pe(i[9].selected.residents.age.values)),e?zi:Ci}let n=l(s,[-1,-1]),a=n(s);return{c(){a.c(),t=M()},l(i){a.l(i),t=M()},m(i,f){a.m(i,f),E(i,t,f)},p(i,f){n===(n=l(i,f))&&a?a.p(i,f):(a.d(1),a=n(i),a&&(a.c(),a.m(t.parentNode,t)))},d(i){a.d(i),i&&h(t)}}}function Ti(s){let e,t;return e=new Fn({props:{data:s[9].selected&&s[14](["residents","age"])}}),{c(){q(e.$$.fragment)},l(l){Y(e.$$.fragment,l)},m(l,n){F(e,l,n),t=!0},p(l,n){const a={};n[0]&512&&(a.data=l[9].selected&&l[14](["residents","age"])),e.$set(a)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function Vi(s){let e,t=me.nodata+"",l;return{c(){e=y("span"),l=T(t),this.h()},l(n){e=D(n,"SPAN",{class:!0});var a=I(e);l=V(a,t),a.forEach(h),this.h()},h(){w(e,"class","num-desc svelte-o8m547")},m(n,a){E(n,e,a),b(e,l)},p:B,i:B,o:B,d(n){n&&h(e)}}}function Pi(s){let e,t,l,n,a;const i=[Vi,Ti],f=[];function o(r,u){return u[0]&512&&(e=null),e==null&&(e=!!pe(r[9].selected.residents.age.values)),e?0:1}return t=o(s,[-1,-1]),l=f[t]=i[t](s),{c(){l.c(),n=M()},l(r){l.l(r),n=M()},m(r,u){f[t].m(r,u),E(r,n,u),a=!0},p(r,u){let c=t;t=o(r,u),t===c?f[t].p(r,u):(Q(),A(f[c],1,1,()=>{f[c]=null}),X(),l=f[t],l?l.p(r,u):(l=f[t]=i[t](r),l.c()),C(l,1),l.m(n.parentNode,n))},i(r){a||(C(l),a=!0)},o(r){A(l),a=!1},d(r){f[t].d(r),r&&h(n)}}}function Li(s){let e,t,l,n,a,i;return e=new ce({props:{title:"Population",$$slots:{default:[Ni]},$$scope:{ctx:s}}}),l=new ce({props:{title:"Average (median) age",$$slots:{default:[Ai]},$$scope:{ctx:s}}}),a=new ce({props:{title:"Age profile",$$slots:{default:[Pi]},$$scope:{ctx:s}}}),{c(){q(e.$$.fragment),t=P(),q(l.$$.fragment),n=P(),q(a.$$.fragment)},l(f){Y(e.$$.fragment,f),t=L(f),Y(l.$$.fragment,f),n=L(f),Y(a.$$.fragment,f)},m(f,o){F(e,f,o),E(f,t,o),F(l,f,o),E(f,n,o),F(a,f,o),i=!0},p(f,o){const r={};o[0]&1024|o[1]&65536&&(r.$$scope={dirty:o,ctx:f}),e.$set(r);const u={};o[0]&1536|o[1]&65536&&(u.$$scope={dirty:o,ctx:f}),l.$set(u);const c={};o[0]&512|o[1]&65536&&(c.$$scope={dirty:o,ctx:f}),a.$set(c)},i(f){i||(C(e.$$.fragment,f),C(l.$$.fragment,f),C(a.$$.fragment,f),i=!0)},o(f){A(e.$$.fragment,f),A(l.$$.fragment,f),A(a.$$.fragment,f),i=!1},d(f){W(e,f),f&&h(t),W(l,f),f&&h(n),W(a,f)}}}function wt(s){let e,t;return e=new ui({props:{id:"lad",type:"geojson",data:s[9].geojson,promoteId:Pe.code,$$slots:{default:[Ki]},$$scope:{ctx:s}}}),{c(){q(e.$$.fragment)},l(l){Y(e.$$.fragment,l)},m(l,n){F(e,l,n),t=!0},p(l,n){const a={};n[0]&512&&(a.data=l[9].geojson),n[0]&528|n[1]&65536&&(a.$$scope={dirty:n,ctx:l}),e.$set(a)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function Ki(s){let e,t,l,n,a;function i(o){s[28](o)}let f={id:"lad-fill",data:s[9].geoPerc,geoCode:"code",nameCode:"name",colorCode:"color",valueCode:"value",hover:!0,tooltip:!0,type:"fill",paint:{"fill-color":["case",["!=",["feature-state","color"],null],["feature-state","color"],"rgba(255, 255, 255, 0)"],"fill-opacity":.8},order:"highway_name_other"};return s[4]!==void 0&&(f.hovered=s[4]),e=new tt({props:f}),Ye.push(()=>At(e,"hovered",i)),n=new tt({props:{id:"lad-line",type:"line",paint:{"line-color":"orange","line-width":2,"line-opacity":["case",["==",["feature-state","hovered"],!0],1,0]},order:"highway_name_other"}}),{c(){q(e.$$.fragment),l=P(),q(n.$$.fragment)},l(o){Y(e.$$.fragment,o),l=L(o),Y(n.$$.fragment,o)},m(o,r){F(e,o,r),E(o,l,r),F(n,o,r),a=!0},p(o,r){const u={};r[0]&512&&(u.data=o[9].geoPerc),!t&&r[0]&16&&(t=!0,u.hovered=o[4],Tt(()=>t=!1)),e.$set(u)},i(o){a||(C(e.$$.fragment,o),C(n.$$.fragment,o),a=!0)},o(o){A(e.$$.fragment,o),A(n.$$.fragment,o),a=!1},d(o){W(e,o),o&&h(l),W(n,o)}}}function Mi(s){let e,t,l=s[9].geojson&&s[9].geoPerc&&wt(s);return{c(){l&&l.c(),e=M()},l(n){l&&l.l(n),e=M()},m(n,a){l&&l.m(n,a),E(n,e,a),t=!0},p(n,a){n[9].geojson&&n[9].geoPerc?l?(l.p(n,a),a[0]&512&&C(l,1)):(l=wt(n),l.c(),C(l,1),l.m(e.parentNode,e)):l&&(Q(),A(l,1,1,()=>{l=null}),X())},i(n){t||(C(l),t=!0)},o(n){A(l),t=!1},d(n){l&&l.d(n),n&&h(e)}}}function Et(s){let e,t,l;return t=new Un({props:{breaks:s[9].geoBreaks,hovered:s[4]&&s[9].geoPerc.find(s[30])?s[9].geoPerc.find(s[31]).value:null,colors:s[9].geoBreaks[1]==100?[Ee.seq[4]]:Ee.seq}}),{c(){e=y("div"),q(t.$$.fragment),this.h()},l(n){e=D(n,"DIV",{});var a=I(e);Y(t.$$.fragment,a),a.forEach(h),this.h()},h(){z(e,"height","38px",!1),z(e,"width","100%",!1)},m(n,a){E(n,e,a),F(t,e,null),l=!0},p(n,a){const i={};a[0]&512&&(i.breaks=n[9].geoBreaks),a[0]&528&&(i.hovered=n[4]&&n[9].geoPerc.find(n[30])?n[9].geoPerc.find(n[31]).value:null),a[0]&512&&(i.colors=n[9].geoBreaks[1]==100?[Ee.seq[4]]:Ee.seq),t.$set(i)},i(n){l||(C(t.$$.fragment,n),l=!0)},o(n){A(t.$$.fragment,n),l=!1},d(n){n&&h(e),W(t)}}}function ji(s){let e,t,l,n,a,i;function f(u){s[29](u)}let o={style:fn,$$slots:{default:[Mi]},$$scope:{ctx:s}};s[1]!==void 0&&(o.map=s[1]),t=new fi({props:o}),Ye.push(()=>At(t,"map",f));let r=s[9].geoBreaks&&s[9].geoPerc&&Et(s);return{c(){e=y("div"),q(t.$$.fragment),n=P(),r&&r.c(),a=M(),this.h()},l(u){e=D(u,"DIV",{});var c=I(e);Y(t.$$.fragment,c),c.forEach(h),n=L(u),r&&r.l(u),a=M(),this.h()},h(){z(e,"height","450px",!1)},m(u,c){E(u,e,c),F(t,e,null),E(u,n,c),r&&r.m(u,c),E(u,a,c),i=!0},p(u,c){const _={};c[0]&528|c[1]&65536&&(_.$$scope={dirty:c,ctx:u}),!l&&c[0]&2&&(l=!0,_.map=u[1],Tt(()=>l=!1)),t.$set(_),u[9].geoBreaks&&u[9].geoPerc?r?(r.p(u,c),c[0]&512&&C(r,1)):(r=Et(u),r.c(),C(r,1),r.m(a.parentNode,a)):r&&(Q(),A(r,1,1,()=>{r=null}),X())},i(u){i||(C(t.$$.fragment,u),C(r),i=!0)},o(u){A(t.$$.fragment,u),A(r),i=!1},d(u){u&&h(e),W(t),u&&h(n),r&&r.d(u),u&&h(a)}}}function Bi(s){let e,t;return{c(){e=y("span"),t=T("Make a selection to see rankings."),this.h()},l(l){e=D(l,"SPAN",{class:!0});var n=I(e);t=V(n,"Make a selection to see rankings."),n.forEach(h),this.h()},h(){w(e,"class","muted svelte-o8m547")},m(l,n){E(l,e,n),b(e,t)},p:B,i:B,o:B,d(l){l&&h(e)}}}function Oi(s){let e,t;return e=new Ot({props:{data:[...s[9].geoPerc].sort(yt).slice(0,5)}}),{c(){q(e.$$.fragment)},l(l){Y(e.$$.fragment,l)},m(l,n){F(e,l,n),t=!0},p(l,n){const a={};n[0]&512&&(a.data=[...l[9].geoPerc].sort(yt).slice(0,5)),e.$set(a)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function Hi(s){let e,t,l,n;const a=[Oi,Bi],i=[];function f(o,r){return o[9].geoPerc&&o[0][0]?0:1}return e=f(s),t=i[e]=a[e](s),{c(){t.c(),l=M()},l(o){t.l(o),l=M()},m(o,r){i[e].m(o,r),E(o,l,r),n=!0},p(o,r){let u=e;e=f(o),e===u?i[e].p(o,r):(Q(),A(i[u],1,1,()=>{i[u]=null}),X(),t=i[e],t?t.p(o,r):(t=i[e]=a[e](o),t.c()),C(t,1),t.m(l.parentNode,l))},i(o){n||(C(t),n=!0)},o(o){A(t),n=!1},d(o){i[e].d(o),o&&h(l)}}}function qi(s){let e,t;return{c(){e=y("span"),t=T("Make a selection to see rankings."),this.h()},l(l){e=D(l,"SPAN",{class:!0});var n=I(e);t=V(n,"Make a selection to see rankings."),n.forEach(h),this.h()},h(){w(e,"class","muted svelte-o8m547")},m(l,n){E(l,e,n),b(e,t)},p:B,i:B,o:B,d(l){l&&h(e)}}}function Fi(s){let e,t;return e=new Ot({props:{data:s[9].geoPerc.filter(Dt).sort(It).slice(-5),offset:s[9].geoPerc.filter(St).length-4}}),{c(){q(e.$$.fragment)},l(l){Y(e.$$.fragment,l)},m(l,n){F(e,l,n),t=!0},p(l,n){const a={};n[0]&512&&(a.data=l[9].geoPerc.filter(Dt).sort(It).slice(-5)),n[0]&512&&(a.offset=l[9].geoPerc.filter(St).length-4),e.$set(a)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function Wi(s){let e,t,l,n;const a=[Fi,qi],i=[];function f(o,r){return o[9].geoPerc&&o[0][0]?0:1}return e=f(s),t=i[e]=a[e](s),{c(){t.c(),l=M()},l(o){t.l(o),l=M()},m(o,r){i[e].m(o,r),E(o,l,r),n=!0},p(o,r){let u=e;e=f(o),e===u?i[e].p(o,r):(Q(),A(i[u],1,1,()=>{i[u]=null}),X(),t=i[e],t?t.p(o,r):(t=i[e]=a[e](o),t.c()),C(t,1),t.m(l.parentNode,l))},i(o){n||(C(t),n=!0)},o(o){A(t),n=!1},d(o){i[e].d(o),o&&h(l)}}}function Gi(s){let e,t,l,n,a,i;return e=new ce({props:{colspan:2,rowspan:2,blank:!0,$$slots:{default:[ji]},$$scope:{ctx:s}}}),l=new ce({props:{title:"Areas with highest %",$$slots:{default:[Hi]},$$scope:{ctx:s}}}),a=new ce({props:{title:"Areas with lowest %",$$slots:{default:[Wi]},$$scope:{ctx:s}}}),{c(){q(e.$$.fragment),t=P(),q(l.$$.fragment),n=P(),q(a.$$.fragment)},l(f){Y(e.$$.fragment,f),t=L(f),Y(l.$$.fragment,f),n=L(f),Y(a.$$.fragment,f)},m(f,o){F(e,f,o),E(f,t,o),F(l,f,o),E(f,n,o),F(a,f,o),i=!0},p(f,o){const r={};o[0]&530|o[1]&65536&&(r.$$scope={dirty:o,ctx:f}),e.$set(r);const u={};o[0]&513|o[1]&65536&&(u.$$scope={dirty:o,ctx:f}),l.$set(u);const c={};o[0]&513|o[1]&65536&&(c.$$scope={dirty:o,ctx:f}),a.$set(c)},i(f){i||(C(e.$$.fragment,f),C(l.$$.fragment,f),C(a.$$.fragment,f),i=!0)},o(f){A(e.$$.fragment,f),A(l.$$.fragment,f),A(a.$$.fragment,f),i=!1},d(f){W(e,f),f&&h(t),W(l,f),f&&h(n),W(a,f)}}}function Ui(s){let e,t,l;var n=s[8];function a(i){return{props:{data:i[9].selected&&i[14](["residents","health"])}}}return n&&(e=new n(a(s))),{c(){e&&q(e.$$.fragment),t=M()},l(i){e&&Y(e.$$.fragment,i),t=M()},m(i,f){e&&F(e,i,f),E(i,t,f),l=!0},p(i,f){const o={};if(f[0]&512&&(o.data=i[9].selected&&i[14](["residents","health"])),n!==(n=i[8])){if(e){Q();const r=e;A(r.$$.fragment,1,0,()=>{W(r,1)}),X()}n?(e=new n(a(i)),q(e.$$.fragment),C(e.$$.fragment,1),F(e,t.parentNode,t)):e=null}else n&&e.$set(o)},i(i){l||(e&&C(e.$$.fragment,i),l=!0)},o(i){e&&A(e.$$.fragment,i),l=!1},d(i){i&&h(t),e&&W(e,i)}}}function Ri(s){let e,t=me.nodata+"",l;return{c(){e=y("span"),l=T(t),this.h()},l(n){e=D(n,"SPAN",{class:!0});var a=I(e);l=V(a,t),a.forEach(h),this.h()},h(){w(e,"class","num-desc svelte-o8m547")},m(n,a){E(n,e,a),b(e,l)},p:B,i:B,o:B,d(n){n&&h(e)}}}function Yi(s){let e,t,l,n,a;const i=[Ri,Ui],f=[];function o(r,u){return u[0]&512&&(e=null),e==null&&(e=!!pe(r[9].selected.residents.health.values)),e?0:1}return t=o(s,[-1,-1]),l=f[t]=i[t](s),{c(){l.c(),n=M()},l(r){l.l(r),n=M()},m(r,u){f[t].m(r,u),E(r,n,u),a=!0},p(r,u){let c=t;t=o(r,u),t===c?f[t].p(r,u):(Q(),A(f[c],1,1,()=>{f[c]=null}),X(),l=f[t],l?l.p(r,u):(l=f[t]=i[t](r),l.c()),C(l,1),l.m(n.parentNode,n))},i(r){a||(C(l),a=!0)},o(r){A(l),a=!1},d(r){f[t].d(r),r&&h(n)}}}function Zi(s){let e,t,l;var n=s[8];function a(i){return{props:{data:i[9].selected&&i[14](["residents","marital"])}}}return n&&(e=new n(a(s))),{c(){e&&q(e.$$.fragment),t=M()},l(i){e&&Y(e.$$.fragment,i),t=M()},m(i,f){e&&F(e,i,f),E(i,t,f),l=!0},p(i,f){const o={};if(f[0]&512&&(o.data=i[9].selected&&i[14](["residents","marital"])),n!==(n=i[8])){if(e){Q();const r=e;A(r.$$.fragment,1,0,()=>{W(r,1)}),X()}n?(e=new n(a(i)),q(e.$$.fragment),C(e.$$.fragment,1),F(e,t.parentNode,t)):e=null}else n&&e.$set(o)},i(i){l||(e&&C(e.$$.fragment,i),l=!0)},o(i){e&&A(e.$$.fragment,i),l=!1},d(i){i&&h(t),e&&W(e,i)}}}function Ji(s){let e,t=me.nodata+"",l;return{c(){e=y("span"),l=T(t),this.h()},l(n){e=D(n,"SPAN",{class:!0});var a=I(e);l=V(a,t),a.forEach(h),this.h()},h(){w(e,"class","num-desc svelte-o8m547")},m(n,a){E(n,e,a),b(e,l)},p:B,i:B,o:B,d(n){n&&h(e)}}}function Qi(s){let e,t,l,n,a;const i=[Ji,Zi],f=[];function o(r,u){return u[0]&512&&(e=null),e==null&&(e=!!pe(r[9].selected.residents.marital.values)),e?0:1}return t=o(s,[-1,-1]),l=f[t]=i[t](s),{c(){l.c(),n=M()},l(r){l.l(r),n=M()},m(r,u){f[t].m(r,u),E(r,n,u),a=!0},p(r,u){let c=t;t=o(r,u),t===c?f[t].p(r,u):(Q(),A(f[c],1,1,()=>{f[c]=null}),X(),l=f[t],l?l.p(r,u):(l=f[t]=i[t](r),l.c()),C(l,1),l.m(n.parentNode,n))},i(r){a||(C(l),a=!0)},o(r){A(l),a=!1},d(r){f[t].d(r),r&&h(n)}}}function Xi(s){let e,t,l;var n=s[8];function a(i){return{props:{data:i[9].selected&&i[14](["residents","grade"])}}}return n&&(e=new n(a(s))),{c(){e&&q(e.$$.fragment),t=M()},l(i){e&&Y(e.$$.fragment,i),t=M()},m(i,f){e&&F(e,i,f),E(i,t,f),l=!0},p(i,f){const o={};if(f[0]&512&&(o.data=i[9].selected&&i[14](["residents","grade"])),n!==(n=i[8])){if(e){Q();const r=e;A(r.$$.fragment,1,0,()=>{W(r,1)}),X()}n?(e=new n(a(i)),q(e.$$.fragment),C(e.$$.fragment,1),F(e,t.parentNode,t)):e=null}else n&&e.$set(o)},i(i){l||(e&&C(e.$$.fragment,i),l=!0)},o(i){e&&A(e.$$.fragment,i),l=!1},d(i){i&&h(t),e&&W(e,i)}}}function $i(s){let e,t=me.nodata+"",l;return{c(){e=y("span"),l=T(t),this.h()},l(n){e=D(n,"SPAN",{class:!0});var a=I(e);l=V(a,t),a.forEach(h),this.h()},h(){w(e,"class","num-desc svelte-o8m547")},m(n,a){E(n,e,a),b(e,l)},p:B,i:B,o:B,d(n){n&&h(e)}}}function xi(s){let e,t,l,n,a;const i=[$i,Xi],f=[];function o(r,u){return u[0]&512&&(e=null),e==null&&(e=!!pe(r[9].selected.residents.grade.values)),e?0:1}return t=o(s,[-1,-1]),l=f[t]=i[t](s),{c(){l.c(),n=M()},l(r){l.l(r),n=M()},m(r,u){f[t].m(r,u),E(r,n,u),a=!0},p(r,u){let c=t;t=o(r,u),t===c?f[t].p(r,u):(Q(),A(f[c],1,1,()=>{f[c]=null}),X(),l=f[t],l?l.p(r,u):(l=f[t]=i[t](r),l.c()),C(l,1),l.m(n.parentNode,n))},i(r){a||(C(l),a=!0)},o(r){A(l),a=!1},d(r){f[t].d(r),r&&h(n)}}}function ea(s){let e,t,l;var n=s[8];function a(i){return{props:{data:i[9].selected&&i[14](["residents","economic"])}}}return n&&(e=new n(a(s))),{c(){e&&q(e.$$.fragment),t=M()},l(i){e&&Y(e.$$.fragment,i),t=M()},m(i,f){e&&F(e,i,f),E(i,t,f),l=!0},p(i,f){const o={};if(f[0]&512&&(o.data=i[9].selected&&i[14](["residents","economic"])),n!==(n=i[8])){if(e){Q();const r=e;A(r.$$.fragment,1,0,()=>{W(r,1)}),X()}n?(e=new n(a(i)),q(e.$$.fragment),C(e.$$.fragment,1),F(e,t.parentNode,t)):e=null}else n&&e.$set(o)},i(i){l||(e&&C(e.$$.fragment,i),l=!0)},o(i){e&&A(e.$$.fragment,i),l=!1},d(i){i&&h(t),e&&W(e,i)}}}function la(s){let e,t=me.nodata+"",l;return{c(){e=y("span"),l=T(t),this.h()},l(n){e=D(n,"SPAN",{class:!0});var a=I(e);l=V(a,t),a.forEach(h),this.h()},h(){w(e,"class","num-desc svelte-o8m547")},m(n,a){E(n,e,a),b(e,l)},p:B,i:B,o:B,d(n){n&&h(e)}}}function ta(s){let e,t,l,n,a;const i=[la,ea],f=[];function o(r,u){return u[0]&512&&(e=null),e==null&&(e=!!pe(r[9].selected.residents.economic.values)),e?0:1}return t=o(s,[-1,-1]),l=f[t]=i[t](s),{c(){l.c(),n=M()},l(r){l.l(r),n=M()},m(r,u){f[t].m(r,u),E(r,n,u),a=!0},p(r,u){let c=t;t=o(r,u),t===c?f[t].p(r,u):(Q(),A(f[c],1,1,()=>{f[c]=null}),X(),l=f[t],l?l.p(r,u):(l=f[t]=i[t](r),l.c()),C(l,1),l.m(n.parentNode,n))},i(r){a||(C(l),a=!0)},o(r){A(l),a=!1},d(r){f[t].d(r),r&&h(n)}}}function na(s){let e,t,l;var n=s[8];function a(i){return{props:{data:i[9].selected&&i[14](["residents","distance"])}}}return n&&(e=new n(a(s))),{c(){e&&q(e.$$.fragment),t=M()},l(i){e&&Y(e.$$.fragment,i),t=M()},m(i,f){e&&F(e,i,f),E(i,t,f),l=!0},p(i,f){const o={};if(f[0]&512&&(o.data=i[9].selected&&i[14](["residents","distance"])),n!==(n=i[8])){if(e){Q();const r=e;A(r.$$.fragment,1,0,()=>{W(r,1)}),X()}n?(e=new n(a(i)),q(e.$$.fragment),C(e.$$.fragment,1),F(e,t.parentNode,t)):e=null}else n&&e.$set(o)},i(i){l||(e&&C(e.$$.fragment,i),l=!0)},o(i){e&&A(e.$$.fragment,i),l=!1},d(i){i&&h(t),e&&W(e,i)}}}function ia(s){let e,t=me.nodata+"",l;return{c(){e=y("span"),l=T(t),this.h()},l(n){e=D(n,"SPAN",{class:!0});var a=I(e);l=V(a,t),a.forEach(h),this.h()},h(){w(e,"class","num-desc svelte-o8m547")},m(n,a){E(n,e,a),b(e,l)},p:B,i:B,o:B,d(n){n&&h(e)}}}function aa(s){let e,t,l,n,a;const i=[ia,na],f=[];function o(r,u){return u[0]&512&&(e=null),e==null&&(e=!!pe(r[9].selected.residents.distance.values)),e?0:1}return t=o(s,[-1,-1]),l=f[t]=i[t](s),{c(){l.c(),n=M()},l(r){l.l(r),n=M()},m(r,u){f[t].m(r,u),E(r,n,u),a=!0},p(r,u){let c=t;t=o(r,u),t===c?f[t].p(r,u):(Q(),A(f[c],1,1,()=>{f[c]=null}),X(),l=f[t],l?l.p(r,u):(l=f[t]=i[t](r),l.c()),C(l,1),l.m(n.parentNode,n))},i(r){a||(C(l),a=!0)},o(r){A(l),a=!1},d(r){f[t].d(r),r&&h(n)}}}function sa(s){let e,t,l;var n=s[8];function a(i){return{props:{data:i[9].selected&&i[14](["residents","travel"])}}}return n&&(e=new n(a(s))),{c(){e&&q(e.$$.fragment),t=M()},l(i){e&&Y(e.$$.fragment,i),t=M()},m(i,f){e&&F(e,i,f),E(i,t,f),l=!0},p(i,f){const o={};if(f[0]&512&&(o.data=i[9].selected&&i[14](["residents","travel"])),n!==(n=i[8])){if(e){Q();const r=e;A(r.$$.fragment,1,0,()=>{W(r,1)}),X()}n?(e=new n(a(i)),q(e.$$.fragment),C(e.$$.fragment,1),F(e,t.parentNode,t)):e=null}else n&&e.$set(o)},i(i){l||(e&&C(e.$$.fragment,i),l=!0)},o(i){e&&A(e.$$.fragment,i),l=!1},d(i){i&&h(t),e&&W(e,i)}}}function fa(s){let e,t=me.nodata+"",l;return{c(){e=y("span"),l=T(t),this.h()},l(n){e=D(n,"SPAN",{class:!0});var a=I(e);l=V(a,t),a.forEach(h),this.h()},h(){w(e,"class","num-desc svelte-o8m547")},m(n,a){E(n,e,a),b(e,l)},p:B,i:B,o:B,d(n){n&&h(e)}}}function oa(s){let e,t,l,n,a;const i=[fa,sa],f=[];function o(r,u){return u[0]&512&&(e=null),e==null&&(e=!!pe(r[9].selected.residents.travel.values)),e?0:1}return t=o(s,[-1,-1]),l=f[t]=i[t](s),{c(){l.c(),n=M()},l(r){l.l(r),n=M()},m(r,u){f[t].m(r,u),E(r,n,u),a=!0},p(r,u){let c=t;t=o(r,u),t===c?f[t].p(r,u):(Q(),A(f[c],1,1,()=>{f[c]=null}),X(),l=f[t],l?l.p(r,u):(l=f[t]=i[t](r),l.c()),C(l,1),l.m(n.parentNode,n))},i(r){a||(C(l),a=!0)},o(r){A(l),a=!1},d(r){f[t].d(r),r&&h(n)}}}function ra(s){let e,t,l;var n=s[8];function a(i){return{props:{data:i[9].selected&&i[14](["households","housing"])}}}return n&&(e=new n(a(s))),{c(){e&&q(e.$$.fragment),t=M()},l(i){e&&Y(e.$$.fragment,i),t=M()},m(i,f){e&&F(e,i,f),E(i,t,f),l=!0},p(i,f){const o={};if(f[0]&512&&(o.data=i[9].selected&&i[14](["households","housing"])),n!==(n=i[8])){if(e){Q();const r=e;A(r.$$.fragment,1,0,()=>{W(r,1)}),X()}n?(e=new n(a(i)),q(e.$$.fragment),C(e.$$.fragment,1),F(e,t.parentNode,t)):e=null}else n&&e.$set(o)},i(i){l||(e&&C(e.$$.fragment,i),l=!0)},o(i){e&&A(e.$$.fragment,i),l=!1},d(i){i&&h(t),e&&W(e,i)}}}function ua(s){let e,t=me.nodata+"",l;return{c(){e=y("span"),l=T(t),this.h()},l(n){e=D(n,"SPAN",{class:!0});var a=I(e);l=V(a,t),a.forEach(h),this.h()},h(){w(e,"class","num-desc svelte-o8m547")},m(n,a){E(n,e,a),b(e,l)},p:B,i:B,o:B,d(n){n&&h(e)}}}function ca(s){let e,t,l,n,a;const i=[ua,ra],f=[];function o(r,u){return u[0]&512&&(e=null),e==null&&(e=!!pe(r[9].selected.households.housing.values)),e?0:1}return t=o(s,[-1,-1]),l=f[t]=i[t](s),{c(){l.c(),n=M()},l(r){l.l(r),n=M()},m(r,u){f[t].m(r,u),E(r,n,u),a=!0},p(r,u){let c=t;t=o(r,u),t===c?f[t].p(r,u):(Q(),A(f[c],1,1,()=>{f[c]=null}),X(),l=f[t],l?l.p(r,u):(l=f[t]=i[t](r),l.c()),C(l,1),l.m(n.parentNode,n))},i(r){a||(C(l),a=!0)},o(r){A(l),a=!1},d(r){f[t].d(r),r&&h(n)}}}function _a(s){let e,t,l;var n=s[8];function a(i){return{props:{data:i[9].selected&&i[14](["households","tenure"])}}}return n&&(e=new n(a(s))),{c(){e&&q(e.$$.fragment),t=M()},l(i){e&&Y(e.$$.fragment,i),t=M()},m(i,f){e&&F(e,i,f),E(i,t,f),l=!0},p(i,f){const o={};if(f[0]&512&&(o.data=i[9].selected&&i[14](["households","tenure"])),n!==(n=i[8])){if(e){Q();const r=e;A(r.$$.fragment,1,0,()=>{W(r,1)}),X()}n?(e=new n(a(i)),q(e.$$.fragment),C(e.$$.fragment,1),F(e,t.parentNode,t)):e=null}else n&&e.$set(o)},i(i){l||(e&&C(e.$$.fragment,i),l=!0)},o(i){e&&A(e.$$.fragment,i),l=!1},d(i){i&&h(t),e&&W(e,i)}}}function ha(s){let e,t=me.nodata+"",l;return{c(){e=y("span"),l=T(t),this.h()},l(n){e=D(n,"SPAN",{class:!0});var a=I(e);l=V(a,t),a.forEach(h),this.h()},h(){w(e,"class","num-desc svelte-o8m547")},m(n,a){E(n,e,a),b(e,l)},p:B,i:B,o:B,d(n){n&&h(e)}}}function da(s){let e,t,l,n,a;const i=[ha,_a],f=[];function o(r,u){return u[0]&512&&(e=null),e==null&&(e=!!pe(r[9].selected.households.tenure.values)),e?0:1}return t=o(s,[-1,-1]),l=f[t]=i[t](s),{c(){l.c(),n=M()},l(r){l.l(r),n=M()},m(r,u){f[t].m(r,u),E(r,n,u),a=!0},p(r,u){let c=t;t=o(r,u),t===c?f[t].p(r,u):(Q(),A(f[c],1,1,()=>{f[c]=null}),X(),l=f[t],l?l.p(r,u):(l=f[t]=i[t](r),l.c()),C(l,1),l.m(n.parentNode,n))},i(r){a||(C(l),a=!0)},o(r){A(l),a=!1},d(r){f[t].d(r),r&&h(n)}}}function ma(s){let e,t,l,n,a,i,f,o,r,u,c,_,m,v,g,p;return e=new ce({props:{title:"General health",$$slots:{default:[Yi]},$$scope:{ctx:s}}}),l=new ce({props:{title:"Marital status",$$slots:{default:[Qi]},$$scope:{ctx:s}}}),a=new ce({props:{title:"Social grade",$$slots:{default:[xi]},$$scope:{ctx:s}}}),f=new ce({props:{title:"Economic activity",$$slots:{default:[ta]},$$scope:{ctx:s}}}),r=new ce({props:{title:"Distance to work (km)",$$slots:{default:[aa]},$$scope:{ctx:s}}}),c=new ce({props:{title:"Mode of travel to work",$$slots:{default:[oa]},$$scope:{ctx:s}}}),m=new ce({props:{title:"Type of housing",$$slots:{default:[ca]},$$scope:{ctx:s}}}),g=new ce({props:{title:"Tenure of housing",$$slots:{default:[da]},$$scope:{ctx:s}}}),{c(){q(e.$$.fragment),t=P(),q(l.$$.fragment),n=P(),q(a.$$.fragment),i=P(),q(f.$$.fragment),o=P(),q(r.$$.fragment),u=P(),q(c.$$.fragment),_=P(),q(m.$$.fragment),v=P(),q(g.$$.fragment)},l(d){Y(e.$$.fragment,d),t=L(d),Y(l.$$.fragment,d),n=L(d),Y(a.$$.fragment,d),i=L(d),Y(f.$$.fragment,d),o=L(d),Y(r.$$.fragment,d),u=L(d),Y(c.$$.fragment,d),_=L(d),Y(m.$$.fragment,d),v=L(d),Y(g.$$.fragment,d)},m(d,k){F(e,d,k),E(d,t,k),F(l,d,k),E(d,n,k),F(a,d,k),E(d,i,k),F(f,d,k),E(d,o,k),F(r,d,k),E(d,u,k),F(c,d,k),E(d,_,k),F(m,d,k),E(d,v,k),F(g,d,k),p=!0},p(d,k){const S={};k[0]&768|k[1]&65536&&(S.$$scope={dirty:k,ctx:d}),e.$set(S);const N={};k[0]&768|k[1]&65536&&(N.$$scope={dirty:k,ctx:d}),l.$set(N);const K={};k[0]&768|k[1]&65536&&(K.$$scope={dirty:k,ctx:d}),a.$set(K);const U={};k[0]&768|k[1]&65536&&(U.$$scope={dirty:k,ctx:d}),f.$set(U);const R={};k[0]&768|k[1]&65536&&(R.$$scope={dirty:k,ctx:d}),r.$set(R);const Z={};k[0]&768|k[1]&65536&&(Z.$$scope={dirty:k,ctx:d}),c.$set(Z);const O={};k[0]&768|k[1]&65536&&(O.$$scope={dirty:k,ctx:d}),m.$set(O);const J={};k[0]&768|k[1]&65536&&(J.$$scope={dirty:k,ctx:d}),g.$set(J)},i(d){p||(C(e.$$.fragment,d),C(l.$$.fragment,d),C(a.$$.fragment,d),C(f.$$.fragment,d),C(r.$$.fragment,d),C(c.$$.fragment,d),C(m.$$.fragment,d),C(g.$$.fragment,d),p=!0)},o(d){A(e.$$.fragment,d),A(l.$$.fragment,d),A(a.$$.fragment,d),A(f.$$.fragment,d),A(r.$$.fragment,d),A(c.$$.fragment,d),A(m.$$.fragment,d),A(g.$$.fragment,d),p=!1},d(d){W(e,d),d&&h(t),W(l,d),d&&h(n),W(a,d),d&&h(i),W(f,d),d&&h(o),W(r,d),d&&h(u),W(c,d),d&&h(_),W(m,d),d&&h(v),W(g,d)}}}function ga(s){let e,t,l,n,a,i,f,o,r,u,c,_,m,v,g,p,d;return{c(){e=y("span"),t=y("strong"),l=T("Chart type:"),n=P(),a=y("label"),i=y("input"),f=T("Comparison marker"),o=P(),r=y("label"),u=y("input"),c=T("Grouped bar"),_=P(),m=y("label"),v=y("input"),g=T("Stacked bar"),this.h()},l(k){e=D(k,"SPAN",{slot:!0});var S=I(e);t=D(S,"STRONG",{});var N=I(t);l=V(N,"Chart type:"),N.forEach(h),n=L(S),a=D(S,"LABEL",{});var K=I(a);i=D(K,"INPUT",{type:!0,name:!0}),f=V(K,"Comparison marker"),K.forEach(h),o=L(S),r=D(S,"LABEL",{});var U=I(r);u=D(U,"INPUT",{type:!0,name:!0}),c=V(U,"Grouped bar"),U.forEach(h),_=L(S),m=D(S,"LABEL",{});var R=I(m);v=D(R,"INPUT",{type:!0,name:!0}),g=V(R,"Stacked bar"),R.forEach(h),S.forEach(h),this.h()},h(){w(i,"type","radio"),w(i,"name","chart-type"),i.__value=Bt,i.value=i.__value,s[33][0].push(i),w(u,"type","radio"),w(u,"name","chart-type"),u.__value=$n,u.value=u.__value,s[33][0].push(u),w(v,"type","radio"),w(v,"name","chart-type"),v.__value=ti,v.value=v.__value,s[33][0].push(v),w(e,"slot","meta"),z(e,"margin-left","10px",!1)},m(k,S){E(k,e,S),b(e,t),b(t,l),b(e,n),b(e,a),b(a,i),i.checked=i.__value===s[8],b(a,f),b(e,o),b(e,r),b(r,u),u.checked=u.__value===s[8],b(r,c),b(e,_),b(e,m),b(m,v),v.checked=v.__value===s[8],b(m,g),p||(d=[Ae(i,"change",s[32]),Ae(u,"change",s[34]),Ae(v,"change",s[35])],p=!0)},p(k,S){S[0]&256&&(i.checked=i.__value===k[8]),S[0]&256&&(u.checked=u.__value===k[8]),S[0]&256&&(v.checked=v.__value===k[8])},d(k){k&&h(e),s[33][0].splice(s[33][0].indexOf(i),1),s[33][0].splice(s[33][0].indexOf(u),1),s[33][0].splice(s[33][0].indexOf(v),1),p=!1,zt(d)}}}function va(s){let e,t,l,n,a,i;return e=new Ge({props:{title:"Demographics",$$slots:{default:[Li]},$$scope:{ctx:s}}}),l=new Ge({props:{title:"Population by area",$$slots:{default:[Gi]},$$scope:{ctx:s}}}),a=new Ge({props:{title:"Key indicators",$$slots:{meta:[ga],default:[ma]},$$scope:{ctx:s}}}),{c(){q(e.$$.fragment),t=P(),q(l.$$.fragment),n=P(),q(a.$$.fragment)},l(f){Y(e.$$.fragment,f),t=L(f),Y(l.$$.fragment,f),n=L(f),Y(a.$$.fragment,f)},m(f,o){F(e,f,o),E(f,t,o),F(l,f,o),E(f,n,o),F(a,f,o),i=!0},p(f,o){const r={};o[0]&1536|o[1]&65536&&(r.$$scope={dirty:o,ctx:f}),e.$set(r);const u={};o[0]&531|o[1]&65536&&(u.$$scope={dirty:o,ctx:f}),l.$set(u);const c={};o[0]&768|o[1]&65536&&(c.$$scope={dirty:o,ctx:f}),a.$set(c)},i(f){i||(C(e.$$.fragment,f),C(l.$$.fragment,f),C(a.$$.fragment,f),i=!0)},o(f){A(e.$$.fragment,f),A(l.$$.fragment,f),A(a.$$.fragment,f),i=!1},d(f){W(e,f),f&&h(t),W(l,f),f&&h(n),W(a,f)}}}function ba(s){let e,t,l,n,a,i,f,o,r,u,c,_,m;return u=new Ln({props:{background:"none",breadcrumb:[{label:"Census",url:"/census"},{label:"Population Group Profiles"}],$$slots:{meta:[Di],default:[wi]},$$scope:{ctx:s}}}),_=new di({props:{$$slots:{default:[va]},$$scope:{ctx:s}}}),{c(){e=y("meta"),t=y("meta"),l=y("meta"),n=y("meta"),a=y("meta"),i=y("meta"),f=y("meta"),o=P(),r=y("main"),q(u.$$.fragment),c=P(),q(_.$$.fragment),this.h()},l(v){const g=$t('[data-svelte="svelte-1z0vru4"]',document.head);e=D(g,"META",{name:!0,content:!0}),t=D(g,"META",{property:!0,content:!0}),l=D(g,"META",{property:!0,content:!0}),n=D(g,"META",{property:!0,content:!0}),a=D(g,"META",{property:!0,content:!0}),i=D(g,"META",{property:!0,content:!0}),f=D(g,"META",{name:!0,content:!0}),g.forEach(h),o=L(v),r=D(v,"MAIN",{id:!0,tabindex:!0});var p=I(r);Y(u.$$.fragment,p),c=L(p),Y(_.$$.fragment,p),p.forEach(h),this.h()},h(){document.title="Census Population Group Profiles",w(e,"name","description"),w(e,"content",""),w(t,"property","og:title"),w(t,"content","Census Population Group Profiles"),w(l,"property","og:type"),w(l,"content","website"),w(n,"property","og:url"),w(n,"content",Vt+"/"),w(a,"property","og:image:type"),w(a,"content","image/jpeg"),w(i,"property","og:description"),w(i,"content",""),w(f,"name","description"),w(f,"content",""),w(r,"id","main"),w(r,"tabindex","-1")},m(v,g){b(document.head,e),b(document.head,t),b(document.head,l),b(document.head,n),b(document.head,a),b(document.head,i),b(document.head,f),E(v,o,g),E(v,r,g),F(u,r,null),b(r,c),F(_,r,null),m=!0},p(v,g){const p={};g[0]&2285|g[1]&65536&&(p.$$scope={dirty:g,ctx:v}),u.$set(p);const d={};g[0]&1811|g[1]&65536&&(d.$$scope={dirty:g,ctx:v}),_.$set(d)},i(v){m||(C(u.$$.fragment,v),C(_.$$.fragment,v),m=!0)},o(v){A(u.$$.fragment,v),A(_.$$.fragment,v),m=!1},d(v){h(e),h(t),h(l),h(n),h(a),h(i),h(f),v&&h(o),v&&h(r),W(u),W(_)}}}const Sa=!1;async function Na({fetch:s}){let e=await cn(Vt+Pe.url,Pe.layer,s),t={};e.features.forEach(_=>t[_.properties[Pe.code]]=_.properties[Pe.name]);let l=await Mt(Pt,[],s),n=Re(l.data.residents.health.values),a=l.data,i=await jt([],s),f=[],r=i.data.dataset.table.dimensions[0].categories.map(_=>_.code.slice(-9)),u=i.data.dataset.table.values,c={};return r.forEach((_,m)=>{c[_]=u[m]}),r.forEach(_=>{f.push({code:_,name:t[_],value:100})}),f.forEach(_=>_.color=Ee.seq[4]),{props:{geojson:e,geoLookup:t,sumAll:n,dataAll:a,geoAll:c,geoCodes:r,geoPerc:f}}}let pa="light";const yt=(s,e)=>e.value-s.value,Dt=s=>s.value!=null,It=(s,e)=>e.value-s.value,St=s=>s.value!=null;function ka(s,e,t){let l,n;Ct(s,sn,H=>t(36,n=H));let{geojson:a,geoLookup:i,sumAll:f,dataAll:o,geoAll:r,geoCodes:u,geoPerc:c}=e;Ve("theme",tn[pa]);let _=null,m=null,v={},g=[];We.forEach(H=>{t(3,v[H.label]=H.cats[0],v)});let p=null,d="success",k=!1,S=0,N=Bt,K={all:o,selected:o,geojson:a,geoLookup:i,geoCodes:u,geoAll:r,geoPerc:c,geoBreaks:[0,100]},U={all:f,selected:f};function R(H){t(0,g=[...g,Ne({topic:m.label,key:m.key},v[H])]),ll(`${xe}?${g.map(ee=>`${ee.key}=${ee.code}`).join("&")}`,{noscroll:!0}),t(2,m=null)}function Z(H){t(0,g=g.filter(ee=>ee.topic!=H)),ll(`${xe}?${g.map(ee=>`${ee.key}=${ee.code}`).join("&")}`,{noscroll:!0})}function O(){t(5,d="loading"),g&&g.map(H=>H.code).includes("0-15")?t(6,k=!0):t(6,k=!1),Mt(Pt,g).then(H=>{H.data.residents.age.values?(t(10,U.selected=Re(H.data.residents.health.values),U),t(9,K.selected=H.data,K),jt(g).then(ee=>{let fe=[],re=null;if(ee.data.dataset.table.dimensions){let he=ee.data.dataset.table.dimensions[0].categories.map(oe=>oe.code.slice(-9)),Me=ee.data.dataset.table.values,Te={};he.forEach((oe,je)=>{Te[oe]=Me[je]}),K.geoCodes.forEach(oe=>{fe.push({code:oe,name:K.geoLookup[oe],value:Te[oe]?Te[oe]/K.geoAll[oe]*100:null})});let be=fe.map(oe=>oe.value).filter(oe=>oe!=null);re=be[4]?ln(be,5):null}else K.geoCodes.forEach(te=>{fe.push({code:te,name:K.geoLookup[te],value:null})});if(re==null)fe.forEach(te=>te.color=Ee.nodata),t(9,K.geoBreaks=[0,100],K);else if(!re[1])fe.forEach(te=>te.color=Ee.seq[4]),t(9,K.geoBreaks=[0,100],K);else{let te=[];re.forEach(he=>te.push(he[0])),te.push(re[re.length-1][re[re.length-1].length-1]),te[te.length-1]==te[te.length-2]&&te.pop(),fe.forEach(he=>he.color=he.value?un(he.value,te,Ee.seq):Ee.nodata),t(9,K.geoBreaks=te,K)}t(9,K.geoPerc=fe,K),t(7,S=g.length),t(5,d="success")})):t(5,d="failed")})}function J(H){let ee=H[0],fe=H[1],re=K.all[ee][fe].values,te=K.selected[ee][fe].values,he=[],Me=0,Te=0;return nn[fe].forEach(be=>{let oe=be.label,je=0,Ze=0;be.cells.forEach(Be=>{je+=re[Be],Me+=re[Be],Ze+=te[Be],Te+=te[Be]}),U.selected!=U.all&&he.push({group:"This group",category:oe,count:Ze}),he.push({group:"Whole population",category:oe,count:je})}),he.forEach((be,oe)=>{U.selected!=U.all&&oe%2==0?be.value=be.count/Te*100:be.value=be.count/Me*100}),he}function ke(H){let ee=H.residents.age.values,fe=Re(ee),re=0,te=0;for(;te<fe/2;)te+=ee[re],re+=1;return re-1}function ne(){t(0,g=[]);for(let H of n.url.searchParams.entries()){let ee=We.find(fe=>fe.key==H[0]);if(ee){let fe=ee.cats.find(re=>re.code==H[1]);fe&&g.push(Ne({topic:ee.label,key:ee.key},fe))}}O()}_n(ne);const x=[[]];function ge(){m=$e(this),t(2,m),t(11,l),t(0,g)}const $=H=>an;function ve(){v[m.label]=$e(this),t(3,v),t(2,m)}const we=()=>R(m.label),Ce=H=>Z(H.topic);function ze(H){p=H,t(4,p)}function Fe(H){_=H,t(1,_)}const j=H=>H.code==p,ue=H=>H.code==p;function Ht(){N=this.__value,t(8,N)}function qt(){N=this.__value,t(8,N)}function Ft(){N=this.__value,t(8,N)}return s.$$set=H=>{"geojson"in H&&t(16,a=H.geojson),"geoLookup"in H&&t(17,i=H.geoLookup),"sumAll"in H&&t(18,f=H.sumAll),"dataAll"in H&&t(19,o=H.dataAll),"geoAll"in H&&t(20,r=H.geoAll),"geoCodes"in H&&t(21,u=H.geoCodes),"geoPerc"in H&&t(22,c=H.geoPerc)},s.$$.update=()=>{s.$$.dirty[0]&1&&t(11,l=We.filter(H=>!g.map(ee=>ee.topic).includes(H.label)))},[g,_,m,v,p,d,k,S,N,K,U,l,R,Z,J,ke,a,i,f,o,r,u,c,ge,$,ve,we,Ce,ze,Fe,j,ue,Ht,x,qt,Ft]}class Ca extends ie{constructor(e){super();ae(this,e,ka,ba,se,{geojson:16,geoLookup:17,sumAll:18,dataAll:19,geoAll:20,geoCodes:21,geoPerc:22},null,[-1,-1])}}export{Ca as default,Na as load,Sa as prerender};
