var Ft=Object.defineProperty,Wt=Object.defineProperties;var Gt=Object.getOwnPropertyDescriptors;var Je=Object.getOwnPropertySymbols;var Ut=Object.prototype.hasOwnProperty,Rt=Object.prototype.propertyIsEnumerable;var Qe=(a,e,t)=>e in a?Ft(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,Ne=(a,e)=>{for(var t in e||(e={}))Ut.call(e,t)&&Qe(a,t,e[t]);if(Je)for(var t of Je(e))Rt.call(e,t)&&Qe(a,t,e[t]);return a},Xe=(a,e)=>Wt(a,Gt(e));import{V as Yt,W as Ve,S as ie,i as se,s as ae,e as y,k as P,c as D,a as I,m as L,d as h,b as w,g as E,G as b,t as T,h as V,I as B,N as le,j as G,l as M,K as _e,w as q,x as Y,y as F,q as C,o as A,B as W,P as ye,f as z,n as Q,p as X,R as De,T as Ie,U as Se,r as Pe,X as Ke,F as qe,H as Nt,v as Zt,Y as Oe,Z as Ye,_ as Jt,D as Qt,$ as Ct,Q as Xt,a0 as He,L as Ae,a1 as $t,a2 as xt,O as zt,a3 as $e,a4 as en,a5 as At,a6 as Tt}from"../chunks/vendor-4c2c0f6f.js";import{a as Vt,b as xe}from"../chunks/paths-396f020f.js";import{l as Le,c as Ee,d as Pt,v as We,a as el,t as ln,b as tn,s as nn,m as sn,e as me}from"../chunks/config-198f3a14.js";import{r as Ue}from"../chunks/singletons-a6a7384f.js";const Lt="https://ftb-api-ext.ons.sensiblecode.io/graphql",an=`
fragment tableDimensions on Table {
  dimensions {
    categories {
      code
    }
  }
}
`.replace(/\s+/g," "),on="YWhtYWQuYmFyY2xheTplbG9wZS5wdWNrLmhhaWxzLmV4cGxvcmU=",Kt=new Headers({"Content-Type":"application/json",Authorization:"Basic "+on});async function Mt(a,e=[],t=window.fetch){let l=e[0]?[...e].sort((v,g)=>v.topic.localeCompare(g.topic)):[...e],n=[],s=[],i=[],o=[];l[0]&&l.forEach(v=>{v.var&&(n.push(v.var),s.push(`{variable: "${v.var}", codes: ["${v.code}"]}`),v.topic!="age group"&&(i.push(v.var),o.push(`{variable: "${v.var}", codes: ["${v.code}"]}`)))}),n=n[0]?'"'+n.join('","')+'",':"",s=s[0]?"["+s.join(",")+"]":"[]",i=i[0]?'"'+i.join('","')+'",':"",o=o[0]?"["+o.join(",")+"]":"[]";let f=[];a.forEach(v=>{let g=[];v.tables.forEach(d=>{g.push(`
      ${d.key}: table(
        variables: [${d.key=="age"?i:n}"${d.code}"]
        filters: ${d.key=="age"?o:s}
      )
      {
        values
      }
      `)});let p=`
    ${v.key}: dataset(name:"${v.code}") {
      ${g.join(`
`)}
    }
    `;f.push(p)});const r=`
  query {
    ${f.join(`
`)}
  }
  `.replace(/\s+/g," "),c={body:JSON.stringify({query:r}),headers:Kt,method:"POST",mode:"cors"};let _=await(await t(Lt,c)).json(),m=l.filter(v=>v.topic=="age group");if(m[0]&&_.data.residents.age.values){let v=[..._.data.residents.age.values],g=m[0].code.split("-");g.forEach((p,d)=>g[d]=+p),v.forEach((p,d)=>v[d]=d>=g[0]&&d<=g[1]?p:0),_.data.residents.age.values=v}return _}async function jt(a=[],e=window.fetch){let t=a[0]?[...a].sort((c,u)=>c.topic.localeCompare(u.topic)):[...a],l=[],n=[];t[0]&&t.forEach(c=>{c.var&&(l.push(c.var),n.push(`{variable: "${c.var}", codes: ["${c.code}"]}`))});let s=l[0]?'"'+l.join('","')+'",':"";n=n[0]?"["+n.join(",")+"]":"[]";const i=`
  query {
    dataset(name:"Usual-Residents") {
      table(
        variables: ["LA"${s}]
        filters: ${n}
      )
      {
        ...tableDimensions
        values
      }
    }
  }
  `.replace(/\s+/g," "),o={body:JSON.stringify({query:i+an}),headers:Kt,method:"POST",mode:"cors"};return await(await e(Lt,o)).json()}function fn(a,e,t){for(let l=1;l<e.length;l++)if(a<=e[l])return t[l-1]}async function rn(a,e,t=window.fetch){let n=await(await t(a)).json();return await Yt(n,e)}function de(a){return a.charAt(0).toUpperCase()+a.slice(1)}function Re(a){return a?a.reduce((e,t)=>e+t):0}function pe(a){return(a?a.slice(0,-1).reduce((t,l)=>t+l):0)==0}const cn=()=>{const a=Ve("__svelte__");return{page:{subscribe:a.page.subscribe},navigating:{subscribe:a.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:a.navigating.subscribe}},session:a.session}},un={subscribe(a){return cn().page.subscribe(a)}},ll=hn,_n=dn;async function hn(a,e){return Ue.goto(a,e,[])}function dn(a){Ue&&Ue.after_navigate(a)}function tl(a,e,t){const l=a.slice();return l[2]=e[t],l}function mn(a){let e=a[2].label+"",t;return{c(){t=T(e)},l(l){t=V(l,e)},m(l,n){E(l,t,n)},p(l,n){n&1&&e!==(e=l[2].label+"")&&G(t,e)},d(l){l&&h(t)}}}function gn(a){let e,t=a[2].label+"",l,n;return{c(){e=y("a"),l=T(t),this.h()},l(s){e=D(s,"A",{class:!0,href:!0});var i=I(e);l=V(i,t),i.forEach(h),this.h()},h(){w(e,"class","breadcrumb__link"),w(e,"href",n=a[2].url)},m(s,i){E(s,e,i),b(e,l)},p(s,i){i&1&&t!==(t=s[2].label+"")&&G(l,t),i&1&&n!==(n=s[2].url)&&w(e,"href",n)},d(s){s&&h(e)}}}function nl(a){let e,t;function l(i,o){return i[2].url?gn:mn}let n=l(a),s=n(a);return{c(){e=y("li"),s.c(),t=P(),this.h()},l(i){e=D(i,"LI",{class:!0});var o=I(e);s.l(o),t=L(o),o.forEach(h),this.h()},h(){w(e,"class","breadcrumb__item")},m(i,o){E(i,e,o),s.m(e,null),b(e,t)},p(i,o){n===(n=l(i))&&s?s.p(i,o):(s.d(1),s=n(i),s&&(s.c(),s.m(e,t)))},d(i){i&&h(e),s.d()}}}function vn(a){let e,t,l,n,s,i,o,f,r=a[0],c=[];for(let u=0;u<r.length;u+=1)c[u]=nl(tl(a,r,u));return{c(){e=y("nav"),t=y("div"),l=y("ol"),n=y("li"),s=y("a"),i=T("Home"),o=P();for(let u=0;u<c.length;u+=1)c[u].c();this.h()},l(u){e=D(u,"NAV",{"aria-label":!0});var _=I(e);t=D(_,"DIV",{class:!0});var m=I(t);l=D(m,"OL",{class:!0});var v=I(l);n=D(v,"LI",{class:!0});var g=I(n);s=D(g,"A",{class:!0,href:!0});var p=I(s);i=V(p,"Home"),p.forEach(h),g.forEach(h),o=L(v);for(let d=0;d<c.length;d+=1)c[d].l(v);v.forEach(h),m.forEach(h),_.forEach(h),this.h()},h(){w(s,"class","breadcrumb__link"),w(s,"href","/"),w(n,"class","breadcrumb__item"),w(l,"class","breadcrumb__list"),w(t,"class",f=(a[1]=="neutral"?"breadcrumb-neutral":"breadcrumb")+" print--hide"),w(e,"aria-label","Breadcrumbs")},m(u,_){E(u,e,_),b(e,t),b(t,l),b(l,n),b(n,s),b(s,i),b(l,o);for(let m=0;m<c.length;m+=1)c[m].m(l,null)},p(u,[_]){if(_&1){r=u[0];let m;for(m=0;m<r.length;m+=1){const v=tl(u,r,m);c[m]?c[m].p(v,_):(c[m]=nl(v),c[m].c(),c[m].m(l,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=r.length}_&2&&f!==(f=(u[1]=="neutral"?"breadcrumb-neutral":"breadcrumb")+" print--hide")&&w(t,"class",f)},i:B,o:B,d(u){u&&h(e),le(c,u)}}}function bn(a,e,t){let{links:l=[]}=e,{mode:n="neutral"}=e;return a.$$set=s=>{"links"in s&&t(0,l=s.links),"mode"in s&&t(1,n=s.mode)},[l,n]}class pn extends ie{constructor(e){super();se(this,e,bn,vn,ae,{links:0,mode:1})}}function il(a,e,t){const l=a.slice();return l[2]=e[t],l}function sl(a){let e,t,l=a[2].label+"",n,s,i,o;return{c(){e=y("li"),t=y("a"),n=T(l),o=P(),this.h()},l(f){e=D(f,"LI",{});var r=I(e);t=D(r,"A",{href:!0,"data-gtm-title":!0,"data-gtm-type":!0});var c=I(t);n=V(c,l),c.forEach(h),o=L(r),r.forEach(h),this.h()},h(){w(t,"href",s=a[2].url),w(t,"data-gtm-title",i=a[2].label),w(t,"data-gtm-type","highlighted-links")},m(f,r){E(f,e,r),b(e,t),b(t,n),b(e,o)},p(f,r){r&2&&l!==(l=f[2].label+"")&&G(n,l),r&2&&s!==(s=f[2].url)&&w(t,"href",s),r&2&&i!==(i=f[2].label)&&w(t,"data-gtm-title",i)},d(f){f&&h(e)}}}function kn(a){let e,t,l,n,s,i=a[1],o=[];for(let f=0;f<i.length;f+=1)o[f]=sl(il(a,i,f));return{c(){e=y("div"),t=y("h2"),l=T(a[0]),n=P(),s=y("ul");for(let f=0;f<o.length;f+=1)o[f].c();this.h()},l(f){e=D(f,"DIV",{class:!0});var r=I(e);t=D(r,"H2",{class:!0});var c=I(t);l=V(c,a[0]),c.forEach(h),n=L(r),s=D(r,"UL",{class:!0});var u=I(s);for(let _=0;_<o.length;_+=1)o[_].l(u);u.forEach(h),r.forEach(h),this.h()},h(){w(t,"class","margin-top-lg--1"),w(s,"class","list--neutral margin-top--negative-one-fix"),w(e,"class","nav-secondary--border-left-lg col col--md-47 col--lg-19 col--lg-offset-2 padding-left margin-top-lg--3")},m(f,r){E(f,e,r),b(e,t),b(t,l),b(e,n),b(e,s);for(let c=0;c<o.length;c+=1)o[c].m(s,null)},p(f,[r]){if(r&1&&G(l,f[0]),r&2){i=f[1];let c;for(c=0;c<i.length;c+=1){const u=il(f,i,c);o[c]?o[c].p(u,r):(o[c]=sl(u),o[c].c(),o[c].m(s,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=i.length}},i:B,o:B,d(f){f&&h(e),le(o,f)}}}function wn(a,e,t){let{title:l="Highlighted content"}=e,{links:n=[]}=e;return a.$$set=s=>{"title"in s&&t(0,l=s.title),"links"in s&&t(1,n=s.links)},[l,n]}class En extends ie{constructor(e){super();se(this,e,wn,kn,ae,{title:0,links:1})}}function al(a,e,t){const l=a.slice();return l[2]=e[t],l}function yn(a){let e,t=a[2].label+"",l;return{c(){e=y("li"),l=T(t),this.h()},l(n){e=D(n,"LI",{class:!0,"aria-current":!0});var s=I(e);l=V(s,t),s.forEach(h),this.h()},h(){w(e,"class","ons-list__item svelte-1dyzlhu"),w(e,"aria-current","true")},m(n,s){E(n,e,s),b(e,l)},p(n,s){s&2&&t!==(t=n[2].label+"")&&G(l,t)},d(n){n&&h(e)}}}function Dn(a){let e,t,l=a[2].label+"",n,s,i;return{c(){e=y("li"),t=y("a"),n=T(l),i=P(),this.h()},l(o){e=D(o,"LI",{class:!0});var f=I(e);t=D(f,"A",{href:!0,class:!0});var r=I(t);n=V(r,l),r.forEach(h),i=L(f),f.forEach(h),this.h()},h(){w(t,"href",s=a[2].url),w(t,"class","ons-list__link"),w(e,"class","ons-list__item svelte-1dyzlhu")},m(o,f){E(o,e,f),b(e,t),b(t,n),b(e,i)},p(o,f){f&2&&l!==(l=o[2].label+"")&&G(n,l),f&2&&s!==(s=o[2].url)&&w(t,"href",s)},d(o){o&&h(e)}}}function ol(a){let e;function t(s,i){return s[2].url?Dn:yn}let l=t(a),n=l(a);return{c(){n.c(),e=M()},l(s){n.l(s),e=M()},m(s,i){n.m(s,i),E(s,e,i)},p(s,i){l===(l=t(s))&&n?n.p(s,i):(n.d(1),n=l(s),n&&(n.c(),n.m(e.parentNode,e)))},d(s){n.d(s),s&&h(e)}}}function In(a){let e,t,l,n,s,i=a[1],o=[];for(let f=0;f<i.length;f+=1)o[f]=ol(al(a,i,f));return{c(){e=y("nav"),t=y("h2"),l=T(a[0]),n=P(),s=y("ol");for(let f=0;f<o.length;f+=1)o[f].c();this.h()},l(f){e=D(f,"NAV",{class:!0,"aria-label":!0});var r=I(e);t=D(r,"H2",{class:!0});var c=I(t);l=V(c,a[0]),c.forEach(h),n=L(r),s=D(r,"OL",{class:!0});var u=I(s);for(let _=0;_<o.length;_+=1)o[_].l(u);u.forEach(h),r.forEach(h),this.h()},h(){w(t,"class","ons-toc__title ons-u-fs-r--b ons-u-mb-s svelte-1dyzlhu"),w(s,"class","ons-list ons-u-mb-m ons-list--dashed svelte-1dyzlhu"),w(e,"class","ons-toc svelte-1dyzlhu"),w(e,"aria-label","Pages in this guide")},m(f,r){E(f,e,r),b(e,t),b(t,l),b(e,n),b(e,s);for(let c=0;c<o.length;c+=1)o[c].m(s,null)},p(f,[r]){if(r&1&&G(l,f[0]),r&2){i=f[1];let c;for(c=0;c<i.length;c+=1){const u=al(f,i,c);o[c]?o[c].p(u,r):(o[c]=ol(u),o[c].c(),o[c].m(s,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=i.length}},i:B,o:B,d(f){f&&h(e),le(o,f)}}}function Sn(a,e,t){let{label:l="Contents"}=e,{links:n=[]}=e;return a.$$set=s=>{"label"in s&&t(0,l=s.label),"links"in s&&t(1,n=s.links)},[l,n]}class Nn extends ie{constructor(e){super();se(this,e,Sn,In,ae,{label:0,links:1})}}function Cn(a){let e,t,l,n,s,i,o,f,r;return{c(){e=y("div"),t=y("div"),l=y("dl"),n=y("div"),s=y("dt"),i=T(a[1]),o=T(":"),f=P(),r=y("dd"),this.h()},l(c){e=D(c,"DIV",{class:!0});var u=I(e);t=D(u,"DIV",{class:!0});var _=I(t);l=D(_,"DL",{class:!0});var m=I(l);n=D(m,"DIV",{class:!0});var v=I(n);s=D(v,"DT",{class:!0});var g=I(s);i=V(g,a[1]),o=V(g,":"),g.forEach(h),f=L(v),r=D(v,"DD",{class:!0});var p=I(r);p.forEach(h),v.forEach(h),m.forEach(h),_.forEach(h),u.forEach(h),this.h()},h(){w(s,"class","meta__term inline"),w(r,"class","inline"),w(n,"class","col padding-left--0 meta__item meta__item--no-border"),w(l,"class","col-wrap"),w(t,"class","wrapper"),w(e,"class","meta-wrap--thin"),_e(e,"meta-wrap",a[0]=="grey")},m(c,u){E(c,e,u),b(e,t),b(t,l),b(l,n),b(n,s),b(s,i),b(s,o),b(n,f),b(n,r),r.innerHTML=a[2]},p(c,[u]){u&2&&G(i,c[1]),u&4&&(r.innerHTML=c[2]),u&1&&_e(e,"meta-wrap",c[0]=="grey")},i:B,o:B,d(c){c&&h(e)}}}function zn(a,e,t){let{background:l="grey"}=e,{label:n="Last updated"}=e,{value:s="date"}=e;return a.$$set=i=>{"background"in i&&t(0,l=i.background),"label"in i&&t(1,n=i.label),"value"in i&&t(2,s=i.value)},[l,n,s]}class An extends ie{constructor(e){super();se(this,e,zn,Cn,ae,{background:0,label:1,value:2})}}const Tn=a=>({}),fl=a=>({});function rl(a){let e,t;return e=new pn({props:{links:a[2],mode:a[0]}}),{c(){q(e.$$.fragment)},l(l){Y(e.$$.fragment,l)},m(l,n){F(e,l,n),t=!0},p(l,n){const s={};n&4&&(s.links=l[2]),n&1&&(s.mode=l[0]),e.$set(s)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function cl(a){let e,t;return{c(){e=y("p"),t=T(a[6]),this.h()},l(l){e=D(l,"P",{class:!0});var n=I(e);t=V(n,a[6]),n.forEach(h),this.h()},h(){w(e,"class","page-neutral-intro__meta margin-top--0 margin-bottom--3")},m(l,n){E(l,e,n),b(e,t)},p(l,n){n&64&&G(t,l[6])},d(l){l&&h(e)}}}function ul(a){let e,t;return e=new Nn({props:{links:a[3],label:"Contents"}}),{c(){q(e.$$.fragment)},l(l){Y(e.$$.fragment,l)},m(l,n){F(e,l,n),t=!0},p(l,n){const s={};n&8&&(s.links=l[3]),e.$set(s)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function _l(a){let e,t;return e=new En({props:{links:a[4]}}),{c(){q(e.$$.fragment)},l(l){Y(e.$$.fragment,l)},m(l,n){F(e,l,n),t=!0},p(l,n){const s={};n&16&&(s.links=l[4]),e.$set(s)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function hl(a){let e,t;return e=new An({props:{label:"Last updated",value:a[5],background:a[1]}}),{c(){q(e.$$.fragment)},l(l){Y(e.$$.fragment,l)},m(l,n){F(e,l,n),t=!0},p(l,n){const s={};n&32&&(s.value=l[5]),n&2&&(s.background=l[1]),e.$set(s)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function dl(a){let e,t,l,n;return{c(){e=y("div"),t=y("div"),l=y("div"),n=y("hr"),this.h()},l(s){e=D(s,"DIV",{class:!0});var i=I(e);t=D(i,"DIV",{class:!0});var o=I(t);l=D(o,"DIV",{class:!0});var f=I(l);n=D(f,"HR",{style:!0}),f.forEach(h),o.forEach(h),i.forEach(h),this.h()},h(){z(n,"border","0"),z(n,"height","0"),z(n,"border-top","1px solid #808080"),w(l,"class","col"),w(t,"class","col-wrap"),w(e,"class","wrapper")},m(s,i){E(s,e,i),b(e,t),b(t,l),b(l,n)},d(s){s&&h(e)}}}function Vn(a){let e,t,l,n,s,i,o,f,r,c,u,_,m,v,g=a[2]&&rl(a);const p=a[8].default,d=ye(p,a,a[7],null);let k=a[6]&&cl(a),S=a[3]&&ul(a),N=a[4]&&_l(a);const K=a[8].meta,U=ye(K,a,a[7],fl);let R=a[5]&&hl(a),Z=a[1]=="none"&&dl();return{c(){e=y("div"),t=y("div"),l=y("div"),n=y("div"),g&&g.c(),s=P(),i=y("div"),d&&d.c(),o=P(),k&&k.c(),f=P(),S&&S.c(),r=P(),N&&N.c(),c=P(),U&&U.c(),u=P(),R&&R.c(),_=P(),Z&&Z.c(),this.h()},l(O){e=D(O,"DIV",{class:!0});var J=I(e);t=D(J,"DIV",{class:!0});var ke=I(t);l=D(ke,"DIV",{class:!0});var ne=I(l);n=D(ne,"DIV",{class:!0});var x=I(n);g&&g.l(x),s=L(x),i=D(x,"DIV",{class:!0});var ge=I(i);d&&d.l(ge),o=L(ge),k&&k.l(ge),f=L(ge),S&&S.l(ge),ge.forEach(h),r=L(x),N&&N.l(x),x.forEach(h),ne.forEach(h),ke.forEach(h),c=L(J),U&&U.l(J),u=L(J),R&&R.l(J),_=L(J),Z&&Z.l(J),J.forEach(h),this.h()},h(){w(i,"class","col col--md-47"),_e(i,"col--lg-38",a[4]),_e(i,"col--lg-48",!a[4]),w(n,"class","col"),w(l,"class","col-wrap"),w(t,"class","wrapper"),w(e,"class",m="page-neutral-intro "+(a[1]=="grey"?"background--gallery":""))},m(O,J){E(O,e,J),b(e,t),b(t,l),b(l,n),g&&g.m(n,null),b(n,s),b(n,i),d&&d.m(i,null),b(i,o),k&&k.m(i,null),b(i,f),S&&S.m(i,null),b(n,r),N&&N.m(n,null),b(e,c),U&&U.m(e,null),b(e,u),R&&R.m(e,null),b(e,_),Z&&Z.m(e,null),v=!0},p(O,[J]){O[2]?g?(g.p(O,J),J&4&&C(g,1)):(g=rl(O),g.c(),C(g,1),g.m(n,s)):g&&(Q(),A(g,1,1,()=>{g=null}),X()),d&&d.p&&(!v||J&128)&&De(d,p,O,O[7],v?Se(p,O[7],J,null):Ie(O[7]),null),O[6]?k?k.p(O,J):(k=cl(O),k.c(),k.m(i,f)):k&&(k.d(1),k=null),O[3]?S?(S.p(O,J),J&8&&C(S,1)):(S=ul(O),S.c(),C(S,1),S.m(i,null)):S&&(Q(),A(S,1,1,()=>{S=null}),X()),J&16&&_e(i,"col--lg-38",O[4]),J&16&&_e(i,"col--lg-48",!O[4]),O[4]?N?(N.p(O,J),J&16&&C(N,1)):(N=_l(O),N.c(),C(N,1),N.m(n,null)):N&&(Q(),A(N,1,1,()=>{N=null}),X()),U&&U.p&&(!v||J&128)&&De(U,K,O,O[7],v?Se(K,O[7],J,Tn):Ie(O[7]),fl),O[5]?R?(R.p(O,J),J&32&&C(R,1)):(R=hl(O),R.c(),C(R,1),R.m(e,_)):R&&(Q(),A(R,1,1,()=>{R=null}),X()),O[1]=="none"?Z||(Z=dl(),Z.c(),Z.m(e,null)):Z&&(Z.d(1),Z=null),(!v||J&2&&m!==(m="page-neutral-intro "+(O[1]=="grey"?"background--gallery":"")))&&w(e,"class",m)},i(O){v||(C(g),C(d,O),C(S),C(N),C(U,O),C(R),v=!0)},o(O){A(g),A(d,O),A(S),A(N),A(U,O),A(R),v=!1},d(O){O&&h(e),g&&g.d(),d&&d.d(O),k&&k.d(),S&&S.d(),N&&N.d(),U&&U.d(O),R&&R.d(),Z&&Z.d()}}}function Pn(a,e,t){let{$$slots:l={},$$scope:n}=e,{mode:s="neutral"}=e,{background:i="grey"}=e,{breadcrumb:o=null}=e,{contents:f=null}=e,{highlighted:r=null}=e,{updated:c=null}=e,{date:u=null}=e;return Pe("mode",s),Pe("background",i),a.$$set=_=>{"mode"in _&&t(0,s=_.mode),"background"in _&&t(1,i=_.background),"breadcrumb"in _&&t(2,o=_.breadcrumb),"contents"in _&&t(3,f=_.contents),"highlighted"in _&&t(4,r=_.highlighted),"updated"in _&&t(5,c=_.updated),"date"in _&&t(6,u=_.date),"$$scope"in _&&t(7,n=_.$$scope)},[s,i,o,f,r,c,u,n,l]}class Ln extends ie{constructor(e){super();se(this,e,Pn,Vn,ae,{mode:0,background:1,breadcrumb:2,contents:3,highlighted:4,updated:5,date:6})}}function Kn(a){let e,t,l;const n=a[2].default,s=ye(n,a,a[1],null);return{c(){e=y("h1"),s&&s.c(),this.h()},l(i){e=D(i,"H1",{class:!0});var o=I(e);s&&s.l(o),o.forEach(h),this.h()},h(){w(e,"class",t=a[0]=="neutral"?"page-neutral-intro__title":"page-intro__title")},m(i,o){E(i,e,o),s&&s.m(e,null),l=!0},p(i,[o]){s&&s.p&&(!l||o&2)&&De(s,n,i,i[1],l?Se(n,i[1],o,null):Ie(i[1]),null),(!l||o&1&&t!==(t=i[0]=="neutral"?"page-neutral-intro__title":"page-intro__title"))&&w(e,"class",t)},i(i){l||(C(s,i),l=!0)},o(i){A(s,i),l=!1},d(i){i&&h(e),s&&s.d(i)}}}function Mn(a,e,t){let{$$slots:l={},$$scope:n}=e,{mode:s=Ve("mode")}=e;return a.$$set=i=>{"mode"in i&&t(0,s=i.mode),"$$scope"in i&&t(1,n=i.$$scope)},[s,n,l]}class jn extends ie{constructor(e){super();se(this,e,Mn,Kn,ae,{mode:0})}}function ml(a,e,t){const l=a.slice();return l[12]=e[t],l[14]=t,l}function gl(a,e,t){const l=a.slice();return l[15]=e[t],l[17]=t,l}function vl(a,e,t){const l=a.slice();return l[15]=e[t],l[17]=t,l}function bl(a,e,t){const l=a.slice();return l[19]=e[t],l[14]=t,l}function pl(a){let e,t=a[5],l=[];for(let n=0;n<t.length;n+=1)l[n]=kl(bl(a,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=M()},l(n){for(let s=0;s<l.length;s+=1)l[s].l(n);e=M()},m(n,s){for(let i=0;i<l.length;i+=1)l[i].m(n,s);E(n,e,s)},p(n,s){if(s&36){t=n[5];let i;for(i=0;i<t.length;i+=1){const o=bl(n,t,i);l[i]?l[i].p(o,s):(l[i]=kl(o),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(n){le(l,n),n&&h(e)}}}function kl(a){let e,t,l=`${a[14]==0?0:a[2]}px`,n,s,i=a[19]+"",o,f,r;return{c(){e=y("li"),t=y("div"),n=P(),s=y("span"),o=T(i),r=P(),this.h()},l(c){e=D(c,"LI",{class:!0});var u=I(e);t=D(u,"DIV",{class:!0}),I(t).forEach(h),n=L(u),s=D(u,"SPAN",{class:!0});var _=I(s);o=V(_,i),_.forEach(h),r=L(u),u.forEach(h),this.h()},h(){w(t,"class","legend-vis "+(a[14]==0?"bar":"marker-vis")+" svelte-14ipkw6"),z(t,"border-bottom-width",l,!1),w(s,"class",f=Ke(a[14]==0?"bold":"brackets")+" svelte-14ipkw6"),w(e,"class","svelte-14ipkw6")},m(c,u){E(c,e,u),b(e,t),b(e,n),b(e,s),b(s,o),b(e,r)},p(c,u){u&4&&l!==(l=`${c[14]==0?0:c[2]}px`)&&z(t,"border-bottom-width",l,!1),u&32&&i!==(i=c[19]+"")&&G(o,i)},d(c){c&&h(e)}}}function Bn(a){let e,t=a[12].values,l=[];for(let n=0;n<t.length;n+=1)l[n]=wl(gl(a,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=M()},l(n){for(let s=0;s<l.length;s+=1)l[s].l(n);e=M()},m(n,s){for(let i=0;i<l.length;i+=1)l[i].m(n,s);E(n,e,s)},p(n,s){if(s&93){t=n[12].values;let i;for(i=0;i<t.length;i+=1){const o=gl(n,t,i);l[i]?l[i].p(o,s):(l[i]=wl(o),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(n){le(l,n),n&&h(e)}}}function On(a){let e,t=a[12].values,l=[];for(let n=0;n<t.length;n+=1)l[n]=El(vl(a,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=M()},l(n){for(let s=0;s<l.length;s+=1)l[s].l(n);e=M()},m(n,s){for(let i=0;i<l.length;i+=1)l[i].m(n,s);E(n,e,s)},p(n,s){if(s&89){t=n[12].values;let i;for(i=0;i<t.length;i+=1){const o=vl(n,t,i);l[i]?l[i].p(o,s):(l[i]=El(o),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(n){le(l,n),n&&h(e)}}}function wl(a){let e,t=`calc(100% - ${a[4](a[15][a[0]])}% - ${a[2]/2}px)`,l=`${a[17]/a[6].length*100}%`,n=`${1/a[6].length*100}%`,s=`${a[2]}px`;return{c(){e=y("div"),this.h()},l(i){e=D(i,"DIV",{class:!0}),I(e).forEach(h),this.h()},h(){w(e,"class","marker svelte-14ipkw6"),z(e,"top",t,!1),z(e,"height","0px",!1),z(e,"left",l,!1),z(e,"width",n,!1),z(e,"border-bottom-width",s,!1)},m(i,o){E(i,e,o)},p(i,o){o&29&&t!==(t=`calc(100% - ${i[4](i[15][i[0]])}% - ${i[2]/2}px)`)&&z(e,"top",t,!1),o&64&&l!==(l=`${i[17]/i[6].length*100}%`)&&z(e,"left",l,!1),o&64&&n!==(n=`${1/i[6].length*100}%`)&&z(e,"width",n,!1),o&4&&s!==(s=`${i[2]}px`)&&z(e,"border-bottom-width",s,!1)},d(i){i&&h(e)}}}function El(a){let e,t=`${100-a[4](a[15][a[0]])}%`,l=`${a[4](a[15][a[0]])}%`,n=`${a[17]/a[6].length*100}%`,s=`calc(${1/a[6].length*100}% + 0.2px)`;return{c(){e=y("div"),this.h()},l(i){e=D(i,"DIV",{class:!0}),I(e).forEach(h),this.h()},h(){w(e,"class","bar svelte-14ipkw6"),z(e,"top",t,!1),z(e,"height",l,!1),z(e,"left",n,!1),z(e,"width",s,!1)},m(i,o){E(i,e,o)},p(i,o){o&25&&t!==(t=`${100-i[4](i[15][i[0]])}%`)&&z(e,"top",t,!1),o&25&&l!==(l=`${i[4](i[15][i[0]])}%`)&&z(e,"height",l,!1),o&64&&n!==(n=`${i[17]/i[6].length*100}%`)&&z(e,"left",n,!1),o&64&&s!==(s=`calc(${1/i[6].length*100}% + 0.2px)`)&&z(e,"width",s,!1)},d(i){i&&h(e)}}}function yl(a){let e;function t(s,i){return s[14]==0?On:Bn}let n=t(a)(a);return{c(){n.c(),e=M()},l(s){n.l(s),e=M()},m(s,i){n.m(s,i),E(s,e,i)},p(s,i){n.p(s,i)},d(s){n.d(s),s&&h(e)}}}function Hn(a){let e,t,l,n=`${a[1]}px`,s,i,o,f,r,c,u,_=a[5][1]&&pl(a),m=a[3],v=[];for(let g=0;g<m.length;g+=1)v[g]=yl(ml(a,m,g));return{c(){e=y("ul"),_&&_.c(),t=P(),l=y("div");for(let g=0;g<v.length;g+=1)v[g].c();s=P(),i=y("div"),o=y("div"),f=T("0 years"),r=P(),c=y("div"),u=T("90+"),this.h()},l(g){e=D(g,"UL",{class:!0});var p=I(e);_&&_.l(p),p.forEach(h),t=L(g),l=D(g,"DIV",{class:!0});var d=I(l);for(let K=0;K<v.length;K+=1)v[K].l(d);d.forEach(h),s=L(g),i=D(g,"DIV",{class:!0});var k=I(i);o=D(k,"DIV",{class:!0});var S=I(o);f=V(S,"0 years"),S.forEach(h),r=L(k),c=D(k,"DIV",{class:!0});var N=I(c);u=V(N,"90+"),N.forEach(h),k.forEach(h),this.h()},h(){w(e,"class","legend-block svelte-14ipkw6"),w(l,"class","bar-group svelte-14ipkw6"),z(l,"height",n,!1),w(o,"class","svelte-14ipkw6"),z(o,"left",0,!1),w(c,"class","svelte-14ipkw6"),z(c,"right",0,!1),w(i,"class","x-scale svelte-14ipkw6"),z(i,"height","1rem",!1)},m(g,p){E(g,e,p),_&&_.m(e,null),E(g,t,p),E(g,l,p);for(let d=0;d<v.length;d+=1)v[d].m(l,null);E(g,s,p),E(g,i,p),b(i,o),b(o,f),b(i,r),b(i,c),b(c,u)},p(g,[p]){if(g[5][1]?_?_.p(g,p):(_=pl(g),_.c(),_.m(e,null)):_&&(_.d(1),_=null),p&93){m=g[3];let d;for(d=0;d<m.length;d+=1){const k=ml(g,m,d);v[d]?v[d].p(k,p):(v[d]=yl(k),v[d].c(),v[d].m(l,null))}for(;d<v.length;d+=1)v[d].d(1);v.length=m.length}p&2&&n!==(n=`${g[1]}px`)&&z(l,"height",n,!1)},i:B,o:B,d(g){g&&h(e),_&&_.d(),g&&h(t),g&&h(l),le(v,g),g&&h(s),g&&h(i)}}}function qn(a,e,t){let l,n,s,i,o,{data:f}=e,{xKey:r="category"}=e,{yKey:c="value"}=e,{zKey:u="group"}=e,{height:_=65}=e,{markerWidth:m=2.5}=e;function v(g,p){let d={};for(const S of g)d[S[p]]||(d[S[p]]={label:S[p],values:[]}),d[S[p]].values.push(S);let k=[];for(const S in d)k.push(d[S]);return k}return a.$$set=g=>{"data"in g&&t(7,f=g.data),"xKey"in g&&t(8,r=g.xKey),"yKey"in g&&t(0,c=g.yKey),"zKey"in g&&t(9,u=g.zKey),"height"in g&&t(1,_=g.height),"markerWidth"in g&&t(2,m=g.markerWidth)},a.$$.update=()=>{a.$$.dirty&384&&t(6,l=f.map(g=>g[r]).filter((g,p,d)=>d.indexOf(g)===p)),a.$$.dirty&129&&t(10,n=[0,Math.max(...f.map(g=>g[c]))]),a.$$.dirty&640&&t(5,s=f.map(g=>g[u]).filter((g,p,d)=>d.indexOf(g)===p)),a.$$.dirty&1024&&t(4,i=g=>Math.abs(g/n[1])*100),a.$$.dirty&640&&t(3,o=v(f,u))},[c,_,m,o,i,s,l,f,r,u,n]}class Fn extends ie{constructor(e){super();se(this,e,qn,Hn,ae,{data:7,xKey:8,yKey:0,zKey:9,height:1,markerWidth:2})}}function Dl(a,e,t){const l=a.slice();return l[10]=e[t],l[12]=t,l}function Il(a){let e,t,l,n,s,i=a[6](a[4][a[12]])+"",o;return{c(){e=y("div"),t=P(),l=y("div"),n=P(),s=y("div"),o=T(i),this.h()},l(f){e=D(f,"DIV",{class:!0,style:!0}),I(e).forEach(h),t=L(f),l=D(f,"DIV",{class:!0,style:!0}),I(l).forEach(h),n=L(f),s=D(f,"DIV",{class:!0,style:!0});var r=I(s);o=V(r,i),r.forEach(h),this.h()},h(){w(e,"class","block svelte-1a3ut6y"),z(e,"width",100/(a[4].length-1)+"%"),z(e,"left",a[12]*(100/(a[4].length-1))+"%"),z(e,"background-color",a[5][a[12]]),w(l,"class","line svelte-1a3ut6y"),z(l,"left",a[12]*(100/(a[4].length-1))+"%"),w(s,"class","tick svelte-1a3ut6y"),z(s,"left",a[12]*(100/(a[4].length-1))+"%"),_e(s,"tick-start",a[12]==0)},m(f,r){E(f,e,r),E(f,t,r),E(f,l,r),E(f,n,r),E(f,s,r),b(s,o)},p(f,r){r&16&&z(e,"width",100/(f[4].length-1)+"%"),r&16&&z(e,"left",f[12]*(100/(f[4].length-1))+"%"),r&32&&z(e,"background-color",f[5][f[12]]),r&16&&z(l,"left",f[12]*(100/(f[4].length-1))+"%"),r&80&&i!==(i=f[6](f[4][f[12]])+"")&&G(o,i),r&16&&z(s,"left",f[12]*(100/(f[4].length-1))+"%")},d(f){f&&h(e),f&&h(t),f&&h(l),f&&h(n),f&&h(s)}}}function Sl(a){let e,t,l,n=a[7](a[1])+"",s,i;return{c(){e=y("div"),t=P(),l=y("div"),s=T(n),i=T(a[8]),this.h()},l(o){e=D(o,"DIV",{class:!0,style:!0}),I(e).forEach(h),t=L(o),l=D(o,"DIV",{class:!0,style:!0});var f=I(l);s=V(f,n),i=V(f,a[8]),f.forEach(h),this.h()},h(){w(e,"class","marker svelte-1a3ut6y"),z(e,"width",a[2]+"px"),z(e,"left","calc("+a[9](a[1],a[4])+"% - "+a[2]/2+"px)"),w(l,"class","value svelte-1a3ut6y"),z(l,"left",a[9](a[1],a[4])+"%")},m(o,f){E(o,e,f),E(o,t,f),E(o,l,f),b(l,s),b(l,i)},p(o,f){f&4&&z(e,"width",o[2]+"px"),f&22&&z(e,"left","calc("+o[9](o[1],o[4])+"% - "+o[2]/2+"px)"),f&130&&n!==(n=o[7](o[1])+"")&&G(s,n),f&256&&G(i,o[8]),f&18&&z(l,"left",o[9](o[1],o[4])+"%")},d(o){o&&h(e),o&&h(t),o&&h(l)}}}function Nl(a){let e,t,l,n=a[7](a[0])+"",s,i;return{c(){e=y("div"),t=P(),l=y("div"),s=T(n),i=T(a[8]),this.h()},l(o){e=D(o,"DIV",{class:!0,style:!0}),I(e).forEach(h),t=L(o),l=D(o,"DIV",{class:!0,style:!0});var f=I(l);s=V(f,n),i=V(f,a[8]),f.forEach(h),this.h()},h(){w(e,"class","marker marker-hovered svelte-1a3ut6y"),z(e,"width",a[2]+"px"),z(e,"left","calc("+a[9](a[0],a[4])+"% - "+a[2]/2+"px)"),w(l,"class","value svelte-1a3ut6y"),z(l,"left",a[9](a[0],a[4])+"%")},m(o,f){E(o,e,f),E(o,t,f),E(o,l,f),b(l,s),b(l,i)},p(o,f){f&4&&z(e,"width",o[2]+"px"),f&21&&z(e,"left","calc("+o[9](o[0],o[4])+"% - "+o[2]/2+"px)"),f&129&&n!==(n=o[7](o[0])+"")&&G(s,n),f&256&&G(i,o[8]),f&17&&z(l,"left",o[9](o[0],o[4])+"%")},d(o){o&&h(e),o&&h(t),o&&h(l)}}}function Wn(a){let e,t,l,n,s,i=a[6](a[4][a[4].length-1])+"",o,f,r,c,u=a[4].slice(1),_=[];for(let g=0;g<u.length;g+=1)_[g]=Il(Dl(a,u,g));let m=a[1]&&Sl(a),v=a[0]&&Nl(a);return{c(){e=y("div");for(let g=0;g<_.length;g+=1)_[g].c();t=P(),l=y("div"),n=P(),s=y("div"),o=T(i),f=T(a[8]),r=P(),m&&m.c(),c=P(),v&&v.c(),this.h()},l(g){e=D(g,"DIV",{class:!0,style:!0});var p=I(e);for(let k=0;k<_.length;k+=1)_[k].l(p);t=L(p),l=D(p,"DIV",{class:!0,style:!0}),I(l).forEach(h),n=L(p),s=D(p,"DIV",{class:!0,style:!0});var d=I(s);o=V(d,i),f=V(d,a[8]),d.forEach(h),r=L(p),m&&m.l(p),c=L(p),v&&v.l(p),p.forEach(h),this.h()},h(){w(l,"class","line svelte-1a3ut6y"),z(l,"left","100%"),w(s,"class","tick tick-end svelte-1a3ut6y"),z(s,"left","100%"),w(e,"class","container svelte-1a3ut6y"),z(e,"height",a[3]+"px")},m(g,p){E(g,e,p);for(let d=0;d<_.length;d+=1)_[d].m(e,null);b(e,t),b(e,l),b(e,n),b(e,s),b(s,o),b(s,f),b(e,r),m&&m.m(e,null),b(e,c),v&&v.m(e,null)},p(g,[p]){if(p&112){u=g[4].slice(1);let d;for(d=0;d<u.length;d+=1){const k=Dl(g,u,d);_[d]?_[d].p(k,p):(_[d]=Il(k),_[d].c(),_[d].m(e,t))}for(;d<_.length;d+=1)_[d].d(1);_.length=u.length}p&80&&i!==(i=g[6](g[4][g[4].length-1])+"")&&G(o,i),p&256&&G(f,g[8]),g[1]?m?m.p(g,p):(m=Sl(g),m.c(),m.m(e,c)):m&&(m.d(1),m=null),g[0]?v?v.p(g,p):(v=Nl(g),v.c(),v.m(e,null)):v&&(v.d(1),v=null),p&8&&z(e,"height",g[3]+"px")},i:B,o:B,d(g){g&&h(e),le(_,g),m&&m.d(),v&&v.d()}}}function Gn(a,e,t){let{hovered:l=null}=e,{selected:n=null}=e,{lineWidth:s=3}=e,{height:i=15}=e,{breaks:o=[0,20,40,60,80,100]}=e,{colors:f=["rgba(234,236,177,.8)","rgba(169,216,145,.8)","rgba(0,167,186,.8)","rgba(0,78,166,.8)","rgba(0,13,84,.8)"]}=e,{formatTick:r=m=>m.toFixed(0)}=e,{formatVal:c=m=>m.toFixed(1)}=e,{suffix:u="%"}=e;const _=(m,v)=>{let g=0;for(;m>v[g+1];)g+=1;let p=100/(v.length-1),d=(m-v[g])/(v[g+1]-v[g]);return(g+d)*p};return a.$$set=m=>{"hovered"in m&&t(0,l=m.hovered),"selected"in m&&t(1,n=m.selected),"lineWidth"in m&&t(2,s=m.lineWidth),"height"in m&&t(3,i=m.height),"breaks"in m&&t(4,o=m.breaks),"colors"in m&&t(5,f=m.colors),"formatTick"in m&&t(6,r=m.formatTick),"formatVal"in m&&t(7,c=m.formatVal),"suffix"in m&&t(8,u=m.suffix)},[l,n,s,i,o,f,r,c,u,_]}class Un extends ie{constructor(e){super();se(this,e,Gn,Wn,ae,{hovered:0,selected:1,lineWidth:2,height:3,breaks:4,colors:5,formatTick:6,formatVal:7,suffix:8})}}function Cl(a,e,t){const l=a.slice();return l[14]=e[t],l}function zl(a,e,t){const l=a.slice();return l[17]=e[t],l[19]=t,l}function Al(a,e,t){const l=a.slice();return l[17]=e[t],l[19]=t,l}function Tl(a,e,t){const l=a.slice();return l[14]=e[t],l[19]=t,l}function Vl(a){let e,t=a[7],l=[];for(let n=0;n<t.length;n+=1)l[n]=Pl(Tl(a,t,n));return{c(){e=y("ul");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=D(n,"UL",{class:!0});var s=I(e);for(let i=0;i<l.length;i+=1)l[i].l(s);s.forEach(h),this.h()},h(){w(e,"class","legend-block svelte-1ri9pb8")},m(n,s){E(n,e,s);for(let i=0;i<l.length;i+=1)l[i].m(e,null)},p(n,s){if(s&144){t=n[7];let i;for(i=0;i<t.length;i+=1){const o=Tl(n,t,i);l[i]?l[i].p(o,s):(l[i]=Pl(o),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(n){n&&h(e),le(l,n)}}}function Pl(a){let e,t,l,n,s=a[14]+"",i,o,f;return{c(){e=y("li"),t=y("div"),l=P(),n=y("span"),i=T(s),f=P(),this.h()},l(r){e=D(r,"LI",{class:!0});var c=I(e);t=D(c,"DIV",{class:!0}),I(t).forEach(h),l=L(c),n=D(c,"SPAN",{class:!0});var u=I(n);i=V(u,s),u.forEach(h),f=L(c),c.forEach(h),this.h()},h(){w(t,"class","legend-vis "+(a[19]==0?"bar":"marker")+" svelte-1ri9pb8"),z(t,"height","1rem",!1),z(t,"width",a[19]==0?"1rem":a[4]+"px",!1),w(n,"class",o=Ke(a[19]==0?"bold":"brackets")+" svelte-1ri9pb8"),w(e,"class","svelte-1ri9pb8")},m(r,c){E(r,e,c),b(e,t),b(e,l),b(e,n),b(n,i),b(e,f)},p(r,c){c&16&&z(t,"width",r[19]==0?"1rem":r[4]+"px",!1),c&128&&s!==(s=r[14]+"")&&G(i,s)},d(r){r&&h(e)}}}function Ll(a){let e,t=a[1](a[17].value)+"",l,n,s;return{c(){e=y("span"),l=T(t),n=T(a[2]),this.h()},l(i){e=D(i,"SPAN",{class:!0});var o=I(e);l=V(o,t),n=V(o,a[2]),o.forEach(h),this.h()},h(){w(e,"class",s="label "+(a[19]==0?"bold":"sml brackets")+" svelte-1ri9pb8")},m(i,o){E(i,e,o),b(e,l),b(e,n)},p(i,o){o&34&&t!==(t=i[1](i[17].value)+"")&&G(l,t),o&4&&G(n,i[2])},d(i){i&&h(e)}}}function Rn(a){let e,t=`calc(${a[6](a[17][a[0]])}% - ${a[4]/2}px)`,l=`${a[4]}px`;return{c(){e=y("div"),this.h()},l(n){e=D(n,"DIV",{class:!0}),I(e).forEach(h),this.h()},h(){w(e,"class","marker svelte-1ri9pb8"),z(e,"left",t,!1),z(e,"border-left-width",l,!1)},m(n,s){E(n,e,s)},p(n,s){s&113&&t!==(t=`calc(${n[6](n[17][n[0]])}% - ${n[4]/2}px)`)&&z(e,"left",t,!1),s&16&&l!==(l=`${n[4]}px`)&&z(e,"border-left-width",l,!1)},d(n){n&&h(e)}}}function Yn(a){let e,t=`${a[6](a[17][a[0]])}%`;return{c(){e=y("div"),this.h()},l(l){e=D(l,"DIV",{class:!0}),I(e).forEach(h),this.h()},h(){w(e,"class","bar svelte-1ri9pb8"),z(e,"left","0",!1),z(e,"width",t,!1)},m(l,n){E(l,e,n)},p(l,n){n&97&&t!==(t=`${l[6](l[17][l[0]])}%`)&&z(e,"width",t,!1)},d(l){l&&h(e)}}}function Kl(a){let e;function t(s,i){return s[19]==0?Yn:Rn}let n=t(a)(a);return{c(){n.c(),e=M()},l(s){n.l(s),e=M()},m(s,i){n.m(s,i),E(s,e,i)},p(s,i){n.p(s,i)},d(s){n.d(s),s&&h(e)}}}function Ml(a){let e,t=a[14].label+"",l,n,s,i,o,f=`${a[3]}px`,r=a[14].values,c=[];for(let m=0;m<r.length;m+=1)c[m]=Ll(Al(a,r,m));let u=a[14].values,_=[];for(let m=0;m<u.length;m+=1)_[m]=Kl(zl(a,u,m));return{c(){e=y("div"),l=T(t),n=P();for(let m=0;m<c.length;m+=1)c[m].c();s=P(),i=y("div");for(let m=0;m<_.length;m+=1)_[m].c();o=P(),this.h()},l(m){e=D(m,"DIV",{class:!0});var v=I(e);l=V(v,t),n=L(v);for(let p=0;p<c.length;p+=1)c[p].l(v);v.forEach(h),s=L(m),i=D(m,"DIV",{class:!0});var g=I(i);for(let p=0;p<_.length;p+=1)_[p].l(g);o=L(g),g.forEach(h),this.h()},h(){w(e,"class","label-group svelte-1ri9pb8"),w(i,"class","bar-group svelte-1ri9pb8"),z(i,"height",f,!1)},m(m,v){E(m,e,v),b(e,l),b(e,n);for(let g=0;g<c.length;g+=1)c[g].m(e,null);E(m,s,v),E(m,i,v);for(let g=0;g<_.length;g+=1)_[g].m(i,null);b(i,o)},p(m,v){if(v&32&&t!==(t=m[14].label+"")&&G(l,t),v&38){r=m[14].values;let g;for(g=0;g<r.length;g+=1){const p=Al(m,r,g);c[g]?c[g].p(p,v):(c[g]=Ll(p),c[g].c(),c[g].m(e,null))}for(;g<c.length;g+=1)c[g].d(1);c.length=r.length}if(v&113){u=m[14].values;let g;for(g=0;g<u.length;g+=1){const p=zl(m,u,g);_[g]?_[g].p(p,v):(_[g]=Kl(p),_[g].c(),_[g].m(i,o))}for(;g<_.length;g+=1)_[g].d(1);_.length=u.length}v&8&&f!==(f=`${m[3]}px`)&&z(i,"height",f,!1)},d(m){m&&h(e),le(c,m),m&&h(s),m&&h(i),le(_,m)}}}function Zn(a){let e,t,l=a[7][1]&&Vl(a),n=a[5],s=[];for(let i=0;i<n.length;i+=1)s[i]=Ml(Cl(a,n,i));return{c(){l&&l.c(),e=P();for(let i=0;i<s.length;i+=1)s[i].c();t=M()},l(i){l&&l.l(i),e=L(i);for(let o=0;o<s.length;o+=1)s[o].l(i);t=M()},m(i,o){l&&l.m(i,o),E(i,e,o);for(let f=0;f<s.length;f+=1)s[f].m(i,o);E(i,t,o)},p(i,[o]){if(i[7][1]?l?l.p(i,o):(l=Vl(i),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),o&127){n=i[5];let f;for(f=0;f<n.length;f+=1){const r=Cl(i,n,f);s[f]?s[f].p(r,o):(s[f]=Ml(r),s[f].c(),s[f].m(t.parentNode,t))}for(;f<s.length;f+=1)s[f].d(1);s.length=n.length}},i:B,o:B,d(i){l&&l.d(i),i&&h(e),le(s,i),i&&h(t)}}}function Jn(a,e,t){let l,n,s,i,{data:o}=e,{xKey:f="value"}=e,{yKey:r="category"}=e,{zKey:c="group"}=e,{formatTick:u=p=>Math.round(p)}=e,{suffix:_="%"}=e,{barHeight:m=25}=e,{markerWidth:v=3}=e;function g(p,d){let k={};for(const N of p)k[N[d]]||(k[N[d]]={label:N[d],values:[]}),k[N[d]].values.push(N);let S=[];for(const N in k)S.push(k[N]);return S}return a.$$set=p=>{"data"in p&&t(8,o=p.data),"xKey"in p&&t(0,f=p.xKey),"yKey"in p&&t(9,r=p.yKey),"zKey"in p&&t(10,c=p.zKey),"formatTick"in p&&t(1,u=p.formatTick),"suffix"in p&&t(2,_=p.suffix),"barHeight"in p&&t(3,m=p.barHeight),"markerWidth"in p&&t(4,v=p.markerWidth)},a.$$.update=()=>{a.$$.dirty&257&&t(11,l=[0,Math.max(...o.map(p=>p[f]))]),a.$$.dirty&768&&o.map(p=>p[r]).filter((p,d,k)=>k.indexOf(p)===d),a.$$.dirty&1280&&t(7,n=o.map(p=>p[c]).filter((p,d,k)=>k.indexOf(p)===d)),a.$$.dirty&2048&&t(6,s=p=>p/l[1]*100),a.$$.dirty&768&&t(5,i=g(o,r))},[f,u,_,m,v,i,s,n,o,r,c,l]}class Bt extends ie{constructor(e){super();se(this,e,Jn,Zn,ae,{data:8,xKey:0,yKey:9,zKey:10,formatTick:1,suffix:2,barHeight:3,markerWidth:4})}}function jl(a,e,t){const l=a.slice();return l[15]=e[t],l}function Bl(a,e,t){const l=a.slice();return l[18]=e[t],l[19]=e,l[20]=t,l}function Ol(a,e,t){const l=a.slice();return l[15]=e[t],l[20]=t,l}function Hl(a){let e,t=a[7],l=[];for(let n=0;n<t.length;n+=1)l[n]=ql(Ol(a,t,n));return{c(){e=y("ul");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=D(n,"UL",{class:!0});var s=I(e);for(let i=0;i<l.length;i+=1)l[i].l(s);s.forEach(h),this.h()},h(){w(e,"class","legend-block svelte-gainfd")},m(n,s){E(n,e,s);for(let i=0;i<l.length;i+=1)l[i].m(e,null)},p(n,s){if(s&128){t=n[7];let i;for(i=0;i<t.length;i+=1){const o=Ol(n,t,i);l[i]?l[i].p(o,s):(l[i]=ql(o),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(n){n&&h(e),le(l,n)}}}function ql(a){let e,t,l,n,s=a[15]+"",i,o;return{c(){e=y("li"),t=y("div"),l=P(),n=y("span"),i=T(s),o=P(),this.h()},l(f){e=D(f,"LI",{class:!0});var r=I(e);t=D(r,"DIV",{class:!0}),I(t).forEach(h),l=L(r),n=D(r,"SPAN",{class:!0});var c=I(n);i=V(c,s),c.forEach(h),o=L(r),r.forEach(h),this.h()},h(){w(t,"class","legend-vis "+(a[20]==0?"bar":"bar2")+" svelte-gainfd"),w(n,"class","svelte-gainfd"),_e(n,"bold",a[20]==0),w(e,"class","svelte-gainfd")},m(f,r){E(f,e,r),b(e,t),b(e,l),b(e,n),b(n,i),b(e,o)},p(f,r){r&128&&s!==(s=f[15]+"")&&G(i,s)},d(f){f&&h(e)}}}function Fl(a){let e,t=`${a[6](a[18][a[0]])}%`,l,n,s=a[1](a[18][a[0]])+"",i,o,f,r=`calc(${a[6](a[18][a[0]])}% + 2px)`;function c(){a[12].call(n,a[19],a[20])}return{c(){e=y("div"),l=P(),n=y("div"),i=T(s),o=T(a[2]),this.h()},l(u){e=D(u,"DIV",{class:!0}),I(e).forEach(h),l=L(u),n=D(u,"DIV",{class:!0});var _=I(n);i=V(_,s),o=V(_,a[2]),_.forEach(h),this.h()},h(){w(e,"class",Ke(a[20]==0?"bar":"bar2")+" svelte-gainfd"),z(e,"left","0",!1),z(e,"width",t,!1),z(e,"top",a[20]==0?"0":"50%",!1),z(e,"height",a[7][1]?"50%":"100%",!1),w(n,"class","label svelte-gainfd"),qe(()=>c.call(n)),_e(n,"bold",a[20]==0),z(n,"left",r,!1),z(n,"top",a[20]==0?"0":"50%",!1),z(n,"height","50%",!1)},m(u,_){E(u,e,_),E(u,l,_),E(u,n,_),b(n,i),b(n,o),f=Nt(n,c.bind(n))},p(u,_){a=u,_&97&&t!==(t=`${a[6](a[18][a[0]])}%`)&&z(e,"width",t,!1),_&128&&z(e,"height",a[7][1]?"50%":"100%",!1),_&35&&s!==(s=a[1](a[18][a[0]])+"")&&G(i,s),_&4&&G(o,a[2]),_&97&&r!==(r=`calc(${a[6](a[18][a[0]])}% + 2px)`)&&z(n,"left",r,!1)},d(u){u&&h(e),u&&h(l),u&&h(n),f()}}}function Wl(a){let e,t=a[15].label+"",l,n,s,i,o=`${a[7][1]?a[3]*2:a[3]}px`,f=`calc(100% - ${a[4]}px)`,r=a[15].values,c=[];for(let u=0;u<r.length;u+=1)c[u]=Fl(Bl(a,r,u));return{c(){e=y("div"),l=T(t),n=P(),s=y("div");for(let u=0;u<c.length;u+=1)c[u].c();i=P(),this.h()},l(u){e=D(u,"DIV",{class:!0});var _=I(e);l=V(_,t),_.forEach(h),n=L(u),s=D(u,"DIV",{class:!0});var m=I(s);for(let v=0;v<c.length;v+=1)c[v].l(m);i=L(m),m.forEach(h),this.h()},h(){w(e,"class","label-group svelte-gainfd"),w(s,"class","bar-group svelte-gainfd"),z(s,"height",o,!1),z(s,"width",f,!1)},m(u,_){E(u,e,_),b(e,l),E(u,n,_),E(u,s,_);for(let m=0;m<c.length;m+=1)c[m].m(s,null);b(s,i)},p(u,_){if(_&32&&t!==(t=u[15].label+"")&&G(l,t),_&231){r=u[15].values;let m;for(m=0;m<r.length;m+=1){const v=Bl(u,r,m);c[m]?c[m].p(v,_):(c[m]=Fl(v),c[m].c(),c[m].m(s,i))}for(;m<c.length;m+=1)c[m].d(1);c.length=r.length}_&136&&o!==(o=`${u[7][1]?u[3]*2:u[3]}px`)&&z(s,"height",o,!1),_&16&&f!==(f=`calc(100% - ${u[4]}px)`)&&z(s,"width",f,!1)},d(u){u&&h(e),u&&h(n),u&&h(s),le(c,u)}}}function Qn(a){let e,t,l=a[7][1]&&Hl(a),n=a[5],s=[];for(let i=0;i<n.length;i+=1)s[i]=Wl(jl(a,n,i));return{c(){l&&l.c(),e=P();for(let i=0;i<s.length;i+=1)s[i].c();t=M()},l(i){l&&l.l(i),e=L(i);for(let o=0;o<s.length;o+=1)s[o].l(i);t=M()},m(i,o){l&&l.m(i,o),E(i,e,o);for(let f=0;f<s.length;f+=1)s[f].m(i,o);E(i,t,o)},p(i,[o]){if(i[7][1]?l?l.p(i,o):(l=Hl(i),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),o&255){n=i[5];let f;for(f=0;f<n.length;f+=1){const r=jl(i,n,f);s[f]?s[f].p(r,o):(s[f]=Wl(r),s[f].c(),s[f].m(t.parentNode,t))}for(;f<s.length;f+=1)s[f].d(1);s.length=n.length}},i:B,o:B,d(i){l&&l.d(i),i&&h(e),le(s,i),i&&h(t)}}}function Xn(a,e,t){let l,n,s,i,{data:o}=e,{xKey:f="value"}=e,{yKey:r="category"}=e,{zKey:c="group"}=e,{formatTick:u=d=>Math.round(d)}=e,{suffix:_="%"}=e,{barHeight:m=20}=e,{margin:v=30}=e;function g(d,k){let S={};for(const K of d)S[K[k]]||(S[K[k]]={label:K[k],values:[]}),S[K[k]].values.push(K);let N=[];for(const K in S)N.push(S[K]);return N}function p(d,k){d[k].width=this.clientWidth,t(5,i),t(8,o),t(9,r)}return a.$$set=d=>{"data"in d&&t(8,o=d.data),"xKey"in d&&t(0,f=d.xKey),"yKey"in d&&t(9,r=d.yKey),"zKey"in d&&t(10,c=d.zKey),"formatTick"in d&&t(1,u=d.formatTick),"suffix"in d&&t(2,_=d.suffix),"barHeight"in d&&t(3,m=d.barHeight),"margin"in d&&t(4,v=d.margin)},a.$$.update=()=>{a.$$.dirty&257&&t(11,l=[0,Math.max(...o.map(d=>d[f]))]),a.$$.dirty&768&&o.map(d=>d[r]).filter((d,k,S)=>S.indexOf(d)===k),a.$$.dirty&1280&&t(7,n=o.map(d=>d[c]).filter((d,k,S)=>S.indexOf(d)===k)),a.$$.dirty&2048&&t(6,s=d=>d/l[1]*100),a.$$.dirty&768&&t(5,i=g(o,r))},[f,u,_,m,v,i,s,n,o,r,c,l,p]}class $n extends ie{constructor(e){super();se(this,e,Xn,Qn,ae,{data:8,xKey:0,yKey:9,zKey:10,formatTick:1,suffix:2,barHeight:3,margin:4})}}function Gl(a,e,t){const l=a.slice();return l[16]=e[t],l}function Ul(a,e,t){const l=a.slice();return l[19]=e[t],l[21]=t,l}function Rl(a,e,t){const l=a.slice();return l[22]=e[t],l[21]=t,l}function Yl(a,e,t){const l=a.slice();return l[19]=e[t],l}function Zl(a){let e,t=`${a[8](a[19].offset)}%`,l=`${a[8](a[19][a[0]])}%`;return{c(){e=y("div"),this.h()},l(n){e=D(n,"DIV",{class:!0}),I(e).forEach(h),this.h()},h(){w(e,"class","bar svelte-ffogaq"),z(e,"left",t,!1),z(e,"width",l,!1),z(e,"background-color",a[7](a[19][a[1]]),!1)},m(n,s){E(n,e,s)},p(n,s){s&320&&t!==(t=`${n[8](n[19].offset)}%`)&&z(e,"left",t,!1),s&321&&l!==(l=`${n[8](n[19][n[0]])}%`)&&z(e,"width",l,!1),s&194&&z(e,"background-color",n[7](n[19][n[1]]),!1)},d(n){n&&h(e)}}}function xn(a){let e,t=a[22].label+"",l,n;return{c(){e=y("div"),l=T(t),n=T(" comparison"),this.h()},l(s){e=D(s,"DIV",{class:!0});var i=I(e);l=V(i,t),n=V(i," comparison"),i.forEach(h),this.h()},h(){w(e,"class","legend overlay brackets svelte-ffogaq")},m(s,i){E(s,e,i),b(e,l),b(e,n)},p(s,i){i&64&&t!==(t=s[22].label+"")&&G(l,t)},d(s){s&&h(e)}}}function Jl(a){let e,t,l=`${a[21]==0?a[4]:a[4]/2}px`,n=a[22].values,s=[];for(let o=0;o<n.length;o+=1)s[o]=Zl(Yl(a,n,o));let i=a[21]!=0&&xn(a);return{c(){e=y("div");for(let o=0;o<s.length;o+=1)s[o].c();t=P(),i&&i.c(),this.h()},l(o){e=D(o,"DIV",{class:!0});var f=I(e);for(let r=0;r<s.length;r+=1)s[r].l(f);t=L(f),i&&i.l(f),f.forEach(h),this.h()},h(){w(e,"class","bar-group svelte-ffogaq"),z(e,"height",l,!1)},m(o,f){E(o,e,f);for(let r=0;r<s.length;r+=1)s[r].m(e,null);b(e,t),i&&i.m(e,null)},p(o,f){if(f&451){n=o[22].values;let r;for(r=0;r<n.length;r+=1){const c=Yl(o,n,r);s[r]?s[r].p(c,f):(s[r]=Zl(c),s[r].c(),s[r].m(e,t))}for(;r<s.length;r+=1)s[r].d(1);s.length=n.length}o[21]!=0&&i.p(o,f),f&16&&l!==(l=`${o[21]==0?o[4]:o[4]/2}px`)&&z(e,"height",l,!1)},d(o){o&&h(e),le(s,o),i&&i.d()}}}function Ql(a){let e,t=a[2](a[19][a[0]])+"",l,n,s;return{c(){e=y("td"),l=T(t),n=T(a[3]),this.h()},l(i){e=D(i,"TD",{class:!0});var o=I(e);l=V(o,t),n=V(o,a[3]),o.forEach(h),this.h()},h(){w(e,"class",s="cell-right "+(a[21]==0?"bold":"brackets")+" svelte-ffogaq")},m(i,o){E(i,e,o),b(e,l),b(e,n)},p(i,o){o&37&&t!==(t=i[2](i[19][i[0]])+"")&&G(l,t),o&8&&G(n,i[3])},d(i){i&&h(e)}}}function Xl(a){let e,t,l,n,s=a[16].label+"",i,o,f,r=a[16].values,c=[];for(let u=0;u<r.length;u+=1)c[u]=Ql(Ul(a,r,u));return{c(){e=y("tr"),t=y("td"),l=y("div"),n=P(),i=T(s),o=P();for(let u=0;u<c.length;u+=1)c[u].c();f=P(),this.h()},l(u){e=D(u,"TR",{});var _=I(e);t=D(_,"TD",{class:!0});var m=I(t);l=D(m,"DIV",{class:!0}),I(l).forEach(h),n=L(m),i=V(m,s),m.forEach(h),o=L(_);for(let v=0;v<c.length;v+=1)c[v].l(_);f=L(_),_.forEach(h),this.h()},h(){w(l,"class","legend-vis svelte-ffogaq"),z(l,"background-color",a[7](a[16].label),!1),w(t,"class","svelte-ffogaq")},m(u,_){E(u,e,_),b(e,t),b(t,l),b(t,n),b(t,i),b(e,o);for(let m=0;m<c.length;m+=1)c[m].m(e,null);b(e,f)},p(u,_){if(_&160&&z(l,"background-color",u[7](u[16].label),!1),_&32&&s!==(s=u[16].label+"")&&G(i,s),_&45){r=u[16].values;let m;for(m=0;m<r.length;m+=1){const v=Ul(u,r,m);c[m]?c[m].p(v,_):(c[m]=Ql(v),c[m].c(),c[m].m(e,f))}for(;m<c.length;m+=1)c[m].d(1);c.length=r.length}},d(u){u&&h(e),le(c,u)}}}function ei(a){let e,t,l,n=a[6],s=[];for(let f=0;f<n.length;f+=1)s[f]=Jl(Rl(a,n,f));let i=a[5],o=[];for(let f=0;f<i.length;f+=1)o[f]=Xl(Gl(a,i,f));return{c(){for(let f=0;f<s.length;f+=1)s[f].c();e=P(),t=y("table"),l=y("tbody");for(let f=0;f<o.length;f+=1)o[f].c();this.h()},l(f){for(let u=0;u<s.length;u+=1)s[u].l(f);e=L(f),t=D(f,"TABLE",{class:!0});var r=I(t);l=D(r,"TBODY",{});var c=I(l);for(let u=0;u<o.length;u+=1)o[u].l(c);c.forEach(h),r.forEach(h),this.h()},h(){w(t,"class","legend svelte-ffogaq")},m(f,r){for(let c=0;c<s.length;c+=1)s[c].m(f,r);E(f,e,r),E(f,t,r),b(t,l);for(let c=0;c<o.length;c+=1)o[c].m(l,null)},p(f,[r]){if(r&467){n=f[6];let c;for(c=0;c<n.length;c+=1){const u=Rl(f,n,c);s[c]?s[c].p(u,r):(s[c]=Jl(u),s[c].c(),s[c].m(e.parentNode,e))}for(;c<s.length;c+=1)s[c].d(1);s.length=n.length}if(r&173){i=f[5];let c;for(c=0;c<i.length;c+=1){const u=Gl(f,i,c);o[c]?o[c].p(u,r):(o[c]=Xl(u),o[c].c(),o[c].m(l,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=i.length}},i:B,o:B,d(f){le(s,f),f&&h(e),f&&h(t),le(o,f)}}}function li(a,e,t){let l,n,s,i,o,f,r,{data:c}=e,{xKey:u="value"}=e,{yKey:_="category"}=e,{zKey:m="group"}=e,{formatTick:v=S=>Math.round(S)}=e,{suffix:g="%"}=e,{barHeight:p=75}=e,{colors:d=["#206095","#A8BD3A","#003C57","#27A0CC","#118C7B","#F66068","#746CB1","#22D0B6","lightgrey"]}=e;function k(S,N){let K={},U={};for(const Z of S)K[Z[N]]||(K[Z[N]]={label:Z[N],values:[]},U[Z[N]]=0),K[Z[N]].values.push(Xe(Ne({},Z),{offset:U[Z[N]]})),U[Z[N]]+=Z[u];let R=[];for(const Z in K)R.push(K[Z]);return R}return a.$$set=S=>{"data"in S&&t(9,c=S.data),"xKey"in S&&t(0,u=S.xKey),"yKey"in S&&t(1,_=S.yKey),"zKey"in S&&t(10,m=S.zKey),"formatTick"in S&&t(2,v=S.formatTick),"suffix"in S&&t(3,g=S.suffix),"barHeight"in S&&t(4,p=S.barHeight),"colors"in S&&t(11,d=S.colors)},a.$$.update=()=>{a.$$.dirty&514&&t(12,l=c.map(S=>S[_]).filter((S,N,K)=>K.indexOf(S)===N)),a.$$.dirty&1536&&t(14,n=c.map(S=>S[m]).filter((S,N,K)=>K.indexOf(S)===N)),a.$$.dirty&17921&&t(13,s=[0,c.filter(S=>S[m]==n[0]).map(S=>S[u]).reduce((S,N)=>S+N,0)]),a.$$.dirty&8192&&t(8,i=S=>S/s[1]*100),a.$$.dirty&6144&&t(7,o=S=>d[l.indexOf(S)%l.length]),a.$$.dirty&1536&&t(6,f=k(c,m)),a.$$.dirty&514&&t(5,r=k(c,_))},[u,_,v,g,p,r,f,o,i,c,m,d,l,s,n]}class ti extends ie{constructor(e){super();se(this,e,li,ei,ae,{data:9,xKey:0,yKey:1,zKey:10,formatTick:2,suffix:3,barHeight:4,colors:11})}}function $l(a,e,t){const l=a.slice();return l[2]=e[t],l[4]=t,l}function xl(a){let e,t,l=a[4]+a[1]+"",n,s,i,o,f,r=a[2].name+"",c,u,_,m=a[2].value.toFixed(1)+"",v,g,p;return{c(){e=y("tr"),t=y("td"),n=T(l),s=T("."),i=P(),o=y("td"),f=y("strong"),c=T(r),u=P(),_=y("td"),v=T(m),g=T("%"),p=P(),this.h()},l(d){e=D(d,"TR",{});var k=I(e);t=D(k,"TD",{class:!0});var S=I(t);n=V(S,l),s=V(S,"."),S.forEach(h),i=L(k),o=D(k,"TD",{});var N=I(o);f=D(N,"STRONG",{});var K=I(f);c=V(K,r),K.forEach(h),N.forEach(h),u=L(k),_=D(k,"TD",{class:!0});var U=I(_);v=V(U,m),g=V(U,"%"),U.forEach(h),p=L(k),k.forEach(h),this.h()},h(){w(t,"class","w35 svelte-k5j86q"),w(_,"class","text-right svelte-k5j86q")},m(d,k){E(d,e,k),b(e,t),b(t,n),b(t,s),b(e,i),b(e,o),b(o,f),b(f,c),b(e,u),b(e,_),b(_,v),b(_,g),b(e,p)},p(d,k){k&2&&l!==(l=d[4]+d[1]+"")&&G(n,l),k&1&&r!==(r=d[2].name+"")&&G(c,r),k&1&&m!==(m=d[2].value.toFixed(1)+"")&&G(v,m)},d(d){d&&h(e)}}}function ni(a){let e,t,l=a[0],n=[];for(let s=0;s<l.length;s+=1)n[s]=xl($l(a,l,s));return{c(){e=y("table"),t=y("tbody");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){e=D(s,"TABLE",{class:!0});var i=I(e);t=D(i,"TBODY",{});var o=I(t);for(let f=0;f<n.length;f+=1)n[f].l(o);o.forEach(h),i.forEach(h),this.h()},h(){w(e,"class","table-rank text-small svelte-k5j86q")},m(s,i){E(s,e,i),b(e,t);for(let o=0;o<n.length;o+=1)n[o].m(t,null)},p(s,[i]){if(i&3){l=s[0];let o;for(o=0;o<l.length;o+=1){const f=$l(s,l,o);n[o]?n[o].p(f,i):(n[o]=xl(f),n[o].c(),n[o].m(t,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=l.length}},i:B,o:B,d(s){s&&h(e),le(n,s)}}}function ii(a,e,t){let{data:l}=e,{offset:n=1}=e;return a.$$set=s=>{"data"in s&&t(0,l=s.data),"offset"in s&&t(1,n=s.offset)},[l,n]}class Ot extends ie{constructor(e){super();se(this,e,ii,ni,ae,{data:0,offset:1})}}function et(a){let e;const t=a[14].default,l=ye(t,a,a[13],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,s){l&&l.m(n,s),e=!0},p(n,s){l&&l.p&&(!e||s&8192)&&De(l,t,n,n[13],e?Se(t,n[13],s,null):Ie(n[13]),null)},i(n){e||(C(l,n),e=!0)},o(n){A(l,n),e=!1},d(n){l&&l.d(n)}}}function si(a){let e,t,l=a[0]&&et(a);return{c(){e=y("div"),l&&l.c(),this.h()},l(n){e=D(n,"DIV",{id:!0,class:!0});var s=I(e);l&&l.l(s),s.forEach(h),this.h()},h(){w(e,"id",a[1]),w(e,"class","svelte-a65d1y")},m(n,s){E(n,e,s),l&&l.m(e,null),a[15](e),t=!0},p(n,[s]){n[0]?l?(l.p(n,s),s&1&&C(l,1)):(l=et(n),l.c(),C(l,1),l.m(e,null)):l&&(Q(),A(l,1,1,()=>{l=null}),X()),(!t||s&2)&&w(e,"id",n[1])},i(n){t||(C(l),t=!0)},o(n){A(l),t=!1},d(n){n&&h(e),l&&l.d(),a[15](null)}}}function ai(a,e,t){let{$$slots:l={},$$scope:n}=e,{map:s}=e,{id:i="map"}=e,{location:o={bounds:[[-5.816,49.864],[1.863,55.872]]}}=e,{maxbounds:f=[[-13,48],[5,60]]}=e,{style:r="https://bothness.github.io/ons-basemaps/data/style-omt.json"}=e,{interactive:c=!0}=e,{minzoom:u=0}=e,{maxzoom:_=14}=e,{zoom:m=null}=e,{scrollzoom:v=!0}=e,{geolocate:g=!0}=e,{zoomcontrol:p=!0}=e,d,k;Pe("map",{getMap:()=>s}),o.bounds?k={bounds:o.bounds}:o.lon&&o.lat&&(k={center:[o.lon,o.lat]},o.zoom&&(k.zoom=o.zoom)),f&&(k.maxBounds=f),Zt(()=>{const N=document.createElement("link");return N.rel="stylesheet",N.href="https://unpkg.com/mapbox-gl@1.13.0/dist/mapbox-gl.css",N.onload=()=>{t(0,s=new Oe.Map(Ne({container:d,style:r,minZoom:u,maxZoom:_,interactive:c},k))),p&&s.addControl(new Oe.NavigationControl({showCompass:!1})),v||s.scrollZoom.disable(),g&&s.addControl(new Oe.GeolocateControl),s.on("load",()=>{t(3,m=s.getZoom())}),s.on("zoom",()=>{t(3,m=s.getZoom())})},document.head.appendChild(N),()=>{s.remove(),N.parentNode.removeChild(N)}});function S(N){Ye[N?"unshift":"push"](()=>{d=N,t(2,d)})}return a.$$set=N=>{"map"in N&&t(0,s=N.map),"id"in N&&t(1,i=N.id),"location"in N&&t(4,o=N.location),"maxbounds"in N&&t(5,f=N.maxbounds),"style"in N&&t(6,r=N.style),"interactive"in N&&t(7,c=N.interactive),"minzoom"in N&&t(8,u=N.minzoom),"maxzoom"in N&&t(9,_=N.maxzoom),"zoom"in N&&t(3,m=N.zoom),"scrollzoom"in N&&t(10,v=N.scrollzoom),"geolocate"in N&&t(11,g=N.geolocate),"zoomcontrol"in N&&t(12,p=N.zoomcontrol),"$$scope"in N&&t(13,n=N.$$scope)},[s,i,d,m,o,f,r,c,u,_,v,g,p,n,l,S]}class oi extends ie{constructor(e){super();se(this,e,ai,si,ae,{map:0,id:1,location:4,maxbounds:5,style:6,interactive:7,minzoom:8,maxzoom:9,zoom:3,scrollzoom:10,geolocate:11,zoomcontrol:12})}}function lt(a){let e;const t=a[11].default,l=ye(t,a,a[10],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,s){l&&l.m(n,s),e=!0},p(n,s){l&&l.p&&(!e||s&1024)&&De(l,t,n,n[10],e?Se(t,n[10],s,null):Ie(n[10]),null)},i(n){e||(C(l,n),e=!0)},o(n){A(l,n),e=!1},d(n){l&&l.d(n)}}}function fi(a){let e,t,l=a[0]&&lt(a);return{c(){l&&l.c(),e=M()},l(n){l&&l.l(n),e=M()},m(n,s){l&&l.m(n,s),E(n,e,s),t=!0},p(n,[s]){n[0]?l?(l.p(n,s),s&1&&C(l,1)):(l=lt(n),l.c(),C(l,1),l.m(e.parentNode,e)):l&&(Q(),A(l,1,1,()=>{l=null}),X())},i(n){t||(C(l),t=!0)},o(n){A(l),t=!1},d(n){l&&l.d(n),n&&h(e)}}}function ri(a,e,t){let{$$slots:l={},$$scope:n}=e,{id:s}=e,{type:i}=e,{url:o=null}=e,{props:f={}}=e,{data:r=null}=e,{layer:c=null}=e,{promoteId:u=null}=e,{minzoom:_=null}=e,{maxzoom:m=null}=e,v=!1;const{getMap:g}=Ve("map"),p=g();Pe("source",{source:s,sourceLayer:c}),p.getSource(s)&&p.removeSource(s);function d(){p.isSourceLoaded(s)?(t(0,v=!0),console.log(s+" loaded!")):setTimeout(()=>{console.log("..."),d()},500)}function k(){p.isStyleLoaded(s)?(S(),document.querySelector("#map canvas")&&document.querySelector("#map canvas").tabIndex=="0"&&(document.querySelector("#map canvas").tabIndex="-1")):setTimeout(()=>{console.log("..."),k()},500)}_&&(f.minzoom=_),m&&(f.maxzoom=m),c&&u?(f.promoteId={},f.promoteId[c]=u):u&&(f.promoteId=u);function S(){console.log(s+" map source loading..."),i=="geojson"?r?(p.addSource(s,Ne({type:i,data:r},f)),d()):o&&(p.addSource(s,Ne({type:i,data:o},f)),d()):i=="vector"&&(p.addSource(s,Ne({type:i,tiles:[o]},f)),d())}k();function N(){p.getSource(s).setData(r)}return a.$$set=K=>{"id"in K&&t(2,s=K.id),"type"in K&&t(3,i=K.type),"url"in K&&t(4,o=K.url),"props"in K&&t(1,f=K.props),"data"in K&&t(5,r=K.data),"layer"in K&&t(6,c=K.layer),"promoteId"in K&&t(7,u=K.promoteId),"minzoom"in K&&t(8,_=K.minzoom),"maxzoom"in K&&t(9,m=K.maxzoom),"$$scope"in K&&t(10,n=K.$$scope)},a.$$.update=()=>{a.$$.dirty&33&&v&&r&&N()},[v,f,s,i,o,r,c,u,_,m,n,l]}class ci extends ie{constructor(e){super();se(this,e,ri,fi,ae,{id:2,type:3,url:4,props:1,data:5,layer:6,promoteId:7,minzoom:8,maxzoom:9})}}function ui(a,e,t){const l=Jt(),n=new Oe.Popup({closeButton:!1,closeOnClick:!1});let{id:s}=e,{type:i}=e,{filter:o=null}=e,{layout:f={}}=e,{paint:r={}}=e,{data:c=null}=e,{geoCode:u=null}=e,{colorCode:_=null}=e,{nameCode:m=null}=e,{valueCode:v=null}=e,{click:g=!1}=e,{ignoreClick:p=!1}=e,{clickCenter:d=!1}=e,{selected:k=null}=e,{hover:S=!1}=e,{hovered:N=null}=e,{highlight:K=!1}=e,{highlightKey:U="highlighted"}=e,{highlighted:R=[]}=e,{order:Z=null}=e,{maxzoom:O=null}=e,{minzoom:J=null}=e,{tooltip:ke=!1}=e;const{source:ne,sourceLayer:x}=Ve("source"),{getMap:ge}=Ve("map"),$=ge();let ve=null,we=null,Ce=[];$.getLayer(s)&&$.removeLayer(s);let ze={id:s,type:i,source:ne,paint:r,layout:f};o&&(ze.filter=o),x&&(ze["source-layer"]=x),O&&(ze.maxzoom=O),J&&(ze.minzoom=J),$.addLayer(ze,Z);function Fe(){c.forEach(j=>{$.setFeatureState({source:ne,sourceLayer:x,id:j[u]},{color:_?j[_]:null,name:m?j[m]:null,value:v?j[v]:null})})}return g&&$.on("click",s,j=>{if(j.features.length>0&&!p){if(t(0,k=j.features[0].id),l("select",{code:k}),ve&&$.setFeatureState({source:ne,sourceLayer:x,id:ve},{selected:!1}),$.setFeatureState({source:ne,sourceLayer:x,id:k},{selected:!0}),d){let ce=centroid(j.features[0].toJSON().geometry);$.flyTo({center:ce.geometry.coordinates})}t(23,ve=k)}}),S&&($.on("mousemove",s,j=>{if(j.features.length>0){N&&$.setFeatureState({source:ne,sourceLayer:x,id:N},{hovered:!1}),t(1,N=t(24,we=j.features[0].id)),$.setFeatureState({source:ne,sourceLayer:x,id:N},{hovered:!0}),$.getCanvas().style.cursor="pointer";let ce=$.getFeatureState({source:ne,sourceLayer:x,id:N});ke&&ce.name&&n.setLngLat(j.lngLat).setHTML(`<strong>${ce.name}</strong>${ce.value?"<br/>"+ce.value.toFixed(1)+"%":"<br/>Data not available"}`).addTo($)}}),$.on("mouseleave",s,j=>{N&&$.setFeatureState({source:ne,sourceLayer:x,id:N},{hovered:!1}),t(1,N=t(24,we=null)),$.getCanvas().style.cursor="",ke&&n.remove()})),a.$$set=j=>{"id"in j&&t(2,s=j.id),"type"in j&&t(3,i=j.type),"filter"in j&&t(4,o=j.filter),"layout"in j&&t(5,f=j.layout),"paint"in j&&t(6,r=j.paint),"data"in j&&t(7,c=j.data),"geoCode"in j&&t(8,u=j.geoCode),"colorCode"in j&&t(9,_=j.colorCode),"nameCode"in j&&t(10,m=j.nameCode),"valueCode"in j&&t(11,v=j.valueCode),"click"in j&&t(12,g=j.click),"ignoreClick"in j&&t(13,p=j.ignoreClick),"clickCenter"in j&&t(14,d=j.clickCenter),"selected"in j&&t(0,k=j.selected),"hover"in j&&t(15,S=j.hover),"hovered"in j&&t(1,N=j.hovered),"highlight"in j&&t(16,K=j.highlight),"highlightKey"in j&&t(17,U=j.highlightKey),"highlighted"in j&&t(18,R=j.highlighted),"order"in j&&t(19,Z=j.order),"maxzoom"in j&&t(20,O=j.maxzoom),"minzoom"in j&&t(21,J=j.minzoom),"tooltip"in j&&t(22,ke=j.tooltip)},a.$$.update=()=>{a.$$.dirty[0]&640&&(c||_)&&Fe(),a.$$.dirty[0]&34013184&&K&&R!=Ce&&(Ce[0]&&Ce.forEach(j=>{let ce={};ce[U]=!1,$.setFeatureState({source:ne,sourceLayer:x,id:j},ce)}),t(25,Ce=R),R[0]&&R.forEach(j=>{let ce={};ce[U]=!0,$.setFeatureState({source:ne,sourceLayer:x,id:j},ce)})),a.$$.dirty[0]&8392705&&g&&k!=ve&&(ve&&$.setFeatureState({source:ne,sourceLayer:x,id:ve},{selected:!1}),k&&$.setFeatureState({source:ne,sourceLayer:x,id:k},{selected:!0}),t(23,ve=k)),a.$$.dirty[0]&16809986&&S&&N!=we&&(we&&$.setFeatureState({source:ne,sourceLayer:x,id:we},{hovered:!1}),N&&$.setFeatureState({source:ne,sourceLayer:x,id:N},{hovered:!0}),t(24,we=N))},[k,N,s,i,o,f,r,c,u,_,m,v,g,p,d,S,K,U,R,Z,O,J,ke,ve,we,Ce]}class tt extends ie{constructor(e){super();se(this,e,ui,null,ae,{id:2,type:3,filter:4,layout:5,paint:6,data:7,geoCode:8,colorCode:9,nameCode:10,valueCode:11,click:12,ignoreClick:13,clickCenter:14,selected:0,hover:15,hovered:1,highlight:16,highlightKey:17,highlighted:18,order:19,maxzoom:20,minzoom:21,tooltip:22},null,[-1,-1])}}function _i(a){let e,t,l;const n=a[1].default,s=ye(n,a,a[0],null);return{c(){e=y("div"),t=y("div"),s&&s.c(),this.h()},l(i){e=D(i,"DIV",{class:!0});var o=I(e);t=D(o,"DIV",{class:!0});var f=I(t);s&&s.l(f),f.forEach(h),o.forEach(h),this.h()},h(){w(t,"class","wrapper"),w(e,"class","page-content")},m(i,o){E(i,e,o),b(e,t),s&&s.m(t,null),l=!0},p(i,[o]){s&&s.p&&(!l||o&1)&&De(s,n,i,i[0],l?Se(n,i[0],o,null):Ie(i[0]),null)},i(i){l||(C(s,i),l=!0)},o(i){A(s,i),l=!1},d(i){i&&h(e),s&&s.d(i)}}}function hi(a,e,t){let{$$slots:l={},$$scope:n}=e;return a.$$set=s=>{"$$scope"in s&&t(0,n=s.$$scope)},[n,l]}class di extends ie{constructor(e){super();se(this,e,hi,_i,ae,{})}}const mi=a=>({}),nt=a=>({});function it(a){let e,t,l,n;const s=a[6].meta,i=ye(s,a,a[5],nt);return{c(){e=y("h2"),t=T(a[0]),l=P(),i&&i.c(),this.h()},l(o){e=D(o,"H2",{id:!0,class:!0});var f=I(e);t=V(f,a[0]),f.forEach(h),l=L(o),i&&i.l(o),this.h()},h(){w(e,"id","topics"),w(e,"class","svelte-1328dmd")},m(o,f){E(o,e,f),b(e,t),E(o,l,f),i&&i.m(o,f),n=!0},p(o,f){(!n||f&1)&&G(t,o[0]),i&&i.p&&(!n||f&32)&&De(i,s,o,o[5],n?Se(s,o[5],f,mi):Ie(o[5]),nt)},i(o){n||(C(i,o),n=!0)},o(o){A(i,o),n=!1},d(o){o&&h(e),o&&h(l),i&&i.d(o)}}}function gi(a){let e,t,l,n,s=`repeat(auto-fit, minmax(min(${a[1]}px, 100%), 1fr))`,i=`${a[2]}px`,o,f=a[0]&&it(a);const r=a[6].default,c=ye(r,a,a[5],null);return{c(){e=y("div"),f&&f.c(),t=P(),l=y("div"),c&&c.c(),this.h()},l(u){e=D(u,"DIV",{class:!0});var _=I(e);f&&f.l(_),t=L(_),l=D(_,"DIV",{class:!0});var m=I(l);c&&c.l(m),m.forEach(h),_.forEach(h),this.h()},h(){w(l,"class","tiles-grid margin-bottom svelte-1328dmd"),qe(()=>a[7].call(l)),z(l,"grid-template-columns",s,!1),z(l,"grid-gap",i,!1),w(e,"class","tiles")},m(u,_){E(u,e,_),f&&f.m(e,null),b(e,t),b(e,l),c&&c.m(l,null),n=Nt(l,a[7].bind(l)),o=!0},p(u,[_]){u[0]?f?(f.p(u,_),_&1&&C(f,1)):(f=it(u),f.c(),C(f,1),f.m(e,t)):f&&(Q(),A(f,1,1,()=>{f=null}),X()),c&&c.p&&(!o||_&32)&&De(c,r,u,u[5],o?Se(r,u[5],_,null):Ie(u[5]),null),_&2&&s!==(s=`repeat(auto-fit, minmax(min(${u[1]}px, 100%), 1fr))`)&&z(l,"grid-template-columns",s,!1),_&4&&i!==(i=`${u[2]}px`)&&z(l,"grid-gap",i,!1)},i(u){o||(C(f),C(c,u),o=!0)},o(u){A(f),A(c,u),o=!1},d(u){u&&h(e),f&&f.d(),c&&c.d(u),n()}}}function vi(a,e,t){let l,{$$slots:n={},$$scope:s}=e,{title:i=null}=e,{colwidth:o=280}=e,{gridgap:f=16}=e,r;const c=Qt(3);Pe("tiles",{cols:c});function u(){r=this.clientWidth,t(3,r)}return a.$$set=_=>{"title"in _&&t(0,i=_.title),"colwidth"in _&&t(1,o=_.colwidth),"gridgap"in _&&t(2,f=_.gridgap),"$$scope"in _&&t(5,s=_.$$scope)},a.$$.update=()=>{a.$$.dirty&14&&t(4,l=r?Math.floor((r+f)/(o+f)):3),a.$$.dirty&16&&c.set(l)},[i,o,f,r,l,s,n,u]}class Ge extends ie{constructor(e){super();se(this,e,vi,gi,ae,{title:0,colwidth:1,gridgap:2})}}function st(a,e,t){const l=a.slice();return l[9]=e[t],l}function at(a){let e,t,l;return{c(){e=y("header"),t=y("h3"),l=T(a[2]),this.h()},l(n){e=D(n,"HEADER",{class:!0});var s=I(e);t=D(s,"H3",{class:!0});var i=I(t);l=V(i,a[2]),i.forEach(h),s.forEach(h),this.h()},h(){w(t,"class","margin-top--0 margin-right--0 margin-bottom--0 margin-left--0 svelte-1krn9ab"),w(e,"class","margin-top--1")},m(n,s){E(n,e,s),b(e,t),b(t,l)},p(n,s){s&4&&G(l,n[2])},d(n){n&&h(e)}}}function ot(a){let e,t=a[3],l=[];for(let n=0;n<t.length;n+=1)l[n]=ft(st(a,t,n));return{c(){e=y("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=D(n,"DIV",{class:!0});var s=I(e);for(let i=0;i<l.length;i+=1)l[i].l(s);s.forEach(h),this.h()},h(){w(e,"class","margin-top--2")},m(n,s){E(n,e,s);for(let i=0;i<l.length;i+=1)l[i].m(e,null)},p(n,s){if(s&8){t=n[3];let i;for(i=0;i<t.length;i+=1){const o=st(n,t,i);l[i]?l[i].p(o,s):(l[i]=ft(o),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(n){n&&h(e),le(l,n)}}}function ft(a){let e,t=a[9].label+"",l,n,s,i,o;return{c(){e=y("a"),l=T(t),n=P(),this.h()},l(f){e=D(f,"A",{href:!0,class:!0,"aria-label":!0,"data-gtm-label":!0});var r=I(e);l=V(r,t),n=L(r),r.forEach(h),this.h()},h(){w(e,"href",s=a[9].url),w(e,"class","tile__link"),w(e,"aria-label",i=a[9].label),w(e,"data-gtm-label",o=a[9].label)},m(f,r){E(f,e,r),b(e,l),b(e,n)},p(f,r){r&8&&t!==(t=f[9].label+"")&&G(l,t),r&8&&s!==(s=f[9].url)&&w(e,"href",s),r&8&&i!==(i=f[9].label)&&w(e,"aria-label",i),r&8&&o!==(o=f[9].label)&&w(e,"data-gtm-label",o)},d(f){f&&h(e)}}}function bi(a){let e,t,l,n,s=`span ${a[0]==1?1:a[0]>a[5]?a[5]:a[0]}`,i=`span ${a[1]}`,o,f=a[2]&&at(a);const r=a[8].default,c=ye(r,a,a[7],null);let u=a[3]&&a[3][0]&&ot(a);return{c(){e=y("div"),f&&f.c(),t=P(),c&&c.c(),l=P(),u&&u.c(),this.h()},l(_){e=D(_,"DIV",{class:!0});var m=I(e);f&&f.l(m),t=L(m),c&&c.l(m),l=L(m),u&&u.l(m),m.forEach(h),this.h()},h(){w(e,"class",n=Ke(a[4]?"":"tile tile__content")+" svelte-1krn9ab"),_e(e,"blank",a[4]),z(e,"grid-column",s,!1),z(e,"grid-row",i,!1)},m(_,m){E(_,e,m),f&&f.m(e,null),b(e,t),c&&c.m(e,null),b(e,l),u&&u.m(e,null),o=!0},p(_,[m]){_[2]?f?f.p(_,m):(f=at(_),f.c(),f.m(e,t)):f&&(f.d(1),f=null),c&&c.p&&(!o||m&128)&&De(c,r,_,_[7],o?Se(r,_[7],m,null):Ie(_[7]),null),_[3]&&_[3][0]?u?u.p(_,m):(u=ot(_),u.c(),u.m(e,null)):u&&(u.d(1),u=null),(!o||m&16&&n!==(n=Ke(_[4]?"":"tile tile__content")+" svelte-1krn9ab"))&&w(e,"class",n),m&16&&_e(e,"blank",_[4]),m&33&&s!==(s=`span ${_[0]==1?1:_[0]>_[5]?_[5]:_[0]}`)&&z(e,"grid-column",s,!1),m&2&&i!==(i=`span ${_[1]}`)&&z(e,"grid-row",i,!1)},i(_){o||(C(c,_),o=!0)},o(_){A(c,_),o=!1},d(_){_&&h(e),f&&f.d(),c&&c.d(_),u&&u.d()}}}function pi(a,e,t){let l,{$$slots:n={},$$scope:s}=e,{colspan:i=1}=e,{rowspan:o=1}=e,{title:f=null}=e,{links:r=null}=e,{blank:c=!1}=e;const{cols:u}=Ve("tiles");return Ct(a,u,_=>t(5,l=_)),a.$$set=_=>{"colspan"in _&&t(0,i=_.colspan),"rowspan"in _&&t(1,o=_.rowspan),"title"in _&&t(2,f=_.title),"links"in _&&t(3,r=_.links),"blank"in _&&t(4,c=_.blank),"$$scope"in _&&t(7,s=_.$$scope)},[i,o,f,r,c,l,u,s,n]}class ue extends ie{constructor(e){super();se(this,e,pi,bi,ae,{colspan:0,rowspan:1,title:2,links:3,blank:4})}}function rt(a,e,t){const l=a.slice();return l[38]=e[t],l[40]=t,l}function ct(a,e,t){const l=a.slice();return l[41]=e[t],l}function ut(a,e,t){const l=a.slice();return l[44]=e[t],l[40]=t,l}function ki(a){let e;return{c(){e=T("Population Group Profiles")},l(t){e=V(t,"Population Group Profiles")},m(t,l){E(t,e,l)},d(t){t&&h(e)}}}function wi(a){let e,t,l,n,s,i,o,f,r,c,u;return e=new jn({props:{$$slots:{default:[ki]},$$scope:{ctx:a}}}),{c(){q(e.$$.fragment),t=P(),l=y("p"),n=T("Select one or more identity characteristics to define a population group to compare with the whole population of England and Wales. For example, see "),s=y("a"),i=T("people of Sikh ethnicity born in the UK"),o=T(" or "),f=y("a"),r=T("people aged 65+ born in Ireland"),c=T("."),this.h()},l(_){Y(e.$$.fragment,_),t=L(_),l=D(_,"P",{class:!0});var m=I(l);n=V(m,"Select one or more identity characteristics to define a population group to compare with the whole population of England and Wales. For example, see "),s=D(m,"A",{href:!0,class:!0});var v=I(s);i=V(v,"people of Sikh ethnicity born in the UK"),v.forEach(h),o=V(m," or "),f=D(m,"A",{href:!0,class:!0});var g=I(f);r=V(g,"people aged 65+ born in Ireland"),g.forEach(h),c=V(m,"."),m.forEach(h),this.h()},h(){w(s,"href","?religion=7&cob=1-5"),w(s,"class","svelte-o8m547"),w(f,"href","?age=65-90&cob=6"),w(f,"class","svelte-o8m547"),w(l,"class","subtitle svelte-o8m547")},m(_,m){F(e,_,m),E(_,t,m),E(_,l,m),b(l,n),b(l,s),b(s,i),b(l,o),b(l,f),b(f,r),b(l,c),u=!0},p(_,m){const v={};m[1]&32768&&(v.$$scope={dirty:m,ctx:_}),e.$set(v)},i(_){u||(C(e.$$.fragment,_),u=!0)},o(_){A(e.$$.fragment,_),u=!1},d(_){W(e,_),_&&h(t),_&&h(l)}}}function _t(a){let e,t=de(a[44].label)+"",l,n;return{c(){e=y("option"),l=T(t),this.h()},l(s){e=D(s,"OPTION",{});var i=I(e);l=V(i,t),i.forEach(h),this.h()},h(){e.__value=n=a[44],e.value=e.__value},m(s,i){E(s,e,i),b(e,l)},p(s,i){i[0]&2048&&t!==(t=de(s[44].label)+"")&&G(l,t),i[0]&2048&&n!==(n=s[44])&&(e.__value=n,e.value=e.__value)},d(s){s&&h(e)}}}function ht(a){let e,t,l,n,s,i,o=a[2].cats,f=[];for(let r=0;r<o.length;r+=1)f[r]=dt(ct(a,o,r));return{c(){e=y("select");for(let r=0;r<f.length;r+=1)f[r].c();t=P(),l=y("button"),n=T("Add"),this.h()},l(r){e=D(r,"SELECT",{class:!0});var c=I(e);for(let _=0;_<f.length;_+=1)f[_].l(c);c.forEach(h),t=L(r),l=D(r,"BUTTON",{class:!0});var u=I(l);n=V(u,"Add"),u.forEach(h),this.h()},h(){w(e,"class","svelte-o8m547"),a[3][a[2].label]===void 0&&qe(()=>a[25].call(e)),w(l,"class","btn svelte-o8m547")},m(r,c){E(r,e,c);for(let u=0;u<f.length;u+=1)f[u].m(e,null);He(e,a[3][a[2].label]),E(r,t,c),E(r,l,c),b(l,n),s||(i=[Ae(e,"change",a[25]),Ae(l,"mouseup",a[26])],s=!0)},p(r,c){if(c[0]&4){o=r[2].cats;let u;for(u=0;u<o.length;u+=1){const _=ct(r,o,u);f[u]?f[u].p(_,c):(f[u]=dt(_),f[u].c(),f[u].m(e,null))}for(;u<f.length;u+=1)f[u].d(1);f.length=o.length}c[0]&2060&&He(e,r[3][r[2].label])},d(r){r&&h(e),le(f,r),r&&h(t),r&&h(l),s=!1,zt(i)}}}function dt(a){let e,t,l=(a[41].indent?Array.from({length:a[41].indent-1},a[24]).join("")+el:"")+"",n=de(a[41].label)+"",s,i;return{c(){e=y("option"),t=new $t,s=T(n),this.h()},l(o){e=D(o,"OPTION",{});var f=I(e);t=xt(f),s=V(f,n),f.forEach(h),this.h()},h(){t.a=s,e.__value=i=a[41],e.value=e.__value},m(o,f){E(o,e,f),t.m(l,e),b(e,s)},p(o,f){f[0]&4&&l!==(l=(o[41].indent?Array.from({length:o[41].indent-1},o[24]).join("")+el:"")+"")&&t.p(l),f[0]&4&&n!==(n=de(o[41].label)+"")&&G(s,n),f[0]&2052&&i!==(i=o[41])&&(e.__value=i,e.value=e.__value)},d(o){o&&h(e)}}}function mt(a){let e,t,l,n=a[0],s=[];for(let i=0;i<n.length;i+=1)s[i]=gt(rt(a,n,i));return{c(){e=y("br"),t=P();for(let i=0;i<s.length;i+=1)s[i].c();l=M()},l(i){e=D(i,"BR",{}),t=L(i);for(let o=0;o<s.length;o+=1)s[o].l(i);l=M()},m(i,o){E(i,e,o),E(i,t,o);for(let f=0;f<s.length;f+=1)s[f].m(i,o);E(i,l,o)},p(i,o){if(o[0]&8353){n=i[0];let f;for(f=0;f<n.length;f+=1){const r=rt(i,n,f);s[f]?s[f].p(r,o):(s[f]=gt(r),s[f].c(),s[f].m(l.parentNode,l))}for(;f<s.length;f+=1)s[f].d(1);s.length=n.length}},d(i){i&&h(e),i&&h(t),le(s,i),i&&h(l)}}}function Ei(a){let e,t,l=de(a[38].topic)+"",n,s,i=de(a[38].label)+"",o,f,r,c,u,_;function m(){return a[27](a[38])}return{c(){e=y("div"),t=y("span"),n=T(l),s=T(": "),o=T(i),f=P(),r=y("button"),c=P(),this.h()},l(v){e=D(v,"DIV",{class:!0});var g=I(e);t=D(g,"SPAN",{class:!0});var p=I(t);n=V(p,l),s=V(p,": "),o=V(p,i),p.forEach(h),f=L(g),r=D(g,"BUTTON",{class:!0}),I(r).forEach(h),c=L(g),g.forEach(h),this.h()},h(){w(t,"class","svelte-o8m547"),w(r,"class","svelte-o8m547"),w(e,"class","chip svelte-o8m547"),_e(e,"chip-inactive",a[40]>=a[7])},m(v,g){E(v,e,g),b(e,t),b(t,n),b(t,s),b(t,o),b(e,f),b(e,r),b(e,c),u||(_=Ae(r,"click",m),u=!0)},p(v,g){a=v,g[0]&1&&l!==(l=de(a[38].topic)+"")&&G(n,l),g[0]&1&&i!==(i=de(a[38].label)+"")&&G(o,i),g[0]&128&&_e(e,"chip-inactive",a[40]>=a[7])},d(v){v&&h(e),u=!1,_()}}}function yi(a){let e,t,l=de(a[38].topic)+"",n,s,i=de(a[38].label)+"",o,f,r,c;return{c(){e=y("div"),t=y("span"),n=T(l),s=T(": "),o=T(i),f=P(),r=y("div"),c=P(),this.h()},l(u){e=D(u,"DIV",{class:!0});var _=I(e);t=D(_,"SPAN",{class:!0});var m=I(t);n=V(m,l),s=V(m,": "),o=V(m,i),m.forEach(h),f=L(_),r=D(_,"DIV",{class:!0}),I(r).forEach(h),c=L(_),_.forEach(h),this.h()},h(){w(t,"class","svelte-o8m547"),w(r,"class","chip-loader svelte-o8m547"),w(e,"class","chip chip-pending svelte-o8m547")},m(u,_){E(u,e,_),b(e,t),b(t,n),b(t,s),b(t,o),b(e,f),b(e,r),b(e,c)},p(u,_){_[0]&1&&l!==(l=de(u[38].topic)+"")&&G(n,l),_[0]&1&&i!==(i=de(u[38].label)+"")&&G(o,i)},d(u){u&&h(e)}}}function gt(a){let e;function t(s,i){return s[5]=="loading"&&s[40]==s[0].length-1?yi:Ei}let l=t(a),n=l(a);return{c(){n.c(),e=M()},l(s){n.l(s),e=M()},m(s,i){n.m(s,i),E(s,e,i)},p(s,i){l===(l=t(s))&&n?n.p(s,i):(n.d(1),n=l(s),n&&(n.c(),n.m(e.parentNode,e)))},d(s){n.d(s),s&&h(e)}}}function vt(a){let e,t,l,n=a[5]=="failed"&&bt(),s=a[6]==!0&&pt();return{c(){e=y("div"),t=T(`Some datasets not available for selected variables.
    `),n&&n.c(),l=P(),s&&s.c(),this.h()},l(i){e=D(i,"DIV",{class:!0});var o=I(e);t=V(o,`Some datasets not available for selected variables.
    `),n&&n.l(o),l=L(o),s&&s.l(o),o.forEach(h),this.h()},h(){w(e,"class","warning svelte-o8m547")},m(i,o){E(i,e,o),b(e,t),n&&n.m(e,null),b(e,l),s&&s.m(e,null)},p(i,o){i[5]=="failed"?n||(n=bt(),n.c(),n.m(e,l)):n&&(n.d(1),n=null),i[6]==!0?s||(s=pt(),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(i){i&&h(e),n&&n.d(),s&&s.d()}}}function bt(a){let e;return{c(){e=T("Try removing a variable to see more datasets.")},l(t){e=V(t,"Try removing a variable to see more datasets.")},m(t,l){E(t,e,l)},d(t){t&&h(e)}}}function pt(a){let e;return{c(){e=T("Economic indicators (employment, social status etc) not available for ages 0 to 15.")},l(t){e=V(t,"Economic indicators (employment, social status etc) not available for ages 0 to 15.")},m(t,l){E(t,e,l)},d(t){t&&h(e)}}}function Di(a){let e,t,l,n=a[11][0]?a[0][0]?"Select another characteristic":"Select a characteristic":"No more topics available",s,i,o,f,r,c,u,_=a[11],m=[];for(let d=0;d<_.length;d+=1)m[d]=_t(ut(a,_,d));let v=a[2]&&ht(a),g=a[0][0]&&mt(a),p=(a[5]=="failed"||a[6]==!0)&&vt(a);return{c(){e=y("div"),t=y("select"),l=y("option"),s=T(n);for(let d=0;d<m.length;d+=1)m[d].c();o=P(),v&&v.c(),f=P(),g&&g.c(),r=P(),p&&p.c(),this.h()},l(d){e=D(d,"DIV",{slot:!0,class:!0});var k=I(e);t=D(k,"SELECT",{class:!0});var S=I(t);l=D(S,"OPTION",{});var N=I(l);s=V(N,n),N.forEach(h);for(let K=0;K<m.length;K+=1)m[K].l(S);S.forEach(h),o=L(k),v&&v.l(k),f=L(k),g&&g.l(k),r=L(k),p&&p.l(k),k.forEach(h),this.h()},h(){l.__value=null,l.value=l.__value,t.disabled=i=!a[11][0],w(t,"class","svelte-o8m547"),a[2]===void 0&&qe(()=>a[23].call(t)),w(e,"slot","meta"),w(e,"class","wrapper")},m(d,k){E(d,e,k),b(e,t),b(t,l),b(l,s);for(let S=0;S<m.length;S+=1)m[S].m(t,null);He(t,a[2]),b(e,o),v&&v.m(e,null),b(e,f),g&&g.m(e,null),b(e,r),p&&p.m(e,null),c||(u=Ae(t,"change",a[23]),c=!0)},p(d,k){if(k[0]&2049&&n!==(n=d[11][0]?d[0][0]?"Select another characteristic":"Select a characteristic":"No more topics available")&&G(s,n),k[0]&2048){_=d[11];let S;for(S=0;S<_.length;S+=1){const N=ut(d,_,S);m[S]?m[S].p(N,k):(m[S]=_t(N),m[S].c(),m[S].m(t,null))}for(;S<m.length;S+=1)m[S].d(1);m.length=_.length}k[0]&2048&&i!==(i=!d[11][0])&&(t.disabled=i),k[0]&2052&&He(t,d[2]),d[2]?v?v.p(d,k):(v=ht(d),v.c(),v.m(e,f)):v&&(v.d(1),v=null),d[0][0]?g?g.p(d,k):(g=mt(d),g.c(),g.m(e,r)):g&&(g.d(1),g=null),d[5]=="failed"||d[6]==!0?p?p.p(d,k):(p=vt(d),p.c(),p.m(e,null)):p&&(p.d(1),p=null)},d(d){d&&h(e),le(m,d),v&&v.d(),g&&g.d(),p&&p.d(),c=!1,u()}}}function Ii(a){let e,t=(Math.round(a[10].selected/a[10].all*100)>0?Math.round(a[10].selected/a[10].all*100):"<1")+"",l,n,s,i,o,f,r,c,u=a[10].selected.toLocaleString()+"",_,m,v=a[10].all.toLocaleString()+"",g,p;return{c(){e=y("div"),l=T(t),n=T("%"),s=P(),i=y("div"),o=T("of people in England and Wales"),f=P(),r=y("div"),c=y("mark"),_=T(u),m=T(" of "),g=T(v),p=T(" people"),this.h()},l(d){e=D(d,"DIV",{class:!0});var k=I(e);l=V(k,t),n=V(k,"%"),k.forEach(h),s=L(d),i=D(d,"DIV",{class:!0});var S=I(i);o=V(S,"of people in England and Wales"),S.forEach(h),f=L(d),r=D(d,"DIV",{class:!0});var N=I(r);c=D(N,"MARK",{class:!0});var K=I(c);_=V(K,u),K.forEach(h),m=V(N," of "),g=V(N,v),p=V(N," people"),N.forEach(h),this.h()},h(){w(e,"class","num-big svelte-o8m547"),w(i,"class","num-suffix svelte-o8m547"),w(c,"class","svelte-o8m547"),w(r,"class","num-desc svelte-o8m547")},m(d,k){E(d,e,k),b(e,l),b(e,n),E(d,s,k),E(d,i,k),b(i,o),E(d,f,k),E(d,r,k),b(r,c),b(c,_),b(r,m),b(r,g),b(r,p)},p(d,k){k[0]&1024&&t!==(t=(Math.round(d[10].selected/d[10].all*100)>0?Math.round(d[10].selected/d[10].all*100):"<1")+"")&&G(l,t),k[0]&1024&&u!==(u=d[10].selected.toLocaleString()+"")&&G(_,u),k[0]&1024&&v!==(v=d[10].all.toLocaleString()+"")&&G(g,v)},d(d){d&&h(e),d&&h(s),d&&h(i),d&&h(f),d&&h(r)}}}function Si(a){let e,t=me.nodata+"",l;return{c(){e=y("div"),l=T(t),this.h()},l(n){e=D(n,"DIV",{class:!0});var s=I(e);l=V(s,t),s.forEach(h),this.h()},h(){w(e,"class","num-desc svelte-o8m547")},m(n,s){E(n,e,s),b(e,l)},p:B,d(n){n&&h(e)}}}function Ni(a){let e;function t(s,i){return s[10].selected==0?Si:Ii}let l=t(a),n=l(a);return{c(){n.c(),e=M()},l(s){n.l(s),e=M()},m(s,i){n.m(s,i),E(s,e,i)},p(s,i){l===(l=t(s))&&n?n.p(s,i):(n.d(1),n=l(s),n&&(n.c(),n.m(e.parentNode,e)))},d(s){n.d(s),s&&h(e)}}}function Ci(a){let e,t=a[15](a[9].selected)+"",l,n,s,i,o,f,r=a[10].all!=a[10].selected&&kt(a);return{c(){e=y("div"),l=T(t),n=P(),s=y("div"),i=T("years"),o=P(),r&&r.c(),f=M(),this.h()},l(c){e=D(c,"DIV",{class:!0});var u=I(e);l=V(u,t),u.forEach(h),n=L(c),s=D(c,"DIV",{class:!0});var _=I(s);i=V(_,"years"),_.forEach(h),o=L(c),r&&r.l(c),f=M(),this.h()},h(){w(e,"class","num-big svelte-o8m547"),w(s,"class","num-suffix svelte-o8m547")},m(c,u){E(c,e,u),b(e,l),E(c,n,u),E(c,s,u),b(s,i),E(c,o,u),r&&r.m(c,u),E(c,f,u)},p(c,u){u[0]&512&&t!==(t=c[15](c[9].selected)+"")&&G(l,t),c[10].all!=c[10].selected?r?r.p(c,u):(r=kt(c),r.c(),r.m(f.parentNode,f)):r&&(r.d(1),r=null)},d(c){c&&h(e),c&&h(n),c&&h(s),c&&h(o),r&&r.d(c),c&&h(f)}}}function zi(a){let e,t=me.nodata+"",l;return{c(){e=y("div"),l=T(t),this.h()},l(n){e=D(n,"DIV",{class:!0});var s=I(e);l=V(s,t),s.forEach(h),this.h()},h(){w(e,"class","num-desc svelte-o8m547")},m(n,s){E(n,e,s),b(e,l)},p:B,d(n){n&&h(e)}}}function kt(a){let e,t,l=a[15](a[9].all)+"",n,s,i;return{c(){e=y("div"),t=y("mark"),n=T(l),s=T(" years"),i=T(" for whole population"),this.h()},l(o){e=D(o,"DIV",{class:!0});var f=I(e);t=D(f,"MARK",{class:!0});var r=I(t);n=V(r,l),s=V(r," years"),r.forEach(h),i=V(f," for whole population"),f.forEach(h),this.h()},h(){w(t,"class","svelte-o8m547"),w(e,"class","num-desc svelte-o8m547")},m(o,f){E(o,e,f),b(e,t),b(t,n),b(t,s),b(e,i)},p(o,f){f[0]&512&&l!==(l=o[15](o[9].all)+"")&&G(n,l)},d(o){o&&h(e)}}}function Ai(a){let e,t;function l(i,o){return o[0]&512&&(e=null),e==null&&(e=!!pe(i[9].selected.residents.age.values)),e?zi:Ci}let n=l(a,[-1,-1]),s=n(a);return{c(){s.c(),t=M()},l(i){s.l(i),t=M()},m(i,o){s.m(i,o),E(i,t,o)},p(i,o){n===(n=l(i,o))&&s?s.p(i,o):(s.d(1),s=n(i),s&&(s.c(),s.m(t.parentNode,t)))},d(i){s.d(i),i&&h(t)}}}function Ti(a){let e,t;return e=new Fn({props:{data:a[9].selected&&a[14](["residents","age"])}}),{c(){q(e.$$.fragment)},l(l){Y(e.$$.fragment,l)},m(l,n){F(e,l,n),t=!0},p(l,n){const s={};n[0]&512&&(s.data=l[9].selected&&l[14](["residents","age"])),e.$set(s)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function Vi(a){let e,t=me.nodata+"",l;return{c(){e=y("span"),l=T(t),this.h()},l(n){e=D(n,"SPAN",{class:!0});var s=I(e);l=V(s,t),s.forEach(h),this.h()},h(){w(e,"class","num-desc svelte-o8m547")},m(n,s){E(n,e,s),b(e,l)},p:B,i:B,o:B,d(n){n&&h(e)}}}function Pi(a){let e,t,l,n,s;const i=[Vi,Ti],o=[];function f(r,c){return c[0]&512&&(e=null),e==null&&(e=!!pe(r[9].selected.residents.age.values)),e?0:1}return t=f(a,[-1,-1]),l=o[t]=i[t](a),{c(){l.c(),n=M()},l(r){l.l(r),n=M()},m(r,c){o[t].m(r,c),E(r,n,c),s=!0},p(r,c){let u=t;t=f(r,c),t===u?o[t].p(r,c):(Q(),A(o[u],1,1,()=>{o[u]=null}),X(),l=o[t],l?l.p(r,c):(l=o[t]=i[t](r),l.c()),C(l,1),l.m(n.parentNode,n))},i(r){s||(C(l),s=!0)},o(r){A(l),s=!1},d(r){o[t].d(r),r&&h(n)}}}function Li(a){let e,t,l,n,s,i;return e=new ue({props:{title:"Population",$$slots:{default:[Ni]},$$scope:{ctx:a}}}),l=new ue({props:{title:"Average (median) age",$$slots:{default:[Ai]},$$scope:{ctx:a}}}),s=new ue({props:{title:"Age profile",$$slots:{default:[Pi]},$$scope:{ctx:a}}}),{c(){q(e.$$.fragment),t=P(),q(l.$$.fragment),n=P(),q(s.$$.fragment)},l(o){Y(e.$$.fragment,o),t=L(o),Y(l.$$.fragment,o),n=L(o),Y(s.$$.fragment,o)},m(o,f){F(e,o,f),E(o,t,f),F(l,o,f),E(o,n,f),F(s,o,f),i=!0},p(o,f){const r={};f[0]&1024|f[1]&32768&&(r.$$scope={dirty:f,ctx:o}),e.$set(r);const c={};f[0]&1536|f[1]&32768&&(c.$$scope={dirty:f,ctx:o}),l.$set(c);const u={};f[0]&512|f[1]&32768&&(u.$$scope={dirty:f,ctx:o}),s.$set(u)},i(o){i||(C(e.$$.fragment,o),C(l.$$.fragment,o),C(s.$$.fragment,o),i=!0)},o(o){A(e.$$.fragment,o),A(l.$$.fragment,o),A(s.$$.fragment,o),i=!1},d(o){W(e,o),o&&h(t),W(l,o),o&&h(n),W(s,o)}}}function wt(a){let e,t;return e=new ci({props:{id:"lad",type:"geojson",data:a[9].geojson,promoteId:Le.code,$$slots:{default:[Ki]},$$scope:{ctx:a}}}),{c(){q(e.$$.fragment)},l(l){Y(e.$$.fragment,l)},m(l,n){F(e,l,n),t=!0},p(l,n){const s={};n[0]&512&&(s.data=l[9].geojson),n[0]&528|n[1]&32768&&(s.$$scope={dirty:n,ctx:l}),e.$set(s)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function Ki(a){let e,t,l,n,s;function i(f){a[28](f)}let o={id:"lad-fill",data:a[9].geoPerc,geoCode:"code",nameCode:"name",colorCode:"color",valueCode:"value",hover:!0,tooltip:!0,type:"fill",paint:{"fill-color":["case",["!=",["feature-state","color"],null],["feature-state","color"],"rgba(255, 255, 255, 0)"],"fill-opacity":.8},order:"highway_name_other"};return a[4]!==void 0&&(o.hovered=a[4]),e=new tt({props:o}),Ye.push(()=>At(e,"hovered",i)),n=new tt({props:{id:"lad-line",type:"line",paint:{"line-color":"orange","line-width":2,"line-opacity":["case",["==",["feature-state","hovered"],!0],1,0]},order:"highway_name_other"}}),{c(){q(e.$$.fragment),l=P(),q(n.$$.fragment)},l(f){Y(e.$$.fragment,f),l=L(f),Y(n.$$.fragment,f)},m(f,r){F(e,f,r),E(f,l,r),F(n,f,r),s=!0},p(f,r){const c={};r[0]&512&&(c.data=f[9].geoPerc),!t&&r[0]&16&&(t=!0,c.hovered=f[4],Tt(()=>t=!1)),e.$set(c)},i(f){s||(C(e.$$.fragment,f),C(n.$$.fragment,f),s=!0)},o(f){A(e.$$.fragment,f),A(n.$$.fragment,f),s=!1},d(f){W(e,f),f&&h(l),W(n,f)}}}function Mi(a){let e,t,l=a[9].geojson&&a[9].geoPerc&&wt(a);return{c(){l&&l.c(),e=M()},l(n){l&&l.l(n),e=M()},m(n,s){l&&l.m(n,s),E(n,e,s),t=!0},p(n,s){n[9].geojson&&n[9].geoPerc?l?(l.p(n,s),s[0]&512&&C(l,1)):(l=wt(n),l.c(),C(l,1),l.m(e.parentNode,e)):l&&(Q(),A(l,1,1,()=>{l=null}),X())},i(n){t||(C(l),t=!0)},o(n){A(l),t=!1},d(n){l&&l.d(n),n&&h(e)}}}function Et(a){let e,t,l;return t=new Un({props:{breaks:a[9].geoBreaks,hovered:a[4]&&a[9].geoPerc.find(a[30])?a[9].geoPerc.find(a[31]).value:null,colors:a[9].geoBreaks[1]==100?[Ee.seq[4]]:Ee.seq}}),{c(){e=y("div"),q(t.$$.fragment),this.h()},l(n){e=D(n,"DIV",{});var s=I(e);Y(t.$$.fragment,s),s.forEach(h),this.h()},h(){z(e,"height","38px",!1),z(e,"width","100%",!1)},m(n,s){E(n,e,s),F(t,e,null),l=!0},p(n,s){const i={};s[0]&512&&(i.breaks=n[9].geoBreaks),s[0]&528&&(i.hovered=n[4]&&n[9].geoPerc.find(n[30])?n[9].geoPerc.find(n[31]).value:null),s[0]&512&&(i.colors=n[9].geoBreaks[1]==100?[Ee.seq[4]]:Ee.seq),t.$set(i)},i(n){l||(C(t.$$.fragment,n),l=!0)},o(n){A(t.$$.fragment,n),l=!1},d(n){n&&h(e),W(t)}}}function ji(a){let e,t,l,n,s,i;function o(c){a[29](c)}let f={style:sn,$$slots:{default:[Mi]},$$scope:{ctx:a}};a[1]!==void 0&&(f.map=a[1]),t=new oi({props:f}),Ye.push(()=>At(t,"map",o));let r=a[9].geoBreaks&&a[9].geoPerc&&Et(a);return{c(){e=y("div"),q(t.$$.fragment),n=P(),r&&r.c(),s=M(),this.h()},l(c){e=D(c,"DIV",{});var u=I(e);Y(t.$$.fragment,u),u.forEach(h),n=L(c),r&&r.l(c),s=M(),this.h()},h(){z(e,"height","450px",!1)},m(c,u){E(c,e,u),F(t,e,null),E(c,n,u),r&&r.m(c,u),E(c,s,u),i=!0},p(c,u){const _={};u[0]&528|u[1]&32768&&(_.$$scope={dirty:u,ctx:c}),!l&&u[0]&2&&(l=!0,_.map=c[1],Tt(()=>l=!1)),t.$set(_),c[9].geoBreaks&&c[9].geoPerc?r?(r.p(c,u),u[0]&512&&C(r,1)):(r=Et(c),r.c(),C(r,1),r.m(s.parentNode,s)):r&&(Q(),A(r,1,1,()=>{r=null}),X())},i(c){i||(C(t.$$.fragment,c),C(r),i=!0)},o(c){A(t.$$.fragment,c),A(r),i=!1},d(c){c&&h(e),W(t),c&&h(n),r&&r.d(c),c&&h(s)}}}function Bi(a){let e,t;return{c(){e=y("span"),t=T("Make a selection to see rankings."),this.h()},l(l){e=D(l,"SPAN",{class:!0});var n=I(e);t=V(n,"Make a selection to see rankings."),n.forEach(h),this.h()},h(){w(e,"class","muted svelte-o8m547")},m(l,n){E(l,e,n),b(e,t)},p:B,i:B,o:B,d(l){l&&h(e)}}}function Oi(a){let e,t;return e=new Ot({props:{data:[...a[9].geoPerc].sort(yt).slice(0,5)}}),{c(){q(e.$$.fragment)},l(l){Y(e.$$.fragment,l)},m(l,n){F(e,l,n),t=!0},p(l,n){const s={};n[0]&512&&(s.data=[...l[9].geoPerc].sort(yt).slice(0,5)),e.$set(s)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function Hi(a){let e,t,l,n;const s=[Oi,Bi],i=[];function o(f,r){return f[9].geoPerc&&f[0][0]?0:1}return e=o(a),t=i[e]=s[e](a),{c(){t.c(),l=M()},l(f){t.l(f),l=M()},m(f,r){i[e].m(f,r),E(f,l,r),n=!0},p(f,r){let c=e;e=o(f),e===c?i[e].p(f,r):(Q(),A(i[c],1,1,()=>{i[c]=null}),X(),t=i[e],t?t.p(f,r):(t=i[e]=s[e](f),t.c()),C(t,1),t.m(l.parentNode,l))},i(f){n||(C(t),n=!0)},o(f){A(t),n=!1},d(f){i[e].d(f),f&&h(l)}}}function qi(a){let e,t;return{c(){e=y("span"),t=T("Make a selection to see rankings."),this.h()},l(l){e=D(l,"SPAN",{class:!0});var n=I(e);t=V(n,"Make a selection to see rankings."),n.forEach(h),this.h()},h(){w(e,"class","muted svelte-o8m547")},m(l,n){E(l,e,n),b(e,t)},p:B,i:B,o:B,d(l){l&&h(e)}}}function Fi(a){let e,t;return e=new Ot({props:{data:a[9].geoPerc.filter(Dt).sort(It).slice(-5),offset:a[9].geoPerc.filter(St).length-4}}),{c(){q(e.$$.fragment)},l(l){Y(e.$$.fragment,l)},m(l,n){F(e,l,n),t=!0},p(l,n){const s={};n[0]&512&&(s.data=l[9].geoPerc.filter(Dt).sort(It).slice(-5)),n[0]&512&&(s.offset=l[9].geoPerc.filter(St).length-4),e.$set(s)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function Wi(a){let e,t,l,n;const s=[Fi,qi],i=[];function o(f,r){return f[9].geoPerc&&f[0][0]?0:1}return e=o(a),t=i[e]=s[e](a),{c(){t.c(),l=M()},l(f){t.l(f),l=M()},m(f,r){i[e].m(f,r),E(f,l,r),n=!0},p(f,r){let c=e;e=o(f),e===c?i[e].p(f,r):(Q(),A(i[c],1,1,()=>{i[c]=null}),X(),t=i[e],t?t.p(f,r):(t=i[e]=s[e](f),t.c()),C(t,1),t.m(l.parentNode,l))},i(f){n||(C(t),n=!0)},o(f){A(t),n=!1},d(f){i[e].d(f),f&&h(l)}}}function Gi(a){let e,t,l,n,s,i;return e=new ue({props:{colspan:2,rowspan:2,blank:!0,$$slots:{default:[ji]},$$scope:{ctx:a}}}),l=new ue({props:{title:"Areas with highest %",$$slots:{default:[Hi]},$$scope:{ctx:a}}}),s=new ue({props:{title:"Areas with lowest %",$$slots:{default:[Wi]},$$scope:{ctx:a}}}),{c(){q(e.$$.fragment),t=P(),q(l.$$.fragment),n=P(),q(s.$$.fragment)},l(o){Y(e.$$.fragment,o),t=L(o),Y(l.$$.fragment,o),n=L(o),Y(s.$$.fragment,o)},m(o,f){F(e,o,f),E(o,t,f),F(l,o,f),E(o,n,f),F(s,o,f),i=!0},p(o,f){const r={};f[0]&530|f[1]&32768&&(r.$$scope={dirty:f,ctx:o}),e.$set(r);const c={};f[0]&513|f[1]&32768&&(c.$$scope={dirty:f,ctx:o}),l.$set(c);const u={};f[0]&513|f[1]&32768&&(u.$$scope={dirty:f,ctx:o}),s.$set(u)},i(o){i||(C(e.$$.fragment,o),C(l.$$.fragment,o),C(s.$$.fragment,o),i=!0)},o(o){A(e.$$.fragment,o),A(l.$$.fragment,o),A(s.$$.fragment,o),i=!1},d(o){W(e,o),o&&h(t),W(l,o),o&&h(n),W(s,o)}}}function Ui(a){let e,t,l;var n=a[8];function s(i){return{props:{data:i[9].selected&&i[14](["residents","health"])}}}return n&&(e=new n(s(a))),{c(){e&&q(e.$$.fragment),t=M()},l(i){e&&Y(e.$$.fragment,i),t=M()},m(i,o){e&&F(e,i,o),E(i,t,o),l=!0},p(i,o){const f={};if(o[0]&512&&(f.data=i[9].selected&&i[14](["residents","health"])),n!==(n=i[8])){if(e){Q();const r=e;A(r.$$.fragment,1,0,()=>{W(r,1)}),X()}n?(e=new n(s(i)),q(e.$$.fragment),C(e.$$.fragment,1),F(e,t.parentNode,t)):e=null}else n&&e.$set(f)},i(i){l||(e&&C(e.$$.fragment,i),l=!0)},o(i){e&&A(e.$$.fragment,i),l=!1},d(i){i&&h(t),e&&W(e,i)}}}function Ri(a){let e,t=me.nodata+"",l;return{c(){e=y("span"),l=T(t),this.h()},l(n){e=D(n,"SPAN",{class:!0});var s=I(e);l=V(s,t),s.forEach(h),this.h()},h(){w(e,"class","num-desc svelte-o8m547")},m(n,s){E(n,e,s),b(e,l)},p:B,i:B,o:B,d(n){n&&h(e)}}}function Yi(a){let e,t,l,n,s;const i=[Ri,Ui],o=[];function f(r,c){return c[0]&512&&(e=null),e==null&&(e=!!pe(r[9].selected.residents.health.values)),e?0:1}return t=f(a,[-1,-1]),l=o[t]=i[t](a),{c(){l.c(),n=M()},l(r){l.l(r),n=M()},m(r,c){o[t].m(r,c),E(r,n,c),s=!0},p(r,c){let u=t;t=f(r,c),t===u?o[t].p(r,c):(Q(),A(o[u],1,1,()=>{o[u]=null}),X(),l=o[t],l?l.p(r,c):(l=o[t]=i[t](r),l.c()),C(l,1),l.m(n.parentNode,n))},i(r){s||(C(l),s=!0)},o(r){A(l),s=!1},d(r){o[t].d(r),r&&h(n)}}}function Zi(a){let e,t,l;var n=a[8];function s(i){return{props:{data:i[9].selected&&i[14](["residents","marital"])}}}return n&&(e=new n(s(a))),{c(){e&&q(e.$$.fragment),t=M()},l(i){e&&Y(e.$$.fragment,i),t=M()},m(i,o){e&&F(e,i,o),E(i,t,o),l=!0},p(i,o){const f={};if(o[0]&512&&(f.data=i[9].selected&&i[14](["residents","marital"])),n!==(n=i[8])){if(e){Q();const r=e;A(r.$$.fragment,1,0,()=>{W(r,1)}),X()}n?(e=new n(s(i)),q(e.$$.fragment),C(e.$$.fragment,1),F(e,t.parentNode,t)):e=null}else n&&e.$set(f)},i(i){l||(e&&C(e.$$.fragment,i),l=!0)},o(i){e&&A(e.$$.fragment,i),l=!1},d(i){i&&h(t),e&&W(e,i)}}}function Ji(a){let e,t=me.nodata+"",l;return{c(){e=y("span"),l=T(t),this.h()},l(n){e=D(n,"SPAN",{class:!0});var s=I(e);l=V(s,t),s.forEach(h),this.h()},h(){w(e,"class","num-desc svelte-o8m547")},m(n,s){E(n,e,s),b(e,l)},p:B,i:B,o:B,d(n){n&&h(e)}}}function Qi(a){let e,t,l,n,s;const i=[Ji,Zi],o=[];function f(r,c){return c[0]&512&&(e=null),e==null&&(e=!!pe(r[9].selected.residents.marital.values)),e?0:1}return t=f(a,[-1,-1]),l=o[t]=i[t](a),{c(){l.c(),n=M()},l(r){l.l(r),n=M()},m(r,c){o[t].m(r,c),E(r,n,c),s=!0},p(r,c){let u=t;t=f(r,c),t===u?o[t].p(r,c):(Q(),A(o[u],1,1,()=>{o[u]=null}),X(),l=o[t],l?l.p(r,c):(l=o[t]=i[t](r),l.c()),C(l,1),l.m(n.parentNode,n))},i(r){s||(C(l),s=!0)},o(r){A(l),s=!1},d(r){o[t].d(r),r&&h(n)}}}function Xi(a){let e,t,l;var n=a[8];function s(i){return{props:{data:i[9].selected&&i[14](["residents","grade"])}}}return n&&(e=new n(s(a))),{c(){e&&q(e.$$.fragment),t=M()},l(i){e&&Y(e.$$.fragment,i),t=M()},m(i,o){e&&F(e,i,o),E(i,t,o),l=!0},p(i,o){const f={};if(o[0]&512&&(f.data=i[9].selected&&i[14](["residents","grade"])),n!==(n=i[8])){if(e){Q();const r=e;A(r.$$.fragment,1,0,()=>{W(r,1)}),X()}n?(e=new n(s(i)),q(e.$$.fragment),C(e.$$.fragment,1),F(e,t.parentNode,t)):e=null}else n&&e.$set(f)},i(i){l||(e&&C(e.$$.fragment,i),l=!0)},o(i){e&&A(e.$$.fragment,i),l=!1},d(i){i&&h(t),e&&W(e,i)}}}function $i(a){let e,t=me.nodata+"",l;return{c(){e=y("span"),l=T(t),this.h()},l(n){e=D(n,"SPAN",{class:!0});var s=I(e);l=V(s,t),s.forEach(h),this.h()},h(){w(e,"class","num-desc svelte-o8m547")},m(n,s){E(n,e,s),b(e,l)},p:B,i:B,o:B,d(n){n&&h(e)}}}function xi(a){let e,t,l,n,s;const i=[$i,Xi],o=[];function f(r,c){return c[0]&512&&(e=null),e==null&&(e=!!pe(r[9].selected.residents.grade.values)),e?0:1}return t=f(a,[-1,-1]),l=o[t]=i[t](a),{c(){l.c(),n=M()},l(r){l.l(r),n=M()},m(r,c){o[t].m(r,c),E(r,n,c),s=!0},p(r,c){let u=t;t=f(r,c),t===u?o[t].p(r,c):(Q(),A(o[u],1,1,()=>{o[u]=null}),X(),l=o[t],l?l.p(r,c):(l=o[t]=i[t](r),l.c()),C(l,1),l.m(n.parentNode,n))},i(r){s||(C(l),s=!0)},o(r){A(l),s=!1},d(r){o[t].d(r),r&&h(n)}}}function es(a){let e,t,l;var n=a[8];function s(i){return{props:{data:i[9].selected&&i[14](["residents","economic"])}}}return n&&(e=new n(s(a))),{c(){e&&q(e.$$.fragment),t=M()},l(i){e&&Y(e.$$.fragment,i),t=M()},m(i,o){e&&F(e,i,o),E(i,t,o),l=!0},p(i,o){const f={};if(o[0]&512&&(f.data=i[9].selected&&i[14](["residents","economic"])),n!==(n=i[8])){if(e){Q();const r=e;A(r.$$.fragment,1,0,()=>{W(r,1)}),X()}n?(e=new n(s(i)),q(e.$$.fragment),C(e.$$.fragment,1),F(e,t.parentNode,t)):e=null}else n&&e.$set(f)},i(i){l||(e&&C(e.$$.fragment,i),l=!0)},o(i){e&&A(e.$$.fragment,i),l=!1},d(i){i&&h(t),e&&W(e,i)}}}function ls(a){let e,t=me.nodata+"",l;return{c(){e=y("span"),l=T(t),this.h()},l(n){e=D(n,"SPAN",{class:!0});var s=I(e);l=V(s,t),s.forEach(h),this.h()},h(){w(e,"class","num-desc svelte-o8m547")},m(n,s){E(n,e,s),b(e,l)},p:B,i:B,o:B,d(n){n&&h(e)}}}function ts(a){let e,t,l,n,s;const i=[ls,es],o=[];function f(r,c){return c[0]&512&&(e=null),e==null&&(e=!!pe(r[9].selected.residents.economic.values)),e?0:1}return t=f(a,[-1,-1]),l=o[t]=i[t](a),{c(){l.c(),n=M()},l(r){l.l(r),n=M()},m(r,c){o[t].m(r,c),E(r,n,c),s=!0},p(r,c){let u=t;t=f(r,c),t===u?o[t].p(r,c):(Q(),A(o[u],1,1,()=>{o[u]=null}),X(),l=o[t],l?l.p(r,c):(l=o[t]=i[t](r),l.c()),C(l,1),l.m(n.parentNode,n))},i(r){s||(C(l),s=!0)},o(r){A(l),s=!1},d(r){o[t].d(r),r&&h(n)}}}function ns(a){let e,t,l;var n=a[8];function s(i){return{props:{data:i[9].selected&&i[14](["residents","distance"])}}}return n&&(e=new n(s(a))),{c(){e&&q(e.$$.fragment),t=M()},l(i){e&&Y(e.$$.fragment,i),t=M()},m(i,o){e&&F(e,i,o),E(i,t,o),l=!0},p(i,o){const f={};if(o[0]&512&&(f.data=i[9].selected&&i[14](["residents","distance"])),n!==(n=i[8])){if(e){Q();const r=e;A(r.$$.fragment,1,0,()=>{W(r,1)}),X()}n?(e=new n(s(i)),q(e.$$.fragment),C(e.$$.fragment,1),F(e,t.parentNode,t)):e=null}else n&&e.$set(f)},i(i){l||(e&&C(e.$$.fragment,i),l=!0)},o(i){e&&A(e.$$.fragment,i),l=!1},d(i){i&&h(t),e&&W(e,i)}}}function is(a){let e,t=me.nodata+"",l;return{c(){e=y("span"),l=T(t),this.h()},l(n){e=D(n,"SPAN",{class:!0});var s=I(e);l=V(s,t),s.forEach(h),this.h()},h(){w(e,"class","num-desc svelte-o8m547")},m(n,s){E(n,e,s),b(e,l)},p:B,i:B,o:B,d(n){n&&h(e)}}}function ss(a){let e,t,l,n,s;const i=[is,ns],o=[];function f(r,c){return c[0]&512&&(e=null),e==null&&(e=!!pe(r[9].selected.residents.distance.values)),e?0:1}return t=f(a,[-1,-1]),l=o[t]=i[t](a),{c(){l.c(),n=M()},l(r){l.l(r),n=M()},m(r,c){o[t].m(r,c),E(r,n,c),s=!0},p(r,c){let u=t;t=f(r,c),t===u?o[t].p(r,c):(Q(),A(o[u],1,1,()=>{o[u]=null}),X(),l=o[t],l?l.p(r,c):(l=o[t]=i[t](r),l.c()),C(l,1),l.m(n.parentNode,n))},i(r){s||(C(l),s=!0)},o(r){A(l),s=!1},d(r){o[t].d(r),r&&h(n)}}}function as(a){let e,t,l;var n=a[8];function s(i){return{props:{data:i[9].selected&&i[14](["residents","travel"])}}}return n&&(e=new n(s(a))),{c(){e&&q(e.$$.fragment),t=M()},l(i){e&&Y(e.$$.fragment,i),t=M()},m(i,o){e&&F(e,i,o),E(i,t,o),l=!0},p(i,o){const f={};if(o[0]&512&&(f.data=i[9].selected&&i[14](["residents","travel"])),n!==(n=i[8])){if(e){Q();const r=e;A(r.$$.fragment,1,0,()=>{W(r,1)}),X()}n?(e=new n(s(i)),q(e.$$.fragment),C(e.$$.fragment,1),F(e,t.parentNode,t)):e=null}else n&&e.$set(f)},i(i){l||(e&&C(e.$$.fragment,i),l=!0)},o(i){e&&A(e.$$.fragment,i),l=!1},d(i){i&&h(t),e&&W(e,i)}}}function os(a){let e,t=me.nodata+"",l;return{c(){e=y("span"),l=T(t),this.h()},l(n){e=D(n,"SPAN",{class:!0});var s=I(e);l=V(s,t),s.forEach(h),this.h()},h(){w(e,"class","num-desc svelte-o8m547")},m(n,s){E(n,e,s),b(e,l)},p:B,i:B,o:B,d(n){n&&h(e)}}}function fs(a){let e,t,l,n,s;const i=[os,as],o=[];function f(r,c){return c[0]&512&&(e=null),e==null&&(e=!!pe(r[9].selected.residents.travel.values)),e?0:1}return t=f(a,[-1,-1]),l=o[t]=i[t](a),{c(){l.c(),n=M()},l(r){l.l(r),n=M()},m(r,c){o[t].m(r,c),E(r,n,c),s=!0},p(r,c){let u=t;t=f(r,c),t===u?o[t].p(r,c):(Q(),A(o[u],1,1,()=>{o[u]=null}),X(),l=o[t],l?l.p(r,c):(l=o[t]=i[t](r),l.c()),C(l,1),l.m(n.parentNode,n))},i(r){s||(C(l),s=!0)},o(r){A(l),s=!1},d(r){o[t].d(r),r&&h(n)}}}function rs(a){let e,t,l;var n=a[8];function s(i){return{props:{data:i[9].selected&&i[14](["households","housing"])}}}return n&&(e=new n(s(a))),{c(){e&&q(e.$$.fragment),t=M()},l(i){e&&Y(e.$$.fragment,i),t=M()},m(i,o){e&&F(e,i,o),E(i,t,o),l=!0},p(i,o){const f={};if(o[0]&512&&(f.data=i[9].selected&&i[14](["households","housing"])),n!==(n=i[8])){if(e){Q();const r=e;A(r.$$.fragment,1,0,()=>{W(r,1)}),X()}n?(e=new n(s(i)),q(e.$$.fragment),C(e.$$.fragment,1),F(e,t.parentNode,t)):e=null}else n&&e.$set(f)},i(i){l||(e&&C(e.$$.fragment,i),l=!0)},o(i){e&&A(e.$$.fragment,i),l=!1},d(i){i&&h(t),e&&W(e,i)}}}function cs(a){let e,t=me.nodata+"",l;return{c(){e=y("span"),l=T(t),this.h()},l(n){e=D(n,"SPAN",{class:!0});var s=I(e);l=V(s,t),s.forEach(h),this.h()},h(){w(e,"class","num-desc svelte-o8m547")},m(n,s){E(n,e,s),b(e,l)},p:B,i:B,o:B,d(n){n&&h(e)}}}function us(a){let e,t,l,n,s;const i=[cs,rs],o=[];function f(r,c){return c[0]&512&&(e=null),e==null&&(e=!!pe(r[9].selected.households.housing.values)),e?0:1}return t=f(a,[-1,-1]),l=o[t]=i[t](a),{c(){l.c(),n=M()},l(r){l.l(r),n=M()},m(r,c){o[t].m(r,c),E(r,n,c),s=!0},p(r,c){let u=t;t=f(r,c),t===u?o[t].p(r,c):(Q(),A(o[u],1,1,()=>{o[u]=null}),X(),l=o[t],l?l.p(r,c):(l=o[t]=i[t](r),l.c()),C(l,1),l.m(n.parentNode,n))},i(r){s||(C(l),s=!0)},o(r){A(l),s=!1},d(r){o[t].d(r),r&&h(n)}}}function _s(a){let e,t,l;var n=a[8];function s(i){return{props:{data:i[9].selected&&i[14](["households","tenure"])}}}return n&&(e=new n(s(a))),{c(){e&&q(e.$$.fragment),t=M()},l(i){e&&Y(e.$$.fragment,i),t=M()},m(i,o){e&&F(e,i,o),E(i,t,o),l=!0},p(i,o){const f={};if(o[0]&512&&(f.data=i[9].selected&&i[14](["households","tenure"])),n!==(n=i[8])){if(e){Q();const r=e;A(r.$$.fragment,1,0,()=>{W(r,1)}),X()}n?(e=new n(s(i)),q(e.$$.fragment),C(e.$$.fragment,1),F(e,t.parentNode,t)):e=null}else n&&e.$set(f)},i(i){l||(e&&C(e.$$.fragment,i),l=!0)},o(i){e&&A(e.$$.fragment,i),l=!1},d(i){i&&h(t),e&&W(e,i)}}}function hs(a){let e,t=me.nodata+"",l;return{c(){e=y("span"),l=T(t),this.h()},l(n){e=D(n,"SPAN",{class:!0});var s=I(e);l=V(s,t),s.forEach(h),this.h()},h(){w(e,"class","num-desc svelte-o8m547")},m(n,s){E(n,e,s),b(e,l)},p:B,i:B,o:B,d(n){n&&h(e)}}}function ds(a){let e,t,l,n,s;const i=[hs,_s],o=[];function f(r,c){return c[0]&512&&(e=null),e==null&&(e=!!pe(r[9].selected.households.tenure.values)),e?0:1}return t=f(a,[-1,-1]),l=o[t]=i[t](a),{c(){l.c(),n=M()},l(r){l.l(r),n=M()},m(r,c){o[t].m(r,c),E(r,n,c),s=!0},p(r,c){let u=t;t=f(r,c),t===u?o[t].p(r,c):(Q(),A(o[u],1,1,()=>{o[u]=null}),X(),l=o[t],l?l.p(r,c):(l=o[t]=i[t](r),l.c()),C(l,1),l.m(n.parentNode,n))},i(r){s||(C(l),s=!0)},o(r){A(l),s=!1},d(r){o[t].d(r),r&&h(n)}}}function ms(a){let e,t,l,n,s,i,o,f,r,c,u,_,m,v,g,p;return e=new ue({props:{title:"General health",$$slots:{default:[Yi]},$$scope:{ctx:a}}}),l=new ue({props:{title:"Marital status",$$slots:{default:[Qi]},$$scope:{ctx:a}}}),s=new ue({props:{title:"Social grade",$$slots:{default:[xi]},$$scope:{ctx:a}}}),o=new ue({props:{title:"Economic activity",$$slots:{default:[ts]},$$scope:{ctx:a}}}),r=new ue({props:{title:"Distance to work (km)",$$slots:{default:[ss]},$$scope:{ctx:a}}}),u=new ue({props:{title:"Mode of travel to work",$$slots:{default:[fs]},$$scope:{ctx:a}}}),m=new ue({props:{title:"Type of housing",$$slots:{default:[us]},$$scope:{ctx:a}}}),g=new ue({props:{title:"Tenure of housing",$$slots:{default:[ds]},$$scope:{ctx:a}}}),{c(){q(e.$$.fragment),t=P(),q(l.$$.fragment),n=P(),q(s.$$.fragment),i=P(),q(o.$$.fragment),f=P(),q(r.$$.fragment),c=P(),q(u.$$.fragment),_=P(),q(m.$$.fragment),v=P(),q(g.$$.fragment)},l(d){Y(e.$$.fragment,d),t=L(d),Y(l.$$.fragment,d),n=L(d),Y(s.$$.fragment,d),i=L(d),Y(o.$$.fragment,d),f=L(d),Y(r.$$.fragment,d),c=L(d),Y(u.$$.fragment,d),_=L(d),Y(m.$$.fragment,d),v=L(d),Y(g.$$.fragment,d)},m(d,k){F(e,d,k),E(d,t,k),F(l,d,k),E(d,n,k),F(s,d,k),E(d,i,k),F(o,d,k),E(d,f,k),F(r,d,k),E(d,c,k),F(u,d,k),E(d,_,k),F(m,d,k),E(d,v,k),F(g,d,k),p=!0},p(d,k){const S={};k[0]&768|k[1]&32768&&(S.$$scope={dirty:k,ctx:d}),e.$set(S);const N={};k[0]&768|k[1]&32768&&(N.$$scope={dirty:k,ctx:d}),l.$set(N);const K={};k[0]&768|k[1]&32768&&(K.$$scope={dirty:k,ctx:d}),s.$set(K);const U={};k[0]&768|k[1]&32768&&(U.$$scope={dirty:k,ctx:d}),o.$set(U);const R={};k[0]&768|k[1]&32768&&(R.$$scope={dirty:k,ctx:d}),r.$set(R);const Z={};k[0]&768|k[1]&32768&&(Z.$$scope={dirty:k,ctx:d}),u.$set(Z);const O={};k[0]&768|k[1]&32768&&(O.$$scope={dirty:k,ctx:d}),m.$set(O);const J={};k[0]&768|k[1]&32768&&(J.$$scope={dirty:k,ctx:d}),g.$set(J)},i(d){p||(C(e.$$.fragment,d),C(l.$$.fragment,d),C(s.$$.fragment,d),C(o.$$.fragment,d),C(r.$$.fragment,d),C(u.$$.fragment,d),C(m.$$.fragment,d),C(g.$$.fragment,d),p=!0)},o(d){A(e.$$.fragment,d),A(l.$$.fragment,d),A(s.$$.fragment,d),A(o.$$.fragment,d),A(r.$$.fragment,d),A(u.$$.fragment,d),A(m.$$.fragment,d),A(g.$$.fragment,d),p=!1},d(d){W(e,d),d&&h(t),W(l,d),d&&h(n),W(s,d),d&&h(i),W(o,d),d&&h(f),W(r,d),d&&h(c),W(u,d),d&&h(_),W(m,d),d&&h(v),W(g,d)}}}function gs(a){let e,t,l,n,s,i,o,f,r,c,u,_,m,v,g,p,d;return{c(){e=y("span"),t=y("strong"),l=T("Chart type:"),n=P(),s=y("label"),i=y("input"),o=T("Comparison marker"),f=P(),r=y("label"),c=y("input"),u=T("Grouped bar"),_=P(),m=y("label"),v=y("input"),g=T("Stacked bar"),this.h()},l(k){e=D(k,"SPAN",{slot:!0});var S=I(e);t=D(S,"STRONG",{});var N=I(t);l=V(N,"Chart type:"),N.forEach(h),n=L(S),s=D(S,"LABEL",{});var K=I(s);i=D(K,"INPUT",{type:!0,name:!0}),o=V(K,"Comparison marker"),K.forEach(h),f=L(S),r=D(S,"LABEL",{});var U=I(r);c=D(U,"INPUT",{type:!0,name:!0}),u=V(U,"Grouped bar"),U.forEach(h),_=L(S),m=D(S,"LABEL",{});var R=I(m);v=D(R,"INPUT",{type:!0,name:!0}),g=V(R,"Stacked bar"),R.forEach(h),S.forEach(h),this.h()},h(){w(i,"type","radio"),w(i,"name","chart-type"),i.__value=Bt,i.value=i.__value,a[33][0].push(i),w(c,"type","radio"),w(c,"name","chart-type"),c.__value=$n,c.value=c.__value,a[33][0].push(c),w(v,"type","radio"),w(v,"name","chart-type"),v.__value=ti,v.value=v.__value,a[33][0].push(v),w(e,"slot","meta"),z(e,"margin-left","10px",!1)},m(k,S){E(k,e,S),b(e,t),b(t,l),b(e,n),b(e,s),b(s,i),i.checked=i.__value===a[8],b(s,o),b(e,f),b(e,r),b(r,c),c.checked=c.__value===a[8],b(r,u),b(e,_),b(e,m),b(m,v),v.checked=v.__value===a[8],b(m,g),p||(d=[Ae(i,"change",a[32]),Ae(c,"change",a[34]),Ae(v,"change",a[35])],p=!0)},p(k,S){S[0]&256&&(i.checked=i.__value===k[8]),S[0]&256&&(c.checked=c.__value===k[8]),S[0]&256&&(v.checked=v.__value===k[8])},d(k){k&&h(e),a[33][0].splice(a[33][0].indexOf(i),1),a[33][0].splice(a[33][0].indexOf(c),1),a[33][0].splice(a[33][0].indexOf(v),1),p=!1,zt(d)}}}function vs(a){let e,t,l,n,s,i;return e=new Ge({props:{title:"Demographics",$$slots:{default:[Li]},$$scope:{ctx:a}}}),l=new Ge({props:{title:"Population by area",$$slots:{default:[Gi]},$$scope:{ctx:a}}}),s=new Ge({props:{title:"Key indicators",$$slots:{meta:[gs],default:[ms]},$$scope:{ctx:a}}}),{c(){q(e.$$.fragment),t=P(),q(l.$$.fragment),n=P(),q(s.$$.fragment)},l(o){Y(e.$$.fragment,o),t=L(o),Y(l.$$.fragment,o),n=L(o),Y(s.$$.fragment,o)},m(o,f){F(e,o,f),E(o,t,f),F(l,o,f),E(o,n,f),F(s,o,f),i=!0},p(o,f){const r={};f[0]&1536|f[1]&32768&&(r.$$scope={dirty:f,ctx:o}),e.$set(r);const c={};f[0]&531|f[1]&32768&&(c.$$scope={dirty:f,ctx:o}),l.$set(c);const u={};f[0]&768|f[1]&32768&&(u.$$scope={dirty:f,ctx:o}),s.$set(u)},i(o){i||(C(e.$$.fragment,o),C(l.$$.fragment,o),C(s.$$.fragment,o),i=!0)},o(o){A(e.$$.fragment,o),A(l.$$.fragment,o),A(s.$$.fragment,o),i=!1},d(o){W(e,o),o&&h(t),W(l,o),o&&h(n),W(s,o)}}}function bs(a){let e,t,l,n,s,i,o,f,r,c,u,_,m;return c=new Ln({props:{background:"none",breadcrumb:[{label:"Census",url:"/census"},{label:"Population Group Profiles"}],$$slots:{meta:[Di],default:[wi]},$$scope:{ctx:a}}}),_=new di({props:{$$slots:{default:[vs]},$$scope:{ctx:a}}}),{c(){e=y("meta"),t=y("meta"),l=y("meta"),n=y("meta"),s=y("meta"),i=y("meta"),o=y("meta"),f=P(),r=y("main"),q(c.$$.fragment),u=P(),q(_.$$.fragment),this.h()},l(v){const g=Xt('[data-svelte="svelte-1z0vru4"]',document.head);e=D(g,"META",{name:!0,content:!0}),t=D(g,"META",{property:!0,content:!0}),l=D(g,"META",{property:!0,content:!0}),n=D(g,"META",{property:!0,content:!0}),s=D(g,"META",{property:!0,content:!0}),i=D(g,"META",{property:!0,content:!0}),o=D(g,"META",{name:!0,content:!0}),g.forEach(h),f=L(v),r=D(v,"MAIN",{id:!0,tabindex:!0});var p=I(r);Y(c.$$.fragment,p),u=L(p),Y(_.$$.fragment,p),p.forEach(h),this.h()},h(){document.title="Census Population Group Profiles",w(e,"name","description"),w(e,"content",""),w(t,"property","og:title"),w(t,"content","Census Population Group Profiles"),w(l,"property","og:type"),w(l,"content","website"),w(n,"property","og:url"),w(n,"content",Vt+"/"),w(s,"property","og:image:type"),w(s,"content","image/jpeg"),w(i,"property","og:description"),w(i,"content",""),w(o,"name","description"),w(o,"content",""),w(r,"id","main"),w(r,"tabindex","-1")},m(v,g){b(document.head,e),b(document.head,t),b(document.head,l),b(document.head,n),b(document.head,s),b(document.head,i),b(document.head,o),E(v,f,g),E(v,r,g),F(c,r,null),b(r,u),F(_,r,null),m=!0},p(v,g){const p={};g[0]&2285|g[1]&32768&&(p.$$scope={dirty:g,ctx:v}),c.$set(p);const d={};g[0]&1811|g[1]&32768&&(d.$$scope={dirty:g,ctx:v}),_.$set(d)},i(v){m||(C(c.$$.fragment,v),C(_.$$.fragment,v),m=!0)},o(v){A(c.$$.fragment,v),A(_.$$.fragment,v),m=!1},d(v){h(e),h(t),h(l),h(n),h(s),h(i),h(o),v&&h(f),v&&h(r),W(c),W(_)}}}const Ss=!0;async function Ns({fetch:a}){let e=await rn(Vt+Le.url,Le.layer,a),t={};e.features.forEach(_=>t[_.properties[Le.code]]=_.properties[Le.name]);let l=await Mt(Pt,[],a),n=Re(l.data.residents.health.values),s=l.data,i=await jt([],a),o=[],r=i.data.dataset.table.dimensions[0].categories.map(_=>_.code.slice(-9)),c=i.data.dataset.table.values,u={};return r.forEach((_,m)=>{u[_]=c[m]}),r.forEach(_=>{o.push({code:_,name:t[_],value:100})}),o.forEach(_=>_.color=Ee.seq[4]),{props:{geojson:e,geoLookup:t,sumAll:n,dataAll:s,geoAll:u,geoCodes:r,geoPerc:o}}}let ps="light";const yt=(a,e)=>e.value-a.value,Dt=a=>a.value!=null,It=(a,e)=>e.value-a.value,St=a=>a.value!=null;function ks(a,e,t){let l,n;Ct(a,un,H=>t(36,n=H));let{geojson:s,geoLookup:i,sumAll:o,dataAll:f,geoAll:r,geoCodes:c,geoPerc:u}=e;Pe("theme",ln[ps]);let _=null,m=null,v={},g=[];We.forEach(H=>{t(3,v[H.label]=H.cats[0],v)});let p=null,d="success",k=!1,S=0,N=Bt,K={all:f,selected:f,geojson:s,geoLookup:i,geoCodes:c,geoAll:r,geoPerc:u,geoBreaks:[0,100]},U={all:o,selected:o};function R(H){t(0,g=[...g,Ne({topic:m.label,key:m.key},v[H])]),ll(`${xe}?${g.map(ee=>`${ee.key}=${ee.code}`).join("&")}`,{noscroll:!0}),t(2,m=null)}function Z(H){t(0,g=g.filter(ee=>ee.topic!=H)),ll(`${xe}?${g.map(ee=>`${ee.key}=${ee.code}`).join("&")}`,{noscroll:!0})}function O(){t(5,d="loading"),g&&g.map(H=>H.code).includes("0-15")?t(6,k=!0):t(6,k=!1),Mt(Pt,g).then(H=>{H.data.residents.age.values?(t(10,U.selected=Re(H.data.residents.health.values),U),t(9,K.selected=H.data,K),jt(g).then(ee=>{let oe=[],re=null;if(ee.data.dataset.table.dimensions){let he=ee.data.dataset.table.dimensions[0].categories.map(fe=>fe.code.slice(-9)),Me=ee.data.dataset.table.values,Te={};he.forEach((fe,je)=>{Te[fe]=Me[je]}),K.geoCodes.forEach(fe=>{oe.push({code:fe,name:K.geoLookup[fe],value:Te[fe]?Te[fe]/K.geoAll[fe]*100:null})});let be=oe.map(fe=>fe.value).filter(fe=>fe!=null);re=be[4]?en(be,5):null}else K.geoCodes.forEach(te=>{oe.push({code:te,name:K.geoLookup[te],value:null})});if(re==null)oe.forEach(te=>te.color=Ee.nodata),t(9,K.geoBreaks=[0,100],K);else if(!re[1])oe.forEach(te=>te.color=Ee.seq[4]),t(9,K.geoBreaks=[0,100],K);else{let te=[];re.forEach(he=>te.push(he[0])),te.push(re[re.length-1][re[re.length-1].length-1]),te[te.length-1]==te[te.length-2]&&te.pop(),oe.forEach(he=>he.color=he.value?fn(he.value,te,Ee.seq):Ee.nodata),t(9,K.geoBreaks=te,K)}t(9,K.geoPerc=oe,K),t(7,S=g.length),t(5,d="success")})):t(5,d="failed")})}function J(H){let ee=H[0],oe=H[1],re=K.all[ee][oe].values,te=K.selected[ee][oe].values,he=[],Me=0,Te=0;return tn[oe].forEach(be=>{let fe=be.label,je=0,Ze=0;be.cells.forEach(Be=>{je+=re[Be],Me+=re[Be],Ze+=te[Be],Te+=te[Be]}),U.selected!=U.all&&he.push({group:"This group",category:fe,count:Ze}),he.push({group:"Whole population",category:fe,count:je})}),he.forEach((be,fe)=>{U.selected!=U.all&&fe%2==0?be.value=be.count/Te*100:be.value=be.count/Me*100}),he}function ke(H){let ee=H.residents.age.values,oe=Re(ee),re=0,te=0;for(;te<oe/2;)te+=ee[re],re+=1;return re-1}_n(()=>{t(0,g=[]);for(let H of n.url.searchParams.entries()){let ee=We.find(oe=>oe.key==H[0]);if(ee){let oe=ee.cats.find(re=>re.code==H[1]);oe&&g.push(Ne({topic:ee.label,key:ee.key},oe))}}O()});const ne=[[]];function x(){m=$e(this),t(2,m),t(11,l),t(0,g)}const ge=H=>nn;function $(){v[m.label]=$e(this),t(3,v),t(2,m)}const ve=()=>R(m.label),we=H=>Z(H.topic);function Ce(H){p=H,t(4,p)}function ze(H){_=H,t(1,_)}const Fe=H=>H.code==p,j=H=>H.code==p;function ce(){N=this.__value,t(8,N)}function Ht(){N=this.__value,t(8,N)}function qt(){N=this.__value,t(8,N)}return a.$$set=H=>{"geojson"in H&&t(16,s=H.geojson),"geoLookup"in H&&t(17,i=H.geoLookup),"sumAll"in H&&t(18,o=H.sumAll),"dataAll"in H&&t(19,f=H.dataAll),"geoAll"in H&&t(20,r=H.geoAll),"geoCodes"in H&&t(21,c=H.geoCodes),"geoPerc"in H&&t(22,u=H.geoPerc)},a.$$.update=()=>{a.$$.dirty[0]&1&&t(11,l=We.filter(H=>!g.map(ee=>ee.topic).includes(H.label)))},[g,_,m,v,p,d,k,S,N,K,U,l,R,Z,J,ke,s,i,o,f,r,c,u,x,ge,$,ve,we,Ce,ze,Fe,j,ce,ne,Ht,qt]}class Cs extends ie{constructor(e){super();se(this,e,ks,bs,ae,{geojson:16,geoLookup:17,sumAll:18,dataAll:19,geoAll:20,geoCodes:21,geoPerc:22},null,[-1,-1])}}export{Cs as default,Ns as load,Ss as prerender};
